(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var eh={exports:{}},Qo={},th={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function Fv(){if(Cp)return Re;Cp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=R&&N[R]||N["@@iterator"],typeof N=="function"?N:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function U(N,Q,he){this.props=N,this.context=Q,this.refs=$,this.updater=he||L}U.prototype.isReactComponent={},U.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function H(){}H.prototype=U.prototype;function K(N,Q,he){this.props=N,this.context=Q,this.refs=$,this.updater=he||L}var ne=K.prototype=new H;ne.constructor=K,B(ne,U.prototype),ne.isPureReactComponent=!0;var ce=Array.isArray,Ae=Object.prototype.hasOwnProperty,Te={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(N,Q,he){var Se,Ie={},xe=null,Me=null;if(Q!=null)for(Se in Q.ref!==void 0&&(Me=Q.ref),Q.key!==void 0&&(xe=""+Q.key),Q)Ae.call(Q,Se)&&!x.hasOwnProperty(Se)&&(Ie[Se]=Q[Se]);var Fe=arguments.length-2;if(Fe===1)Ie.children=he;else if(1<Fe){for(var je=Array(Fe),gt=0;gt<Fe;gt++)je[gt]=arguments[gt+2];Ie.children=je}if(N&&N.defaultProps)for(Se in Fe=N.defaultProps,Fe)Ie[Se]===void 0&&(Ie[Se]=Fe[Se]);return{$$typeof:i,type:N,key:xe,ref:Me,props:Ie,_owner:Te.current}}function I(N,Q){return{$$typeof:i,type:N.type,key:Q,ref:N.ref,props:N.props,_owner:N._owner}}function k(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function D(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return Q[he]})}var O=/\/+/g;function A(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):Q.toString(36)}function tt(N,Q,he,Se,Ie){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var Me=!1;if(N===null)Me=!0;else switch(xe){case"string":case"number":Me=!0;break;case"object":switch(N.$$typeof){case i:case e:Me=!0}}if(Me)return Me=N,Ie=Ie(Me),N=Se===""?"."+A(Me,0):Se,ce(Ie)?(he="",N!=null&&(he=N.replace(O,"$&/")+"/"),tt(Ie,Q,he,"",function(gt){return gt})):Ie!=null&&(k(Ie)&&(Ie=I(Ie,he+(!Ie.key||Me&&Me.key===Ie.key?"":(""+Ie.key).replace(O,"$&/")+"/")+N)),Q.push(Ie)),1;if(Me=0,Se=Se===""?".":Se+":",ce(N))for(var Fe=0;Fe<N.length;Fe++){xe=N[Fe];var je=Se+A(xe,Fe);Me+=tt(xe,Q,he,je,Ie)}else if(je=C(N),typeof je=="function")for(N=je.call(N),Fe=0;!(xe=N.next()).done;)xe=xe.value,je=Se+A(xe,Fe++),Me+=tt(xe,Q,he,je,Ie);else if(xe==="object")throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Me}function kt(N,Q,he){if(N==null)return N;var Se=[],Ie=0;return tt(N,Se,"","",function(xe){return Q.call(he,xe,Ie++)}),Se}function xt(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var Be={current:null},te={transition:null},fe={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:te,ReactCurrentOwner:Te};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:kt,forEach:function(N,Q,he){kt(N,function(){Q.apply(this,arguments)},he)},count:function(N){var Q=0;return kt(N,function(){Q++}),Q},toArray:function(N){return kt(N,function(Q){return Q})||[]},only:function(N){if(!k(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=U,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=K,Re.StrictMode=s,Re.Suspense=g,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Re.act=ie,Re.cloneElement=function(N,Q,he){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Se=B({},N.props),Ie=N.key,xe=N.ref,Me=N._owner;if(Q!=null){if(Q.ref!==void 0&&(xe=Q.ref,Me=Te.current),Q.key!==void 0&&(Ie=""+Q.key),N.type&&N.type.defaultProps)var Fe=N.type.defaultProps;for(je in Q)Ae.call(Q,je)&&!x.hasOwnProperty(je)&&(Se[je]=Q[je]===void 0&&Fe!==void 0?Fe[je]:Q[je])}var je=arguments.length-2;if(je===1)Se.children=he;else if(1<je){Fe=Array(je);for(var gt=0;gt<je;gt++)Fe[gt]=arguments[gt+2];Se.children=Fe}return{$$typeof:i,type:N.type,key:Ie,ref:xe,props:Se,_owner:Me}},Re.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},Re.createElement=T,Re.createFactory=function(N){var Q=T.bind(null,N);return Q.type=N,Q},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=k,Re.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:xt}},Re.memo=function(N,Q){return{$$typeof:v,type:N,compare:Q===void 0?null:Q}},Re.startTransition=function(N){var Q=te.transition;te.transition={};try{N()}finally{te.transition=Q}},Re.unstable_act=ie,Re.useCallback=function(N,Q){return Be.current.useCallback(N,Q)},Re.useContext=function(N){return Be.current.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N){return Be.current.useDeferredValue(N)},Re.useEffect=function(N,Q){return Be.current.useEffect(N,Q)},Re.useId=function(){return Be.current.useId()},Re.useImperativeHandle=function(N,Q,he){return Be.current.useImperativeHandle(N,Q,he)},Re.useInsertionEffect=function(N,Q){return Be.current.useInsertionEffect(N,Q)},Re.useLayoutEffect=function(N,Q){return Be.current.useLayoutEffect(N,Q)},Re.useMemo=function(N,Q){return Be.current.useMemo(N,Q)},Re.useReducer=function(N,Q,he){return Be.current.useReducer(N,Q,he)},Re.useRef=function(N){return Be.current.useRef(N)},Re.useState=function(N){return Be.current.useState(N)},Re.useSyncExternalStore=function(N,Q,he){return Be.current.useSyncExternalStore(N,Q,he)},Re.useTransition=function(){return Be.current.useTransition()},Re.version="18.3.1",Re}var Pp;function Uh(){return Pp||(Pp=1,th.exports=Fv()),th.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function Uv(){if(kp)return Qo;kp=1;var i=Uh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,v){var w,R={},C=null,L=null;v!==void 0&&(C=""+v),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(L=g.ref);for(w in g)s.call(g,w)&&!c.hasOwnProperty(w)&&(R[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)R[w]===void 0&&(R[w]=g[w]);return{$$typeof:e,type:m,key:C,ref:L,props:R,_owner:a.current}}return Qo.Fragment=n,Qo.jsx=h,Qo.jsxs=h,Qo}var xp;function zv(){return xp||(xp=1,eh.exports=Uv()),eh.exports}var Ee=zv(),q=Uh(),Ml={},nh={exports:{}},Gt={},rh={exports:{}},ih={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function Bv(){return Vp||(Vp=1,function(i){function e(te,fe){var ie=te.length;te.push(fe);e:for(;0<ie;){var N=ie-1>>>1,Q=te[N];if(0<a(Q,fe))te[N]=fe,te[ie]=Q,ie=N;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var fe=te[0],ie=te.pop();if(ie!==fe){te[0]=ie;e:for(var N=0,Q=te.length,he=Q>>>1;N<he;){var Se=2*(N+1)-1,Ie=te[Se],xe=Se+1,Me=te[xe];if(0>a(Ie,ie))xe<Q&&0>a(Me,Ie)?(te[N]=Me,te[xe]=ie,N=xe):(te[N]=Ie,te[Se]=ie,N=Se);else if(xe<Q&&0>a(Me,ie))te[N]=Me,te[xe]=ie,N=xe;else break e}}return fe}function a(te,fe){var ie=te.sortIndex-fe.sortIndex;return ie!==0?ie:te.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],v=[],w=1,R=null,C=3,L=!1,B=!1,$=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(te){for(var fe=n(v);fe!==null;){if(fe.callback===null)s(v);else if(fe.startTime<=te)s(v),fe.sortIndex=fe.expirationTime,e(g,fe);else break;fe=n(v)}}function ce(te){if($=!1,ne(te),!B)if(n(g)!==null)B=!0,xt(Ae);else{var fe=n(v);fe!==null&&Be(ce,fe.startTime-te)}}function Ae(te,fe){B=!1,$&&($=!1,H(T),T=-1),L=!0;var ie=C;try{for(ne(fe),R=n(g);R!==null&&(!(R.expirationTime>fe)||te&&!D());){var N=R.callback;if(typeof N=="function"){R.callback=null,C=R.priorityLevel;var Q=N(R.expirationTime<=fe);fe=i.unstable_now(),typeof Q=="function"?R.callback=Q:R===n(g)&&s(g),ne(fe)}else s(g);R=n(g)}if(R!==null)var he=!0;else{var Se=n(v);Se!==null&&Be(ce,Se.startTime-fe),he=!1}return he}finally{R=null,C=ie,L=!1}}var Te=!1,x=null,T=-1,I=5,k=-1;function D(){return!(i.unstable_now()-k<I)}function O(){if(x!==null){var te=i.unstable_now();k=te;var fe=!0;try{fe=x(!0,te)}finally{fe?A():(Te=!1,x=null)}}else Te=!1}var A;if(typeof K=="function")A=function(){K(O)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=O,A=function(){kt.postMessage(null)}}else A=function(){U(O,0)};function xt(te){x=te,Te||(Te=!0,A())}function Be(te,fe){T=U(function(){te(i.unstable_now())},fe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){B||L||(B=!0,xt(Ae))},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(te){switch(C){case 1:case 2:case 3:var fe=3;break;default:fe=C}var ie=C;C=fe;try{return te()}finally{C=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ie=C;C=te;try{return fe()}finally{C=ie}},i.unstable_scheduleCallback=function(te,fe,ie){var N=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?N+ie:N):ie=N,te){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ie+Q,te={id:w++,callback:fe,priorityLevel:te,startTime:ie,expirationTime:Q,sortIndex:-1},ie>N?(te.sortIndex=ie,e(v,te),n(g)===null&&te===n(v)&&($?(H(T),T=-1):$=!0,Be(ce,ie-N))):(te.sortIndex=Q,e(g,te),B||L||(B=!0,xt(Ae))),te},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(te){var fe=C;return function(){var ie=C;C=fe;try{return te.apply(this,arguments)}finally{C=ie}}}}(ih)),ih}var Dp;function bv(){return Dp||(Dp=1,rh.exports=Bv()),rh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function jv(){if(Np)return Gt;Np=1;var i=Uh(),e=bv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function C(t){return g.call(R,t)?!0:g.call(w,t)?!1:v.test(t)?R[t]=!0:(w[t]=!0,!1)}function L(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B(t,r,o,u){if(r===null||typeof r>"u"||L(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,u,d,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){U[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];U[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){U[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){U[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){U[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){U[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){U[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){U[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){U[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function K(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(H,K);U[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(H,K);U[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(H,K);U[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){U[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),U.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){U[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function ne(t,r,o,u){var d=U.hasOwnProperty(r)?U[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(B(r,o,d,u)&&(o=null),u||d===null?C(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,u=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var ce=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ae=Symbol.for("react.element"),Te=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),te=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,N;function Q(t){if(N===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var he=!1;function Se(t,r){if(!t||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(b){var u=b}Reflect.construct(t,[],r)}else{try{r.call()}catch(b){u=b}t.call(r.prototype)}else{try{throw Error()}catch(b){u=b}t()}}catch(b){if(b&&u&&typeof b.stack=="string"){for(var d=b.stack.split(`
`),p=u.stack.split(`
`),_=d.length-1,S=p.length-1;1<=_&&0<=S&&d[_]!==p[S];)S--;for(;1<=_&&0<=S;_--,S--)if(d[_]!==p[S]){if(_!==1||S!==1)do if(_--,S--,0>S||d[_]!==p[S]){var P=`
`+d[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=S);break}}}finally{he=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Q(t):""}function Ie(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Se(t.type,!1),t;case 11:return t=Se(t.type.render,!1),t;case 1:return t=Se(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case Te:return"Portal";case I:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=je(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Xn(t){t._valueTracker||(t._valueTracker=gt(t))}function Bi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=je(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ni(t,r){var o=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function bi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Js(t,r){r=r.checked,r!=null&&ne(t,"checked",r,!1)}function Zs(t,r){Js(t,r);var o=Fe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ji(t,r.type,o):r.hasOwnProperty("defaultValue")&&ji(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function wa(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ji(t,r,o){(r!=="number"||wr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Yn=Array.isArray;function Jn(t,r,o,u){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function eo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $i(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Yn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function qi(t,r){var o=Fe(r.value),u=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function to(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zn,no=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,d)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Tr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ii=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(t){ii.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ri[r]=ri[t]})});function ro(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ri.hasOwnProperty(t)&&ri[t]?(""+r).trim():r+"px"}function io(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=ro(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,d):t[o]=d}}var so=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oo(t,r){if(r){if(so[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ao(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var si=null;function Hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wi=null,on=null,Nn=null;function Qi(t){if(t=Do(t)){if(typeof Wi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ya(r),Wi(t.stateNode,t.type,r))}}function Ln(t){on?Nn?Nn.push(t):Nn=[t]:on=t}function lo(){if(on){var t=on,r=Nn;if(Nn=on=null,Qi(t),r)for(t=0;t<r.length;t++)Qi(r[t])}}function oi(t,r){return t(r)}function uo(){}var er=!1;function co(t,r,o){if(er)return t(r,o);er=!0;try{return oi(t,r,o)}finally{er=!1,(on!==null||Nn!==null)&&(uo(),lo())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var u=Ya(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Ki=!1;if(m)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Ki=!1}function ai(t,r,o,u,d,p,_,S,P){var b=Array.prototype.slice.call(arguments,3);try{r.apply(o,b)}catch(X){this.onError(X)}}var li=!1,Gi=null,vn=!1,ho=null,Pu={onError:function(t){li=!0,Gi=t}};function Xi(t,r,o,u,d,p,_,S,P){li=!1,Gi=null,ai.apply(Pu,arguments)}function Ta(t,r,o,u,d,p,_,S,P){if(Xi.apply(this,arguments),li){if(li){var b=Gi;li=!1,Gi=null}else throw Error(n(198));vn||(vn=!0,ho=b)}}function _n(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ui(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(_n(t)!==t)throw Error(n(188))}function Sa(t){var r=t.alternate;if(!r){if(r=_n(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return En(d),t;if(p===u)return En(d),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=d,u=p;else{for(var _=!1,S=d.child;S;){if(S===o){_=!0,o=d,u=p;break}if(S===u){_=!0,u=d,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,u=d;break}if(S===u){_=!0,u=p,o=d;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function fo(t){return t=Sa(t),t!==null?Yi(t):null}function Yi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Yi(t);if(r!==null)return r;t=t.sibling}return null}var Ji=e.unstable_scheduleCallback,po=e.unstable_cancelCallback,Ia=e.unstable_shouldYield,ku=e.unstable_requestPaint,$e=e.unstable_now,Ra=e.unstable_getCurrentPriorityLevel,ci=e.unstable_ImmediatePriority,Sr=e.unstable_UserBlockingPriority,an=e.unstable_NormalPriority,mo=e.unstable_LowPriority,Aa=e.unstable_IdlePriority,hi=null,Yt=null;function Ca(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(hi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:ka,go=Math.log,Pa=Math.LN2;function ka(t){return t>>>=0,t===0?32:31-(go(t)/Pa|0)|0}var Zi=64,es=4194304;function Ir(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function di(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~d;S!==0?u=Ir(S):(p&=_,p!==0&&(u=Ir(p)))}else _=o&~d,_!==0?u=Ir(_):p!==0&&(u=Ir(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&d)&&(d=u&-u,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),d=1<<o,u|=t[o],r&=~d;return u}function xu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ut(p),S=1<<_,P=d[_];P===-1?(!(S&o)||S&u)&&(d[_]=xu(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fi(){var t=Zi;return Zi<<=1,!(Zi&4194240)&&(Zi=64),t}function Rr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ar(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Ut(o),p=1<<d;r[d]=0,u[d]=-1,t[d]=-1,o&=~p}}function Cr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),d=1<<u;d&r|t[u]&r&&(t[u]|=r),o&=~d}}var Pe=0;function Pr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xa,ts,Va,Da,Na,yo=!1,On=[],Tt=null,wn=null,Tn=null,kr=new Map,ln=new Map,Mn=[],Vu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function La(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":kr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(r.pointerId)}}function jt(t,r,o,u,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Do(r),r!==null&&ts(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Du(t,r,o,u,d){switch(r){case"focusin":return Tt=jt(Tt,t,r,o,u,d),!0;case"dragenter":return wn=jt(wn,t,r,o,u,d),!0;case"mouseover":return Tn=jt(Tn,t,r,o,u,d),!0;case"pointerover":var p=d.pointerId;return kr.set(p,jt(kr.get(p)||null,t,r,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,ln.set(p,jt(ln.get(p)||null,t,r,o,u,d)),!0}return!1}function Oa(t){var r=vi(t.target);if(r!==null){var o=_n(r);if(o!==null){if(r=o.tag,r===13){if(r=ui(o),r!==null){t.blockedOn=r,Na(t.priority,function(){Va(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ns(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);si=u,o.target.dispatchEvent(u),si=null}else return r=Do(o),r!==null&&ts(r),t.blockedOn=o,!1;r.shift()}return!0}function pi(t,r,o){nr(t)&&o.delete(r)}function Ma(){yo=!1,Tt!==null&&nr(Tt)&&(Tt=null),wn!==null&&nr(wn)&&(wn=null),Tn!==null&&nr(Tn)&&(Tn=null),kr.forEach(pi),ln.forEach(pi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,yo||(yo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ma)))}function In(t){function r(d){return Sn(d,t)}if(0<On.length){Sn(On[0],t);for(var o=1;o<On.length;o++){var u=On[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Tt!==null&&Sn(Tt,t),wn!==null&&Sn(wn,t),Tn!==null&&Sn(Tn,t),kr.forEach(r),ln.forEach(r),o=0;o<Mn.length;o++)u=Mn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)Oa(o),o.blockedOn===null&&Mn.shift()}var rr=ce.ReactCurrentBatchConfig,xr=!0;function Qe(t,r,o,u){var d=Pe,p=rr.transition;rr.transition=null;try{Pe=1,vo(t,r,o,u)}finally{Pe=d,rr.transition=p}}function Nu(t,r,o,u){var d=Pe,p=rr.transition;rr.transition=null;try{Pe=4,vo(t,r,o,u)}finally{Pe=d,rr.transition=p}}function vo(t,r,o,u){if(xr){var d=ns(t,r,o,u);if(d===null)qu(t,r,u,mi,o),La(t,u);else if(Du(d,t,r,o,u))u.stopPropagation();else if(La(t,u),r&4&&-1<Vu.indexOf(t)){for(;d!==null;){var p=Do(d);if(p!==null&&xa(p),p=ns(t,r,o,u),p===null&&qu(t,r,u,mi,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else qu(t,r,u,null,o)}}var mi=null;function ns(t,r,o,u){if(mi=null,t=Hi(u),t=vi(t),t!==null)if(r=_n(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ui(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return mi=t,null}function _o(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ra()){case ci:return 1;case Sr:return 4;case an:case mo:return 16;case Aa:return 536870912;default:return 16}default:return 16}}var Zt=null,rs=null,$t=null;function Eo(){if($t)return $t;var t,r=rs,o=r.length,u,d="value"in Zt?Zt.value:Zt.textContent,p=d.length;for(t=0;t<o&&r[t]===d[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===d[p-u];u++);return $t=d.slice(t,1<u?1-u:void 0)}function is(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function wo(){return!1}function St(t){function r(o,u,d,p,_){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:wo,this.isPropagationStopped=wo,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=St(Rn),Un=ie({},Rn,{view:0,detail:0}),Lu=St(Un),os,ir,Vr,gi=ie({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(os=t.screenX-Vr.screenX,ir=t.screenY-Vr.screenY):ir=os=0,Vr=t),os)},movementY:function(t){return"movementY"in t?t.movementY:ir}}),as=St(gi),To=ie({},gi,{dataTransfer:0}),Fa=St(To),ls=ie({},Un,{relatedTarget:0}),us=St(ls),Ua=ie({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),sr=St(Ua),za=ie({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ba=St(za),ba=ie({},Rn,{data:0}),So=St(ba),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ja={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $a(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ja[t])?!!r[t]:!1}function zn(){return $a}var l=ie({},Un,{key:function(t){if(t.key){var r=cs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=St(l),y=ie({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=St(y),M=ie({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),j=St(M),ee=ie({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=St(ee),ct=ie({},gi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=St(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,un=null;m&&"documentMode"in document&&(un=document.documentMode);var en=m&&"TextEvent"in window&&!un,yi=m&&(!st||un&&8<un&&11>=un),hs=" ",Ed=!1;function wd(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ds=!1;function Ly(t,r){switch(t){case"compositionend":return Td(r);case"keypress":return r.which!==32?null:(Ed=!0,hs);case"textInput":return t=r.data,t===hs&&Ed?null:t;default:return null}}function Oy(t,r){if(ds)return t==="compositionend"||!st&&wd(t,r)?(t=Eo(),$t=rs=Zt=null,ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yi&&r.locale!=="ko"?null:r.data;default:return null}}var My={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!My[t.type]:r==="textarea"}function Id(t,r,o,u){Ln(u),r=Ka(r,"onChange"),0<r.length&&(o=new ss("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Io=null,Ro=null;function Fy(t){jd(t,0)}function qa(t){var r=ys(t);if(Bi(r))return t}function Uy(t,r){if(t==="change")return r}var Rd=!1;if(m){var Ou;if(m){var Mu="oninput"in document;if(!Mu){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),Mu=typeof Ad.oninput=="function"}Ou=Mu}else Ou=!1;Rd=Ou&&(!document.documentMode||9<document.documentMode)}function Cd(){Io&&(Io.detachEvent("onpropertychange",Pd),Ro=Io=null)}function Pd(t){if(t.propertyName==="value"&&qa(Ro)){var r=[];Id(r,Ro,t,Hi(t)),co(Fy,r)}}function zy(t,r,o){t==="focusin"?(Cd(),Io=r,Ro=o,Io.attachEvent("onpropertychange",Pd)):t==="focusout"&&Cd()}function By(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qa(Ro)}function by(t,r){if(t==="click")return qa(r)}function jy(t,r){if(t==="input"||t==="change")return qa(r)}function $y(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:$y;function Ao(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!g.call(r,d)||!An(t[d],r[d]))return!1}return!0}function kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xd(t,r){var o=kd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kd(o)}}function Vd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Vd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Dd(){for(var t=window,r=wr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=wr(t.document)}return r}function Fu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function qy(t){var r=Dd(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Vd(o.ownerDocument.documentElement,o)){if(u!==null&&Fu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!t.extend&&p>u&&(d=u,u=p,p=d),d=xd(o,p);var _=xd(o,u);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hy=m&&"documentMode"in document&&11>=document.documentMode,fs=null,Uu=null,Co=null,zu=!1;function Nd(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zu||fs==null||fs!==wr(u)||(u=fs,"selectionStart"in u&&Fu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Co&&Ao(Co,u)||(Co=u,u=Ka(Uu,"onSelect"),0<u.length&&(r=new ss("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=fs)))}function Ha(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ps={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},Bu={},Ld={};m&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Wa(t){if(Bu[t])return Bu[t];if(!ps[t])return t;var r=ps[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ld)return Bu[t]=r[o];return t}var Od=Wa("animationend"),Md=Wa("animationiteration"),Fd=Wa("animationstart"),Ud=Wa("transitionend"),zd=new Map,Bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,r){zd.set(t,r),c(r,[t])}for(var bu=0;bu<Bd.length;bu++){var ju=Bd[bu],Wy=ju.toLowerCase(),Qy=ju[0].toUpperCase()+ju.slice(1);Dr(Wy,"on"+Qy)}Dr(Od,"onAnimationEnd"),Dr(Md,"onAnimationIteration"),Dr(Fd,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ud,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ky=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function bd(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Ta(u,r,void 0,t),t.currentTarget=null}function jd(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],P=S.instance,b=S.currentTarget;if(S=S.listener,P!==p&&d.isPropagationStopped())break e;bd(d,S,b),p=P}else for(_=0;_<u.length;_++){if(S=u[_],P=S.instance,b=S.currentTarget,S=S.listener,P!==p&&d.isPropagationStopped())break e;bd(d,S,b),p=P}}}if(vn)throw t=ho,vn=!1,ho=null,t}function He(t,r){var o=r[Xu];o===void 0&&(o=r[Xu]=new Set);var u=t+"__bubble";o.has(u)||($d(r,t,2,!1),o.add(u))}function $u(t,r,o){var u=0;r&&(u|=4),$d(o,t,u,r)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function ko(t){if(!t[Qa]){t[Qa]=!0,s.forEach(function(o){o!=="selectionchange"&&(Ky.has(o)||$u(o,!1,t),$u(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Qa]||(r[Qa]=!0,$u("selectionchange",!1,r))}}function $d(t,r,o,u){switch(_o(r)){case 1:var d=Qe;break;case 4:d=Nu;break;default:d=vo}o=d.bind(null,r,o,t),d=void 0,!Ki||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function qu(t,r,o,u,d){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(_===4)for(_=u.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;S!==null;){if(_=vi(S),_===null)return;if(P=_.tag,P===5||P===6){u=p=_;continue e}S=S.parentNode}}u=u.return}co(function(){var b=p,X=Hi(o),J=[];e:{var G=zd.get(t);if(G!==void 0){var re=ss,ae=t;switch(t){case"keypress":if(is(o)===0)break e;case"keydown":case"keyup":re=f;break;case"focusin":ae="focus",re=us;break;case"focusout":ae="blur",re=us;break;case"beforeblur":case"afterblur":re=us;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=as;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Fa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=j;break;case Od:case Md:case Fd:re=sr;break;case Ud:re=ze;break;case"scroll":re=Lu;break;case"wheel":re=Ve;break;case"copy":case"cut":case"paste":re=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E}var le=(r&4)!==0,rt=!le&&t==="scroll",F=le?G!==null?G+"Capture":null:G;le=[];for(var V=b,z;V!==null;){z=V;var Z=z.stateNode;if(z.tag===5&&Z!==null&&(z=Z,F!==null&&(Z=nt(V,F),Z!=null&&le.push(xo(V,Z,z)))),rt)break;V=V.return}0<le.length&&(G=new re(G,ae,null,o,X),J.push({event:G,listeners:le}))}}if(!(r&7)){e:{if(G=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",G&&o!==si&&(ae=o.relatedTarget||o.fromElement)&&(vi(ae)||ae[or]))break e;if((re||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,re?(ae=o.relatedTarget||o.toElement,re=b,ae=ae?vi(ae):null,ae!==null&&(rt=_n(ae),ae!==rt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=b),re!==ae)){if(le=as,Z="onMouseLeave",F="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(le=E,Z="onPointerLeave",F="onPointerEnter",V="pointer"),rt=re==null?G:ys(re),z=ae==null?G:ys(ae),G=new le(Z,V+"leave",re,o,X),G.target=rt,G.relatedTarget=z,Z=null,vi(X)===b&&(le=new le(F,V+"enter",ae,o,X),le.target=z,le.relatedTarget=rt,Z=le),rt=Z,re&&ae)t:{for(le=re,F=ae,V=0,z=le;z;z=ms(z))V++;for(z=0,Z=F;Z;Z=ms(Z))z++;for(;0<V-z;)le=ms(le),V--;for(;0<z-V;)F=ms(F),z--;for(;V--;){if(le===F||F!==null&&le===F.alternate)break t;le=ms(le),F=ms(F)}le=null}else le=null;re!==null&&qd(J,G,re,le,!1),ae!==null&&rt!==null&&qd(J,rt,ae,le,!0)}}e:{if(G=b?ys(b):window,re=G.nodeName&&G.nodeName.toLowerCase(),re==="select"||re==="input"&&G.type==="file")var ue=Uy;else if(Sd(G))if(Rd)ue=jy;else{ue=By;var pe=zy}else(re=G.nodeName)&&re.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ue=by);if(ue&&(ue=ue(t,b))){Id(J,ue,o,X);break e}pe&&pe(t,G,b),t==="focusout"&&(pe=G._wrapperState)&&pe.controlled&&G.type==="number"&&ji(G,"number",G.value)}switch(pe=b?ys(b):window,t){case"focusin":(Sd(pe)||pe.contentEditable==="true")&&(fs=pe,Uu=b,Co=null);break;case"focusout":Co=Uu=fs=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,Nd(J,o,X);break;case"selectionchange":if(Hy)break;case"keydown":case"keyup":Nd(J,o,X)}var me;if(st)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ds?wd(t,o)&&(ye="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(yi&&o.locale!=="ko"&&(ds||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ds&&(me=Eo()):(Zt=X,rs="value"in Zt?Zt.value:Zt.textContent,ds=!0)),pe=Ka(b,ye),0<pe.length&&(ye=new So(ye,t,null,o,X),J.push({event:ye,listeners:pe}),me?ye.data=me:(me=Td(o),me!==null&&(ye.data=me)))),(me=en?Ly(t,o):Oy(t,o))&&(b=Ka(b,"onBeforeInput"),0<b.length&&(X=new So("onBeforeInput","beforeinput",null,o,X),J.push({event:X,listeners:b}),X.data=me))}jd(J,r)})}function xo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ka(t,r){for(var o=r+"Capture",u=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=nt(t,o),p!=null&&u.unshift(xo(t,p,d)),p=nt(t,r),p!=null&&u.push(xo(t,p,d))),t=t.return}return u}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qd(t,r,o,u,d){for(var p=r._reactName,_=[];o!==null&&o!==u;){var S=o,P=S.alternate,b=S.stateNode;if(P!==null&&P===u)break;S.tag===5&&b!==null&&(S=b,d?(P=nt(o,p),P!=null&&_.unshift(xo(o,P,S))):d||(P=nt(o,p),P!=null&&_.push(xo(o,P,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Gy=/\r\n?/g,Xy=/\u0000|\uFFFD/g;function Hd(t){return(typeof t=="string"?t:""+t).replace(Gy,`
`).replace(Xy,"")}function Ga(t,r,o){if(r=Hd(r),Hd(t)!==r&&o)throw Error(n(425))}function Xa(){}var Hu=null,Wu=null;function Qu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ku=typeof setTimeout=="function"?setTimeout:void 0,Yy=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,Jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(t){return Wd.resolve(null).then(t).catch(Zy)}:Ku;function Zy(t){setTimeout(function(){throw t})}function Gu(t,r){var o=r,u=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){t.removeChild(d),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);In(r)}function Nr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Qd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Bn="__reactFiber$"+gs,Vo="__reactProps$"+gs,or="__reactContainer$"+gs,Xu="__reactEvents$"+gs,ev="__reactListeners$"+gs,tv="__reactHandles$"+gs;function vi(t){var r=t[Bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[or]||o[Bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Qd(t);t!==null;){if(o=t[Bn])return o;t=Qd(t)}return r}t=o,o=t.parentNode}return null}function Do(t){return t=t[Bn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ya(t){return t[Vo]||null}var Yu=[],vs=-1;function Lr(t){return{current:t}}function We(t){0>vs||(t.current=Yu[vs],Yu[vs]=null,vs--)}function qe(t,r){vs++,Yu[vs]=t.current,t.current=r}var Or={},Vt=Lr(Or),qt=Lr(!1),_i=Or;function _s(t,r){var o=t.type.contextTypes;if(!o)return Or;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Ht(t){return t=t.childContextTypes,t!=null}function Ja(){We(qt),We(Vt)}function Kd(t,r,o){if(Vt.current!==Or)throw Error(n(168));qe(Vt,r),qe(qt,o)}function Gd(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(n(108,Me(t)||"Unknown",d));return ie({},o,u)}function Za(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,_i=Vt.current,qe(Vt,t),qe(qt,qt.current),!0}function Xd(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Gd(t,r,_i),u.__reactInternalMemoizedMergedChildContext=t,We(qt),We(Vt),qe(Vt,t)):We(qt),qe(qt,o)}var ar=null,el=!1,Ju=!1;function Yd(t){ar===null?ar=[t]:ar.push(t)}function nv(t){el=!0,Yd(t)}function Mr(){if(!Ju&&ar!==null){Ju=!0;var t=0,r=Pe;try{var o=ar;for(Pe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ar=null,el=!1}catch(d){throw ar!==null&&(ar=ar.slice(t+1)),Ji(ci,Mr),d}finally{Pe=r,Ju=!1}}return null}var Es=[],ws=0,tl=null,nl=0,cn=[],hn=0,Ei=null,lr=1,ur="";function wi(t,r){Es[ws++]=nl,Es[ws++]=tl,tl=t,nl=r}function Jd(t,r,o){cn[hn++]=lr,cn[hn++]=ur,cn[hn++]=Ei,Ei=t;var u=lr;t=ur;var d=32-Ut(u)-1;u&=~(1<<d),o+=1;var p=32-Ut(r)+d;if(30<p){var _=d-d%5;p=(u&(1<<_)-1).toString(32),u>>=_,d-=_,lr=1<<32-Ut(r)+d|o<<d|u,ur=p+t}else lr=1<<p|o<<d|u,ur=t}function Zu(t){t.return!==null&&(wi(t,1),Jd(t,1,0))}function ec(t){for(;t===tl;)tl=Es[--ws],Es[ws]=null,nl=Es[--ws],Es[ws]=null;for(;t===Ei;)Ei=cn[--hn],cn[hn]=null,ur=cn[--hn],cn[hn]=null,lr=cn[--hn],cn[hn]=null}var tn=null,nn=null,Ke=!1,Cn=null;function Zd(t,r){var o=mn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function ef(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Nr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ei!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=mn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function tc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nc(t){if(Ke){var r=nn;if(r){var o=r;if(!ef(t,r)){if(tc(t))throw Error(n(418));r=Nr(o.nextSibling);var u=tn;r&&ef(t,r)?Zd(u,o):(t.flags=t.flags&-4097|2,Ke=!1,tn=t)}}else{if(tc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,tn=t}}}function tf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function rl(t){if(t!==tn)return!1;if(!Ke)return tf(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Qu(t.type,t.memoizedProps)),r&&(r=nn)){if(tc(t))throw nf(),Error(n(418));for(;r;)Zd(t,r),r=Nr(r.nextSibling)}if(tf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Nr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Nr(t.stateNode.nextSibling):null;return!0}function nf(){for(var t=nn;t;)t=Nr(t.nextSibling)}function Ts(){nn=tn=null,Ke=!1}function rc(t){Cn===null?Cn=[t]:Cn.push(t)}var rv=ce.ReactCurrentBatchConfig;function No(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var d=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var S=d.refs;_===null?delete S[p]:S[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function il(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function rf(t){var r=t._init;return r(t._payload)}function sf(t){function r(F,V){if(t){var z=F.deletions;z===null?(F.deletions=[V],F.flags|=16):z.push(V)}}function o(F,V){if(!t)return null;for(;V!==null;)r(F,V),V=V.sibling;return null}function u(F,V){for(F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function d(F,V){return F=qr(F,V),F.index=0,F.sibling=null,F}function p(F,V,z){return F.index=z,t?(z=F.alternate,z!==null?(z=z.index,z<V?(F.flags|=2,V):z):(F.flags|=2,V)):(F.flags|=1048576,V)}function _(F){return t&&F.alternate===null&&(F.flags|=2),F}function S(F,V,z,Z){return V===null||V.tag!==6?(V=Kc(z,F.mode,Z),V.return=F,V):(V=d(V,z),V.return=F,V)}function P(F,V,z,Z){var ue=z.type;return ue===x?X(F,V,z.props.children,Z,z.key):V!==null&&(V.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xt&&rf(ue)===V.type)?(Z=d(V,z.props),Z.ref=No(F,V,z),Z.return=F,Z):(Z=Pl(z.type,z.key,z.props,null,F.mode,Z),Z.ref=No(F,V,z),Z.return=F,Z)}function b(F,V,z,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Gc(z,F.mode,Z),V.return=F,V):(V=d(V,z.children||[]),V.return=F,V)}function X(F,V,z,Z,ue){return V===null||V.tag!==7?(V=ki(z,F.mode,Z,ue),V.return=F,V):(V=d(V,z),V.return=F,V)}function J(F,V,z){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Kc(""+V,F.mode,z),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ae:return z=Pl(V.type,V.key,V.props,null,F.mode,z),z.ref=No(F,null,V),z.return=F,z;case Te:return V=Gc(V,F.mode,z),V.return=F,V;case xt:var Z=V._init;return J(F,Z(V._payload),z)}if(Yn(V)||fe(V))return V=ki(V,F.mode,z,null),V.return=F,V;il(F,V)}return null}function G(F,V,z,Z){var ue=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ue!==null?null:S(F,V,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Ae:return z.key===ue?P(F,V,z,Z):null;case Te:return z.key===ue?b(F,V,z,Z):null;case xt:return ue=z._init,G(F,V,ue(z._payload),Z)}if(Yn(z)||fe(z))return ue!==null?null:X(F,V,z,Z,null);il(F,z)}return null}function re(F,V,z,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(z)||null,S(V,F,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ae:return F=F.get(Z.key===null?z:Z.key)||null,P(V,F,Z,ue);case Te:return F=F.get(Z.key===null?z:Z.key)||null,b(V,F,Z,ue);case xt:var pe=Z._init;return re(F,V,z,pe(Z._payload),ue)}if(Yn(Z)||fe(Z))return F=F.get(z)||null,X(V,F,Z,ue,null);il(V,Z)}return null}function ae(F,V,z,Z){for(var ue=null,pe=null,me=V,ye=V=0,Et=null;me!==null&&ye<z.length;ye++){me.index>ye?(Et=me,me=null):Et=me.sibling;var Oe=G(F,me,z[ye],Z);if(Oe===null){me===null&&(me=Et);break}t&&me&&Oe.alternate===null&&r(F,me),V=p(Oe,V,ye),pe===null?ue=Oe:pe.sibling=Oe,pe=Oe,me=Et}if(ye===z.length)return o(F,me),Ke&&wi(F,ye),ue;if(me===null){for(;ye<z.length;ye++)me=J(F,z[ye],Z),me!==null&&(V=p(me,V,ye),pe===null?ue=me:pe.sibling=me,pe=me);return Ke&&wi(F,ye),ue}for(me=u(F,me);ye<z.length;ye++)Et=re(me,F,ye,z[ye],Z),Et!==null&&(t&&Et.alternate!==null&&me.delete(Et.key===null?ye:Et.key),V=p(Et,V,ye),pe===null?ue=Et:pe.sibling=Et,pe=Et);return t&&me.forEach(function(Hr){return r(F,Hr)}),Ke&&wi(F,ye),ue}function le(F,V,z,Z){var ue=fe(z);if(typeof ue!="function")throw Error(n(150));if(z=ue.call(z),z==null)throw Error(n(151));for(var pe=ue=null,me=V,ye=V=0,Et=null,Oe=z.next();me!==null&&!Oe.done;ye++,Oe=z.next()){me.index>ye?(Et=me,me=null):Et=me.sibling;var Hr=G(F,me,Oe.value,Z);if(Hr===null){me===null&&(me=Et);break}t&&me&&Hr.alternate===null&&r(F,me),V=p(Hr,V,ye),pe===null?ue=Hr:pe.sibling=Hr,pe=Hr,me=Et}if(Oe.done)return o(F,me),Ke&&wi(F,ye),ue;if(me===null){for(;!Oe.done;ye++,Oe=z.next())Oe=J(F,Oe.value,Z),Oe!==null&&(V=p(Oe,V,ye),pe===null?ue=Oe:pe.sibling=Oe,pe=Oe);return Ke&&wi(F,ye),ue}for(me=u(F,me);!Oe.done;ye++,Oe=z.next())Oe=re(me,F,ye,Oe.value,Z),Oe!==null&&(t&&Oe.alternate!==null&&me.delete(Oe.key===null?ye:Oe.key),V=p(Oe,V,ye),pe===null?ue=Oe:pe.sibling=Oe,pe=Oe);return t&&me.forEach(function(Mv){return r(F,Mv)}),Ke&&wi(F,ye),ue}function rt(F,V,z,Z){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Ae:e:{for(var ue=z.key,pe=V;pe!==null;){if(pe.key===ue){if(ue=z.type,ue===x){if(pe.tag===7){o(F,pe.sibling),V=d(pe,z.props.children),V.return=F,F=V;break e}}else if(pe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xt&&rf(ue)===pe.type){o(F,pe.sibling),V=d(pe,z.props),V.ref=No(F,pe,z),V.return=F,F=V;break e}o(F,pe);break}else r(F,pe);pe=pe.sibling}z.type===x?(V=ki(z.props.children,F.mode,Z,z.key),V.return=F,F=V):(Z=Pl(z.type,z.key,z.props,null,F.mode,Z),Z.ref=No(F,V,z),Z.return=F,F=Z)}return _(F);case Te:e:{for(pe=z.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){o(F,V.sibling),V=d(V,z.children||[]),V.return=F,F=V;break e}else{o(F,V);break}else r(F,V);V=V.sibling}V=Gc(z,F.mode,Z),V.return=F,F=V}return _(F);case xt:return pe=z._init,rt(F,V,pe(z._payload),Z)}if(Yn(z))return ae(F,V,z,Z);if(fe(z))return le(F,V,z,Z);il(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,V!==null&&V.tag===6?(o(F,V.sibling),V=d(V,z),V.return=F,F=V):(o(F,V),V=Kc(z,F.mode,Z),V.return=F,F=V),_(F)):o(F,V)}return rt}var Ss=sf(!0),of=sf(!1),sl=Lr(null),ol=null,Is=null,ic=null;function sc(){ic=Is=ol=null}function oc(t){var r=sl.current;We(sl),t._currentValue=r}function ac(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Rs(t,r){ol=t,ic=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Wt=!0),t.firstContext=null)}function dn(t){var r=t._currentValue;if(ic!==t)if(t={context:t,memoizedValue:r,next:null},Is===null){if(ol===null)throw Error(n(308));Is=t,ol.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return r}var Ti=null;function lc(t){Ti===null?Ti=[t]:Ti.push(t)}function af(t,r,o,u){var d=r.interleaved;return d===null?(o.next=o,lc(r)):(o.next=d.next,d.next=o),r.interleaved=o,cr(t,u)}function cr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Fr=!1;function uc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Le&2){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,cr(t,o)}return d=u.interleaved,d===null?(r.next=r,lc(u)):(r.next=d.next,d.next=r),u.interleaved=r,cr(t,o)}function al(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Cr(t,o)}}function uf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function ll(t,r,o,u){var d=t.updateQueue;Fr=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,b=P.next;P.next=null,_===null?p=b:_.next=b,_=P;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=b:S.next=b,X.lastBaseUpdate=P))}if(p!==null){var J=d.baseState;_=0,X=b=P=null,S=p;do{var G=S.lane,re=S.eventTime;if((u&G)===G){X!==null&&(X=X.next={eventTime:re,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=t,le=S;switch(G=r,re=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){J=ae.call(re,J,G);break e}J=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,G=typeof ae=="function"?ae.call(re,J,G):ae,G==null)break e;J=ie({},J,G);break e;case 2:Fr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,G=d.effects,G===null?d.effects=[S]:G.push(S))}else re={eventTime:re,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(b=X=re,P=J):X=X.next=re,_|=G;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;G=S,S=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(X===null&&(P=J),d.baseState=P,d.firstBaseUpdate=b,d.lastBaseUpdate=X,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);Ri|=_,t.lanes=_,t.memoizedState=J}}function cf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var Lo={},bn=Lr(Lo),Oo=Lr(Lo),Mo=Lr(Lo);function Si(t){if(t===Lo)throw Error(n(174));return t}function cc(t,r){switch(qe(Mo,r),qe(Oo,t),qe(bn,Lo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}We(bn),qe(bn,r)}function As(){We(bn),We(Oo),We(Mo)}function hf(t){Si(Mo.current);var r=Si(bn.current),o=ut(r,t.type);r!==o&&(qe(Oo,t),qe(bn,o))}function hc(t){Oo.current===t&&(We(bn),We(Oo))}var Xe=Lr(0);function ul(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var dc=[];function fc(){for(var t=0;t<dc.length;t++)dc[t]._workInProgressVersionPrimary=null;dc.length=0}var cl=ce.ReactCurrentDispatcher,pc=ce.ReactCurrentBatchConfig,Ii=0,Ye=null,ht=null,vt=null,hl=!1,Fo=!1,Uo=0,iv=0;function Dt(){throw Error(n(321))}function mc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function gc(t,r,o,u,d,p){if(Ii=p,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,cl.current=t===null||t.memoizedState===null?lv:uv,t=o(u,d),Fo){p=0;do{if(Fo=!1,Uo=0,25<=p)throw Error(n(301));p+=1,vt=ht=null,r.updateQueue=null,cl.current=cv,t=o(u,d)}while(Fo)}if(cl.current=pl,r=ht!==null&&ht.next!==null,Ii=0,vt=ht=Ye=null,hl=!1,r)throw Error(n(300));return t}function yc(){var t=Uo!==0;return Uo=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ye.memoizedState=vt=t:vt=vt.next=t,vt}function fn(){if(ht===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=vt===null?Ye.memoizedState:vt.next;if(r!==null)vt=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},vt===null?Ye.memoizedState=vt=t:vt=vt.next=t}return vt}function zo(t,r){return typeof r=="function"?r(t):r}function vc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,d=u.baseQueue,p=o.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}u.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,u=u.baseState;var S=_=null,P=null,b=p;do{var X=b.lane;if((Ii&X)===X)P!==null&&(P=P.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),u=b.hasEagerState?b.eagerState:t(u,b.action);else{var J={lane:X,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};P===null?(S=P=J,_=u):P=P.next=J,Ye.lanes|=X,Ri|=X}b=b.next}while(b!==null&&b!==p);P===null?_=u:P.next=S,An(u,r.memoizedState)||(Wt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){d=t;do p=d.lane,Ye.lanes|=p,Ri|=p,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function _c(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do p=t(p,_.action),_=_.next;while(_!==d);An(p,r.memoizedState)||(Wt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function df(){}function ff(t,r){var o=Ye,u=fn(),d=r(),p=!An(u.memoizedState,d);if(p&&(u.memoizedState=d,Wt=!0),u=u.queue,Ec(gf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,Bo(9,mf.bind(null,o,u,d,r),void 0,null),_t===null)throw Error(n(349));Ii&30||pf(o,r,d)}return d}function pf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function mf(t,r,o,u){r.value=o,r.getSnapshot=u,yf(r)&&vf(t)}function gf(t,r,o){return o(function(){yf(r)&&vf(t)})}function yf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function vf(t){var r=cr(t,1);r!==null&&Vn(r,t,1,-1)}function _f(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:t},r.queue=t,t=t.dispatch=av.bind(null,Ye,t),[r.memoizedState,t]}function Bo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Ef(){return fn().memoizedState}function dl(t,r,o,u){var d=jn();Ye.flags|=t,d.memoizedState=Bo(1|r,o,void 0,u===void 0?null:u)}function fl(t,r,o,u){var d=fn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var _=ht.memoizedState;if(p=_.destroy,u!==null&&mc(u,_.deps)){d.memoizedState=Bo(r,o,p,u);return}}Ye.flags|=t,d.memoizedState=Bo(1|r,o,p,u)}function wf(t,r){return dl(8390656,8,t,r)}function Ec(t,r){return fl(2048,8,t,r)}function Tf(t,r){return fl(4,2,t,r)}function Sf(t,r){return fl(4,4,t,r)}function If(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Rf(t,r,o){return o=o!=null?o.concat([t]):null,fl(4,4,If.bind(null,r,t),o)}function wc(){}function Af(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&mc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Cf(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&mc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Pf(t,r,o){return Ii&21?(An(o,r)||(o=fi(),Ye.lanes|=o,Ri|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=o)}function sv(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var u=pc.transition;pc.transition={};try{t(!1),r()}finally{Pe=o,pc.transition=u}}function kf(){return fn().memoizedState}function ov(t,r,o){var u=jr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},xf(t))Vf(r,o);else if(o=af(t,r,o,u),o!==null){var d=bt();Vn(o,t,u,d),Df(o,r,u)}}function av(t,r,o){var u=jr(t),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(xf(t))Vf(r,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,S=p(_,o);if(d.hasEagerState=!0,d.eagerState=S,An(S,_)){var P=r.interleaved;P===null?(d.next=d,lc(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}finally{}o=af(t,r,d,u),o!==null&&(d=bt(),Vn(o,t,u,d),Df(o,r,u))}}function xf(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function Vf(t,r){Fo=hl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Df(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Cr(t,o)}}var pl={readContext:dn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},lv={readContext:dn,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:dn,useEffect:wf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,dl(4194308,4,If.bind(null,r,t),o)},useLayoutEffect:function(t,r){return dl(4194308,4,t,r)},useInsertionEffect:function(t,r){return dl(4,2,t,r)},useMemo:function(t,r){var o=jn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=jn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=ov.bind(null,Ye,t),[u.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:_f,useDebugValue:wc,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=_f(!1),r=t[0];return t=sv.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ye,d=jn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),_t===null)throw Error(n(349));Ii&30||pf(u,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,wf(gf.bind(null,u,p,t),[t]),u.flags|=2048,Bo(9,mf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=jn(),r=_t.identifierPrefix;if(Ke){var o=ur,u=lr;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Uo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=iv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},uv={readContext:dn,useCallback:Af,useContext:dn,useEffect:Ec,useImperativeHandle:Rf,useInsertionEffect:Tf,useLayoutEffect:Sf,useMemo:Cf,useReducer:vc,useRef:Ef,useState:function(){return vc(zo)},useDebugValue:wc,useDeferredValue:function(t){var r=fn();return Pf(r,ht.memoizedState,t)},useTransition:function(){var t=vc(zo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:df,useSyncExternalStore:ff,useId:kf,unstable_isNewReconciler:!1},cv={readContext:dn,useCallback:Af,useContext:dn,useEffect:Ec,useImperativeHandle:Rf,useInsertionEffect:Tf,useLayoutEffect:Sf,useMemo:Cf,useReducer:_c,useRef:Ef,useState:function(){return _c(zo)},useDebugValue:wc,useDeferredValue:function(t){var r=fn();return ht===null?r.memoizedState=t:Pf(r,ht.memoizedState,t)},useTransition:function(){var t=_c(zo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:df,useSyncExternalStore:ff,useId:kf,unstable_isNewReconciler:!1};function Pn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Tc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ie({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ml={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=bt(),d=jr(t),p=hr(u,d);p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,d),r!==null&&(Vn(r,t,d,u),al(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=bt(),d=jr(t),p=hr(u,d);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,d),r!==null&&(Vn(r,t,d,u),al(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=bt(),u=jr(t),d=hr(o,u);d.tag=2,r!=null&&(d.callback=r),r=Ur(t,d,u),r!==null&&(Vn(r,t,u,o),al(r,t,u))}};function Nf(t,r,o,u,d,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!Ao(o,u)||!Ao(d,p):!0}function Lf(t,r,o){var u=!1,d=Or,p=r.contextType;return typeof p=="object"&&p!==null?p=dn(p):(d=Ht(r)?_i:Vt.current,u=r.contextTypes,p=(u=u!=null)?_s(t,d):Or),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ml,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),r}function Of(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&ml.enqueueReplaceState(r,r.state,null)}function Sc(t,r,o,u){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},uc(t);var p=r.contextType;typeof p=="object"&&p!==null?d.context=dn(p):(p=Ht(r)?_i:Vt.current,d.context=_s(t,p)),d.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Tc(t,r,p,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&ml.enqueueReplaceState(d,d.state,null),ll(t,o,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Cs(t,r){try{var o="",u=r;do o+=Ie(u),u=u.return;while(u);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:d,digest:null}}function Ic(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Rc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var hv=typeof WeakMap=="function"?WeakMap:Map;function Mf(t,r,o){o=hr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Tl||(Tl=!0,Bc=u),Rc(t,r)},o}function Ff(t,r,o){o=hr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;o.payload=function(){return u(d)},o.callback=function(){Rc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Rc(t,r),typeof u!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Uf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new hv;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(d.add(o),t=Rv.bind(null,t,r,o),r.then(t,t))}function zf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Bf(t,r,o,u,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=hr(-1,1),r.tag=2,Ur(o,r,1))),o.lanes|=1),t)}var dv=ce.ReactCurrentOwner,Wt=!1;function Bt(t,r,o,u){r.child=t===null?of(r,null,o,u):Ss(r,t.child,o,u)}function bf(t,r,o,u,d){o=o.render;var p=r.ref;return Rs(r,d),u=gc(t,r,o,u,p,d),o=yc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,dr(t,r,d)):(Ke&&o&&Zu(r),r.flags|=1,Bt(t,r,u,d),r.child)}function jf(t,r,o,u,d){if(t===null){var p=o.type;return typeof p=="function"&&!Qc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,$f(t,r,p,u,d)):(t=Pl(o.type,null,u,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&d)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ao,o(_,u)&&t.ref===r.ref)return dr(t,r,d)}return r.flags|=1,t=qr(p,u),t.ref=r.ref,t.return=r,r.child=t}function $f(t,r,o,u,d){if(t!==null){var p=t.memoizedProps;if(Ao(p,u)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=u=p,(t.lanes&d)!==0)t.flags&131072&&(Wt=!0);else return r.lanes=t.lanes,dr(t,r,d)}return Ac(t,r,o,u,d)}function qf(t,r,o){var u=r.pendingProps,d=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ks,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(ks,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,qe(ks,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,qe(ks,rn),rn|=u;return Bt(t,r,d,o),r.child}function Hf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Ac(t,r,o,u,d){var p=Ht(o)?_i:Vt.current;return p=_s(r,p),Rs(r,d),o=gc(t,r,o,u,p,d),u=yc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,dr(t,r,d)):(Ke&&u&&Zu(r),r.flags|=1,Bt(t,r,o,d),r.child)}function Wf(t,r,o,u,d){if(Ht(o)){var p=!0;Za(r)}else p=!1;if(Rs(r,d),r.stateNode===null)yl(t,r),Lf(r,o,u),Sc(r,o,u,d),u=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var P=_.context,b=o.contextType;typeof b=="object"&&b!==null?b=dn(b):(b=Ht(o)?_i:Vt.current,b=_s(r,b));var X=o.getDerivedStateFromProps,J=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==u||P!==b)&&Of(r,_,u,b),Fr=!1;var G=r.memoizedState;_.state=G,ll(r,u,_,d),P=r.memoizedState,S!==u||G!==P||qt.current||Fr?(typeof X=="function"&&(Tc(r,o,X,u),P=r.memoizedState),(S=Fr||Nf(r,o,S,u,G,P,b))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),_.props=u,_.state=P,_.context=b,u=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,lf(t,r),S=r.memoizedProps,b=r.type===r.elementType?S:Pn(r.type,S),_.props=b,J=r.pendingProps,G=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=dn(P):(P=Ht(o)?_i:Vt.current,P=_s(r,P));var re=o.getDerivedStateFromProps;(X=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==J||G!==P)&&Of(r,_,u,P),Fr=!1,G=r.memoizedState,_.state=G,ll(r,u,_,d);var ae=r.memoizedState;S!==J||G!==ae||qt.current||Fr?(typeof re=="function"&&(Tc(r,o,re,u),ae=r.memoizedState),(b=Fr||Nf(r,o,b,u,G,ae,P)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ae,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ae,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),_.props=u,_.state=ae,_.context=P,u=b):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),u=!1)}return Cc(t,r,o,u,p,d)}function Cc(t,r,o,u,d,p){Hf(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return d&&Xd(r,o,!1),dr(t,r,p);u=r.stateNode,dv.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=Ss(r,t.child,null,p),r.child=Ss(r,null,S,p)):Bt(t,r,S,p),r.memoizedState=u.state,d&&Xd(r,o,!0),r.child}function Qf(t){var r=t.stateNode;r.pendingContext?Kd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Kd(t,r.context,!1),cc(t,r.containerInfo)}function Kf(t,r,o,u,d){return Ts(),rc(d),r.flags|=256,Bt(t,r,o,u),r.child}var Pc={dehydrated:null,treeContext:null,retryLane:0};function kc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gf(t,r,o){var u=r.pendingProps,d=Xe.current,p=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(d&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),qe(Xe,d&1),t===null)return nc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=kl(_,u,0,null),t=ki(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=kc(o),r.memoizedState=Pc,t):xc(r,_));if(d=t.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return fv(t,r,_,u,S,d,o);if(p){p=u.fallback,_=r.mode,d=t.child,S=d.sibling;var P={mode:"hidden",children:u.children};return!(_&1)&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=qr(d,P),u.subtreeFlags=d.subtreeFlags&14680064),S!==null?p=qr(S,p):(p=ki(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?kc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Pc,u}return p=t.child,t=p.sibling,u=qr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function xc(t,r){return r=kl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function gl(t,r,o,u){return u!==null&&rc(u),Ss(r,t.child,null,o),t=xc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function fv(t,r,o,u,d,p,_){if(o)return r.flags&256?(r.flags&=-257,u=Ic(Error(n(422))),gl(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,d=r.mode,u=kl({mode:"visible",children:u.children},d,0,null),p=ki(p,d,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&Ss(r,t.child,null,_),r.child.memoizedState=kc(_),r.memoizedState=Pc,p);if(!(r.mode&1))return gl(t,r,_,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=Ic(p,u,void 0),gl(t,r,_,u)}if(S=(_&t.childLanes)!==0,Wt||S){if(u=_t,u!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(u.suspendedLanes|_)?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,cr(t,d),Vn(u,t,d,-1))}return Wc(),u=Ic(Error(n(421))),gl(t,r,_,u)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=Av.bind(null,t),d._reactRetry=r,null):(t=p.treeContext,nn=Nr(d.nextSibling),tn=r,Ke=!0,Cn=null,t!==null&&(cn[hn++]=lr,cn[hn++]=ur,cn[hn++]=Ei,lr=t.id,ur=t.overflow,Ei=r),r=xc(r,u.children),r.flags|=4096,r)}function Xf(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),ac(t.return,r,o)}function Vc(t,r,o,u,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function Yf(t,r,o){var u=r.pendingProps,d=u.revealOrder,p=u.tail;if(Bt(t,r,u.children,o),u=Xe.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xf(t,o,r);else if(t.tag===19)Xf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(qe(Xe,u),!(r.mode&1))r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&ul(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Vc(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&ul(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Vc(r,!0,o,null,p);break;case"together":Vc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function yl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function dr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=qr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=qr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function pv(t,r,o){switch(r.tag){case 3:Qf(r),Ts();break;case 5:hf(r);break;case 1:Ht(r.type)&&Za(r);break;case 4:cc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;qe(sl,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(qe(Xe,Xe.current&1),r.flags|=128,null):o&r.child.childLanes?Gf(t,r,o):(qe(Xe,Xe.current&1),t=dr(t,r,o),t!==null?t.sibling:null);qe(Xe,Xe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Yf(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Xe,Xe.current),u)break;return null;case 22:case 23:return r.lanes=0,qf(t,r,o)}return dr(t,r,o)}var Jf,Dc,Zf,ep;Jf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Dc=function(){},Zf=function(t,r,o,u){var d=t.memoizedProps;if(d!==u){t=r.stateNode,Si(bn.current);var p=null;switch(o){case"input":d=ni(t,d),u=ni(t,u),p=[];break;case"select":d=ie({},d,{value:void 0}),u=ie({},u,{value:void 0}),p=[];break;case"textarea":d=eo(t,d),u=eo(t,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Xa)}oo(o,u);var _;o=null;for(b in d)if(!u.hasOwnProperty(b)&&d.hasOwnProperty(b)&&d[b]!=null)if(b==="style"){var S=d[b];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in u){var P=u[b];if(S=d!=null?d[b]:void 0,u.hasOwnProperty(b)&&P!==S&&(P!=null||S!=null))if(b==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&S[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(p||(p=[]),p.push(b,o)),o=P;else b==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(b,P)):b==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(b,""+P):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(P!=null&&b==="onScroll"&&He("scroll",t),p||S===P||(p=[])):(p=p||[]).push(b,P))}o&&(p=p||[]).push("style",o);var b=p;(r.updateQueue=b)&&(r.flags|=4)}},ep=function(t,r,o,u){o!==u&&(r.flags|=4)};function bo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function mv(t,r,o){var u=r.pendingProps;switch(ec(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return Ht(r.type)&&Ja(),Nt(r),null;case 3:return u=r.stateNode,As(),We(qt),We(Vt),fc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(rl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Cn!==null&&($c(Cn),Cn=null))),Dc(t,r),Nt(r),null;case 5:hc(r);var d=Si(Mo.current);if(o=r.type,t!==null&&r.stateNode!=null)Zf(t,r,o,u,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Nt(r),null}if(t=Si(bn.current),rl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Bn]=r,u[Vo]=p,t=(r.mode&1)!==0,o){case"dialog":He("cancel",u),He("close",u);break;case"iframe":case"object":case"embed":He("load",u);break;case"video":case"audio":for(d=0;d<Po.length;d++)He(Po[d],u);break;case"source":He("error",u);break;case"img":case"image":case"link":He("error",u),He("load",u);break;case"details":He("toggle",u);break;case"input":bi(u,p),He("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},He("invalid",u);break;case"textarea":$i(u,p),He("invalid",u)}oo(o,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var S=p[_];_==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&Ga(u.textContent,S,t),d=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&Ga(u.textContent,S,t),d=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&He("scroll",u)}switch(o){case"input":Xn(u),wa(u,p,!0);break;case"textarea":Xn(u),to(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Xa)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[Bn]=r,t[Vo]=u,Jf(t,r,!1,!1),r.stateNode=t;e:{switch(_=ao(o,u),o){case"dialog":He("cancel",t),He("close",t),d=u;break;case"iframe":case"object":case"embed":He("load",t),d=u;break;case"video":case"audio":for(d=0;d<Po.length;d++)He(Po[d],t);d=u;break;case"source":He("error",t),d=u;break;case"img":case"image":case"link":He("error",t),He("load",t),d=u;break;case"details":He("toggle",t),d=u;break;case"input":bi(t,u),d=ni(t,u),He("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=ie({},u,{value:void 0}),He("invalid",t);break;case"textarea":$i(t,u),d=eo(t,u),He("invalid",t);break;default:d=u}oo(o,d),S=d;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?io(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&no(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Tr(t,P):typeof P=="number"&&Tr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&He("scroll",t):P!=null&&ne(t,p,P,_))}switch(o){case"input":Xn(t),wa(t,u,!1);break;case"textarea":Xn(t),to(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Fe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Jn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Jn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=Xa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(t&&r.stateNode!=null)ep(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Si(Mo.current),Si(bn.current),rl(r)){if(u=r.stateNode,o=r.memoizedProps,u[Bn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:Ga(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ga(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Bn]=r,r.stateNode=u}return Nt(r),null;case 13:if(We(Xe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&r.mode&1&&!(r.flags&128))nf(),Ts(),r.flags|=98560,p=!1;else if(p=rl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Bn]=r}else Ts(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Nt(r),p=!1}else Cn!==null&&($c(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Xe.current&1?dt===0&&(dt=3):Wc())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return As(),Dc(t,r),t===null&&ko(r.stateNode.containerInfo),Nt(r),null;case 10:return oc(r.type._context),Nt(r),null;case 17:return Ht(r.type)&&Ja(),Nt(r),null;case 19:if(We(Xe),p=r.memoizedState,p===null)return Nt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)bo(p,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=ul(t),_!==null){for(r.flags|=128,bo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Xe,Xe.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>xs&&(r.flags|=128,u=!0,bo(p,!1),r.lanes=4194304)}else{if(!u)if(t=ul(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),bo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ke)return Nt(r),null}else 2*$e()-p.renderingStartTime>xs&&o!==1073741824&&(r.flags|=128,u=!0,bo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Xe.current,qe(Xe,u?o&1|2:o&1),r):(Nt(r),null);case 22:case 23:return Hc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function gv(t,r){switch(ec(r),r.tag){case 1:return Ht(r.type)&&Ja(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return As(),We(qt),We(Vt),fc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return hc(r),null;case 13:if(We(Xe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ts()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Xe),null;case 4:return As(),null;case 10:return oc(r.type._context),null;case 22:case 23:return Hc(),null;case 24:return null;default:return null}}var vl=!1,Lt=!1,yv=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ps(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){et(t,r,u)}else o.current=null}function Nc(t,r,o){try{o()}catch(u){et(t,r,u)}}var tp=!1;function vv(t,r){if(Hu=xr,t=Dd(),Fu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,P=-1,b=0,X=0,J=t,G=null;t:for(;;){for(var re;J!==o||d!==0&&J.nodeType!==3||(S=_+d),J!==p||u!==0&&J.nodeType!==3||(P=_+u),J.nodeType===3&&(_+=J.nodeValue.length),(re=J.firstChild)!==null;)G=J,J=re;for(;;){if(J===t)break t;if(G===o&&++b===d&&(S=_),G===p&&++X===u&&(P=_),(re=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=re}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wu={focusedElem:t,selectionRange:o},xr=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,rt=ae.memoizedState,F=r.stateNode,V=F.getSnapshotBeforeUpdate(r.elementType===r.type?le:Pn(r.type,le),rt);F.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){et(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return ae=tp,tp=!1,ae}function jo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&Nc(r,o,p)}d=d.next}while(d!==u)}}function _l(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Lc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function np(t){var r=t.alternate;r!==null&&(t.alternate=null,np(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Bn],delete r[Vo],delete r[Xu],delete r[ev],delete r[tv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rp(t){return t.tag===5||t.tag===3||t.tag===4}function ip(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Xa));else if(u!==4&&(t=t.child,t!==null))for(Oc(t,r,o),t=t.sibling;t!==null;)Oc(t,r,o),t=t.sibling}function Mc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Mc(t,r,o),t=t.sibling;t!==null;)Mc(t,r,o),t=t.sibling}var It=null,kn=!1;function zr(t,r,o){for(o=o.child;o!==null;)sp(t,r,o),o=o.sibling}function sp(t,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(hi,o)}catch{}switch(o.tag){case 5:Lt||Ps(o,r);case 6:var u=It,d=kn;It=null,zr(t,r,o),It=u,kn=d,It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?Gu(t.parentNode,o):t.nodeType===1&&Gu(t,o),In(t)):Gu(It,o.stateNode));break;case 4:u=It,d=kn,It=o.stateNode.containerInfo,kn=!0,zr(t,r,o),It=u,kn=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&Nc(o,r,_),d=d.next}while(d!==u)}zr(t,r,o);break;case 1:if(!Lt&&(Ps(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){et(o,r,S)}zr(t,r,o);break;case 21:zr(t,r,o);break;case 22:o.mode&1?(Lt=(u=Lt)||o.memoizedState!==null,zr(t,r,o),Lt=u):zr(t,r,o);break;default:zr(t,r,o)}}function op(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new yv),r.forEach(function(u){var d=Cv.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var p=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:It=S.stateNode,kn=!1;break e;case 3:It=S.stateNode.containerInfo,kn=!0;break e;case 4:It=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(It===null)throw Error(n(160));sp(p,_,d),It=null,kn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(b){et(d,r,b)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ap(r,t),r=r.sibling}function ap(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),$n(t),u&4){try{jo(3,t,t.return),_l(3,t)}catch(le){et(t,t.return,le)}try{jo(5,t,t.return)}catch(le){et(t,t.return,le)}}break;case 1:xn(r,t),$n(t),u&512&&o!==null&&Ps(o,o.return);break;case 5:if(xn(r,t),$n(t),u&512&&o!==null&&Ps(o,o.return),t.flags&32){var d=t.stateNode;try{Tr(d,"")}catch(le){et(t,t.return,le)}}if(u&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Js(d,p),ao(S,_);var b=ao(S,p);for(_=0;_<P.length;_+=2){var X=P[_],J=P[_+1];X==="style"?io(d,J):X==="dangerouslySetInnerHTML"?no(d,J):X==="children"?Tr(d,J):ne(d,X,J,b)}switch(S){case"input":Zs(d,p);break;case"textarea":qi(d,p);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?Jn(d,!!p.multiple,re,!1):G!==!!p.multiple&&(p.defaultValue!=null?Jn(d,!!p.multiple,p.defaultValue,!0):Jn(d,!!p.multiple,p.multiple?[]:"",!1))}d[Vo]=p}catch(le){et(t,t.return,le)}}break;case 6:if(xn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(le){et(t,t.return,le)}}break;case 3:if(xn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(le){et(t,t.return,le)}break;case 4:xn(r,t),$n(t);break;case 13:xn(r,t),$n(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(zc=$e())),u&4&&op(t);break;case 22:if(X=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(b=Lt)||X,xn(r,t),Lt=b):xn(r,t),$n(t),u&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!X&&t.mode&1)for(oe=t,X=t.child;X!==null;){for(J=oe=X;oe!==null;){switch(G=oe,re=G.child,G.tag){case 0:case 11:case 14:case 15:jo(4,G,G.return);break;case 1:Ps(G,G.return);var ae=G.stateNode;if(typeof ae.componentWillUnmount=="function"){u=G,o=G.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){et(u,o,le)}}break;case 5:Ps(G,G.return);break;case 22:if(G.memoizedState!==null){cp(J);continue}}re!==null?(re.return=G,oe=re):cp(J)}X=X.sibling}e:for(X=null,J=t;;){if(J.tag===5){if(X===null){X=J;try{d=J.stateNode,b?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=J.stateNode,P=J.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=ro("display",_))}catch(le){et(t,t.return,le)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=b?"":J.memoizedProps}catch(le){et(t,t.return,le)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:xn(r,t),$n(t),u&4&&op(t);break;case 21:break;default:xn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(rp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Tr(d,""),u.flags&=-33);var p=ip(t);Mc(t,p,d);break;case 3:case 4:var _=u.stateNode.containerInfo,S=ip(t);Oc(t,S,_);break;default:throw Error(n(161))}}catch(P){et(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function _v(t,r,o){oe=t,lp(t)}function lp(t,r,o){for(var u=(t.mode&1)!==0;oe!==null;){var d=oe,p=d.child;if(d.tag===22&&u){var _=d.memoizedState!==null||vl;if(!_){var S=d.alternate,P=S!==null&&S.memoizedState!==null||Lt;S=vl;var b=Lt;if(vl=_,(Lt=P)&&!b)for(oe=d;oe!==null;)_=oe,P=_.child,_.tag===22&&_.memoizedState!==null?hp(d):P!==null?(P.return=_,oe=P):hp(d);for(;p!==null;)oe=p,lp(p),p=p.sibling;oe=d,vl=S,Lt=b}up(t)}else d.subtreeFlags&8772&&p!==null?(p.return=d,oe=p):up(t)}}function up(t){for(;oe!==null;){var r=oe;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Lt||_l(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Lt)if(o===null)u.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:Pn(r.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&cf(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}cf(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var b=r.alternate;if(b!==null){var X=b.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&In(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&Lc(r)}catch(G){et(r,r.return,G)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function cp(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function hp(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{_l(4,r)}catch(P){et(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(P){et(r,d,P)}}var p=r.return;try{Lc(r)}catch(P){et(r,p,P)}break;case 5:var _=r.return;try{Lc(r)}catch(P){et(r,_,P)}}}catch(P){et(r,r.return,P)}if(r===t){oe=null;break}var S=r.sibling;if(S!==null){S.return=r.return,oe=S;break}oe=r.return}}var Ev=Math.ceil,El=ce.ReactCurrentDispatcher,Fc=ce.ReactCurrentOwner,pn=ce.ReactCurrentBatchConfig,Le=0,_t=null,ot=null,Rt=0,rn=0,ks=Lr(0),dt=0,$o=null,Ri=0,wl=0,Uc=0,qo=null,Qt=null,zc=0,xs=1/0,fr=null,Tl=!1,Bc=null,Br=null,Sl=!1,br=null,Il=0,Ho=0,bc=null,Rl=-1,Al=0;function bt(){return Le&6?$e():Rl!==-1?Rl:Rl=$e()}function jr(t){return t.mode&1?Le&2&&Rt!==0?Rt&-Rt:rv.transition!==null?(Al===0&&(Al=fi()),Al):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:_o(t.type)),t):1}function Vn(t,r,o,u){if(50<Ho)throw Ho=0,bc=null,Error(n(185));Ar(t,o,u),(!(Le&2)||t!==_t)&&(t===_t&&(!(Le&2)&&(wl|=o),dt===4&&$r(t,Rt)),Kt(t,u),o===1&&Le===0&&!(r.mode&1)&&(xs=$e()+500,el&&Mr()))}function Kt(t,r){var o=t.callbackNode;tr(t,r);var u=di(t,t===_t?Rt:0);if(u===0)o!==null&&po(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&po(o),r===1)t.tag===0?nv(fp.bind(null,t)):Yd(fp.bind(null,t)),Jy(function(){!(Le&6)&&Mr()}),o=null;else{switch(Pr(u)){case 1:o=ci;break;case 4:o=Sr;break;case 16:o=an;break;case 536870912:o=Aa;break;default:o=an}o=wp(o,dp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function dp(t,r){if(Rl=-1,Al=0,Le&6)throw Error(n(327));var o=t.callbackNode;if(Vs()&&t.callbackNode!==o)return null;var u=di(t,t===_t?Rt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Cl(t,u);else{r=u;var d=Le;Le|=2;var p=mp();(_t!==t||Rt!==r)&&(fr=null,xs=$e()+500,Ci(t,r));do try{Sv();break}catch(S){pp(t,S)}while(!0);sc(),El.current=p,Le=d,ot!==null?r=0:(_t=null,Rt=0,r=dt)}if(r!==0){if(r===2&&(d=Jt(t),d!==0&&(u=d,r=jc(t,d))),r===1)throw o=$o,Ci(t,0),$r(t,u),Kt(t,$e()),o;if(r===6)$r(t,u);else{if(d=t.current.alternate,!(u&30)&&!wv(d)&&(r=Cl(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=jc(t,p))),r===1))throw o=$o,Ci(t,0),$r(t,u),Kt(t,$e()),o;switch(t.finishedWork=d,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Pi(t,Qt,fr);break;case 3:if($r(t,u),(u&130023424)===u&&(r=zc+500-$e(),10<r)){if(di(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){bt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Ku(Pi.bind(null,t,Qt,fr),r);break}Pi(t,Qt,fr);break;case 4:if($r(t,u),(u&4194240)===u)break;for(r=t.eventTimes,d=-1;0<u;){var _=31-Ut(u);p=1<<_,_=r[_],_>d&&(d=_),u&=~p}if(u=d,u=$e()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ev(u/1960))-u,10<u){t.timeoutHandle=Ku(Pi.bind(null,t,Qt,fr),u);break}Pi(t,Qt,fr);break;case 5:Pi(t,Qt,fr);break;default:throw Error(n(329))}}}return Kt(t,$e()),t.callbackNode===o?dp.bind(null,t):null}function jc(t,r){var o=qo;return t.current.memoizedState.isDehydrated&&(Ci(t,r).flags|=256),t=Cl(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&$c(r)),t}function $c(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function wv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!An(p(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(t,r){for(r&=~Uc,r&=~wl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function fp(t){if(Le&6)throw Error(n(327));Vs();var r=di(t,0);if(!(r&1))return Kt(t,$e()),null;var o=Cl(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=jc(t,u))}if(o===1)throw o=$o,Ci(t,0),$r(t,r),Kt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Pi(t,Qt,fr),Kt(t,$e()),null}function qc(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(xs=$e()+500,el&&Mr())}}function Ai(t){br!==null&&br.tag===0&&!(Le&6)&&Vs();var r=Le;Le|=1;var o=pn.transition,u=Pe;try{if(pn.transition=null,Pe=1,t)return t()}finally{Pe=u,pn.transition=o,Le=r,!(Le&6)&&Mr()}}function Hc(){rn=ks.current,We(ks)}function Ci(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Yy(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(ec(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ja();break;case 3:As(),We(qt),We(Vt),fc();break;case 5:hc(u);break;case 4:As();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:oc(u.type._context);break;case 22:case 23:Hc()}o=o.return}if(_t=t,ot=t=qr(t.current,null),Rt=rn=r,dt=0,$o=null,Uc=wl=Ri=0,Qt=qo=null,Ti!==null){for(r=0;r<Ti.length;r++)if(o=Ti[r],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=d,u.next=_}o.pending=u}Ti=null}return t}function pp(t,r){do{var o=ot;try{if(sc(),cl.current=pl,hl){for(var u=Ye.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}hl=!1}if(Ii=0,vt=ht=Ye=null,Fo=!1,Uo=0,Fc.current=null,o===null||o.return===null){dt=1,$o=r,ot=null;break}e:{var p=t,_=o.return,S=o,P=r;if(r=Rt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var b=P,X=S,J=X.tag;if(!(X.mode&1)&&(J===0||J===11||J===15)){var G=X.alternate;G?(X.updateQueue=G.updateQueue,X.memoizedState=G.memoizedState,X.lanes=G.lanes):(X.updateQueue=null,X.memoizedState=null)}var re=zf(_);if(re!==null){re.flags&=-257,Bf(re,_,S,p,r),re.mode&1&&Uf(p,b,r),r=re,P=b;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(P),r.updateQueue=le}else ae.add(P);break e}else{if(!(r&1)){Uf(p,b,r),Wc();break e}P=Error(n(426))}}else if(Ke&&S.mode&1){var rt=zf(_);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Bf(rt,_,S,p,r),rc(Cs(P,S));break e}}p=P=Cs(P,S),dt!==4&&(dt=2),qo===null?qo=[p]:qo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var F=Mf(p,P,r);uf(p,F);break e;case 1:S=P;var V=p.type,z=p.stateNode;if(!(p.flags&128)&&(typeof V.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Br===null||!Br.has(z)))){p.flags|=65536,r&=-r,p.lanes|=r;var Z=Ff(p,S,r);uf(p,Z);break e}}p=p.return}while(p!==null)}yp(o)}catch(ue){r=ue,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function mp(){var t=El.current;return El.current=pl,t===null?pl:t}function Wc(){(dt===0||dt===3||dt===2)&&(dt=4),_t===null||!(Ri&268435455)&&!(wl&268435455)||$r(_t,Rt)}function Cl(t,r){var o=Le;Le|=2;var u=mp();(_t!==t||Rt!==r)&&(fr=null,Ci(t,r));do try{Tv();break}catch(d){pp(t,d)}while(!0);if(sc(),Le=o,El.current=u,ot!==null)throw Error(n(261));return _t=null,Rt=0,dt}function Tv(){for(;ot!==null;)gp(ot)}function Sv(){for(;ot!==null&&!Ia();)gp(ot)}function gp(t){var r=Ep(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?yp(t):ot=r,Fc.current=null}function yp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=gv(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(o=mv(o,r,rn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);dt===0&&(dt=5)}function Pi(t,r,o){var u=Pe,d=pn.transition;try{pn.transition=null,Pe=1,Iv(t,r,o,u)}finally{pn.transition=d,Pe=u}return null}function Iv(t,r,o,u){do Vs();while(br!==null);if(Le&6)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(be(t,p),t===_t&&(ot=_t=null,Rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Sl||(Sl=!0,wp(an,function(){return Vs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=pn.transition,pn.transition=null;var _=Pe;Pe=1;var S=Le;Le|=4,Fc.current=null,vv(t,o),ap(o,t),qy(Wu),xr=!!Hu,Wu=Hu=null,t.current=o,_v(o),ku(),Le=S,Pe=_,pn.transition=p}else t.current=o;if(Sl&&(Sl=!1,br=t,Il=d),p=t.pendingLanes,p===0&&(Br=null),Ca(o.stateNode),Kt(t,$e()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Tl)throw Tl=!1,t=Bc,Bc=null,t;return Il&1&&t.tag!==0&&Vs(),p=t.pendingLanes,p&1?t===bc?Ho++:(Ho=0,bc=t):Ho=0,Mr(),null}function Vs(){if(br!==null){var t=Pr(Il),r=pn.transition,o=Pe;try{if(pn.transition=null,Pe=16>t?16:t,br===null)var u=!1;else{if(t=br,br=null,Il=0,Le&6)throw Error(n(331));var d=Le;for(Le|=4,oe=t.current;oe!==null;){var p=oe,_=p.child;if(oe.flags&16){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var b=S[P];for(oe=b;oe!==null;){var X=oe;switch(X.tag){case 0:case 11:case 15:jo(8,X,p)}var J=X.child;if(J!==null)J.return=X,oe=J;else for(;oe!==null;){X=oe;var G=X.sibling,re=X.return;if(np(X),X===b){oe=null;break}if(G!==null){G.return=re,oe=G;break}oe=re}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var rt=le.sibling;le.sibling=null,le=rt}while(le!==null)}}oe=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,oe=_;else e:for(;oe!==null;){if(p=oe,p.flags&2048)switch(p.tag){case 0:case 11:case 15:jo(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,oe=F;break e}oe=p.return}}var V=t.current;for(oe=V;oe!==null;){_=oe;var z=_.child;if(_.subtreeFlags&2064&&z!==null)z.return=_,oe=z;else e:for(_=V;oe!==null;){if(S=oe,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:_l(9,S)}}catch(ue){et(S,S.return,ue)}if(S===_){oe=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,oe=Z;break e}oe=S.return}}if(Le=d,Mr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(hi,t)}catch{}u=!0}return u}finally{Pe=o,pn.transition=r}}return!1}function vp(t,r,o){r=Cs(o,r),r=Mf(t,r,1),t=Ur(t,r,1),r=bt(),t!==null&&(Ar(t,1,r),Kt(t,r))}function et(t,r,o){if(t.tag===3)vp(t,t,o);else for(;r!==null;){if(r.tag===3){vp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Br===null||!Br.has(u))){t=Cs(o,t),t=Ff(r,t,1),r=Ur(r,t,1),t=bt(),r!==null&&(Ar(r,1,t),Kt(r,t));break}}r=r.return}}function Rv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=bt(),t.pingedLanes|=t.suspendedLanes&o,_t===t&&(Rt&o)===o&&(dt===4||dt===3&&(Rt&130023424)===Rt&&500>$e()-zc?Ci(t,0):Uc|=o),Kt(t,r)}function _p(t,r){r===0&&(t.mode&1?(r=es,es<<=1,!(es&130023424)&&(es=4194304)):r=1);var o=bt();t=cr(t,r),t!==null&&(Ar(t,r,o),Kt(t,o))}function Av(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),_p(t,o)}function Cv(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),_p(t,o)}var Ep;Ep=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||qt.current)Wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Wt=!1,pv(t,r,o);Wt=!!(t.flags&131072)}else Wt=!1,Ke&&r.flags&1048576&&Jd(r,nl,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;yl(t,r),t=r.pendingProps;var d=_s(r,Vt.current);Rs(r,o),d=gc(null,r,u,t,d,o);var p=yc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(u)?(p=!0,Za(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,uc(r),d.updater=ml,r.stateNode=d,d._reactInternals=r,Sc(r,u,t,o),r=Cc(null,r,u,!0,p,o)):(r.tag=0,Ke&&p&&Zu(r),Bt(null,r,d,o),r=r.child),r;case 16:u=r.elementType;e:{switch(yl(t,r),t=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=kv(u),t=Pn(u,t),d){case 0:r=Ac(null,r,u,t,o);break e;case 1:r=Wf(null,r,u,t,o);break e;case 11:r=bf(null,r,u,t,o);break e;case 14:r=jf(null,r,u,Pn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Pn(u,d),Ac(t,r,u,d,o);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Pn(u,d),Wf(t,r,u,d,o);case 3:e:{if(Qf(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,d=p.element,lf(t,r),ll(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=Cs(Error(n(423)),r),r=Kf(t,r,u,o,d);break e}else if(u!==d){d=Cs(Error(n(424)),r),r=Kf(t,r,u,o,d);break e}else for(nn=Nr(r.stateNode.containerInfo.firstChild),tn=r,Ke=!0,Cn=null,o=of(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ts(),u===d){r=dr(t,r,o);break e}Bt(t,r,u,o)}r=r.child}return r;case 5:return hf(r),t===null&&nc(r),u=r.type,d=r.pendingProps,p=t!==null?t.memoizedProps:null,_=d.children,Qu(u,d)?_=null:p!==null&&Qu(u,p)&&(r.flags|=32),Hf(t,r),Bt(t,r,_,o),r.child;case 6:return t===null&&nc(r),null;case 13:return Gf(t,r,o);case 4:return cc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Ss(r,null,u,o):Bt(t,r,u,o),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Pn(u,d),bf(t,r,u,d,o);case 7:return Bt(t,r,r.pendingProps,o),r.child;case 8:return Bt(t,r,r.pendingProps.children,o),r.child;case 12:return Bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,p=r.memoizedProps,_=d.value,qe(sl,u._currentValue),u._currentValue=_,p!==null)if(An(p.value,_)){if(p.children===d.children&&!qt.current){r=dr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){_=p.child;for(var P=S.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=hr(-1,o&-o),P.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var X=b.pending;X===null?P.next=P:(P.next=X.next,X.next=P),b.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),ac(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),ac(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Bt(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,Rs(r,o),d=dn(d),u=u(d),r.flags|=1,Bt(t,r,u,o),r.child;case 14:return u=r.type,d=Pn(u,r.pendingProps),d=Pn(u.type,d),jf(t,r,u,d,o);case 15:return $f(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Pn(u,d),yl(t,r),r.tag=1,Ht(u)?(t=!0,Za(r)):t=!1,Rs(r,o),Lf(r,u,d),Sc(r,u,d,o),Cc(null,r,u,!0,t,o);case 19:return Yf(t,r,o);case 22:return qf(t,r,o)}throw Error(n(156,r.tag))};function wp(t,r){return Ji(t,r)}function Pv(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,o,u){return new Pv(t,r,o,u)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kv(t){if(typeof t=="function")return Qc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===kt)return 14}return 2}function qr(t,r){var o=t.alternate;return o===null?(o=mn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Pl(t,r,o,u,d,p){var _=2;if(u=t,typeof t=="function")Qc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case x:return ki(o.children,d,p,r);case T:_=8,d|=8;break;case I:return t=mn(12,o,r,d|2),t.elementType=I,t.lanes=p,t;case A:return t=mn(13,o,r,d),t.elementType=A,t.lanes=p,t;case tt:return t=mn(19,o,r,d),t.elementType=tt,t.lanes=p,t;case Be:return kl(o,d,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case D:_=9;break e;case O:_=11;break e;case kt:_=14;break e;case xt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=mn(_,o,r,d),r.elementType=t,r.type=u,r.lanes=p,r}function ki(t,r,o,u){return t=mn(7,t,u,r),t.lanes=o,t}function kl(t,r,o,u){return t=mn(22,t,u,r),t.elementType=Be,t.lanes=o,t.stateNode={isHidden:!1},t}function Kc(t,r,o){return t=mn(6,t,null,r),t.lanes=o,t}function Gc(t,r,o){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function xv(t,r,o,u,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rr(0),this.expirationTimes=Rr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Xc(t,r,o,u,d,p,_,S,P){return t=new xv(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=mn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},uc(p),t}function Vv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Tp(t){if(!t)return Or;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Ht(o))return Gd(t,o,r)}return r}function Sp(t,r,o,u,d,p,_,S,P){return t=Xc(o,u,!0,t,d,p,_,S,P),t.context=Tp(null),o=t.current,u=bt(),d=jr(o),p=hr(u,d),p.callback=r??null,Ur(o,p,d),t.current.lanes=d,Ar(t,d,u),Kt(t,u),t}function xl(t,r,o,u){var d=r.current,p=bt(),_=jr(d);return o=Tp(o),r.context===null?r.context=o:r.pendingContext=o,r=hr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Ur(d,r,_),t!==null&&(Vn(t,d,_,p),al(t,d,_)),_}function Vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ip(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Yc(t,r){Ip(t,r),(t=t.alternate)&&Ip(t,r)}function Dv(){return null}var Rp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jc(t){this._internalRoot=t}Dl.prototype.render=Jc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));xl(t,r,null,null)},Dl.prototype.unmount=Jc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ai(function(){xl(null,t,null,null)}),r[or]=null}};function Dl(t){this._internalRoot=t}Dl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Da();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Mn.length&&r!==0&&r<Mn[o].priority;o++);Mn.splice(o,0,t),o===0&&Oa(t)}};function Zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ap(){}function Nv(t,r,o,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var b=Vl(_);p.call(b)}}var _=Sp(r,u,t,0,null,!1,!1,"",Ap);return t._reactRootContainer=_,t[or]=_.current,ko(t.nodeType===8?t.parentNode:t),Ai(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var S=u;u=function(){var b=Vl(P);S.call(b)}}var P=Xc(t,0,!1,null,null,!1,!1,"",Ap);return t._reactRootContainer=P,t[or]=P.current,ko(t.nodeType===8?t.parentNode:t),Ai(function(){xl(r,P,o,u)}),P}function Ll(t,r,o,u,d){var p=o._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var S=d;d=function(){var P=Vl(_);S.call(P)}}xl(r,_,t,d)}else _=Nv(o,r,t,d,u);return Vl(_)}xa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ir(r.pendingLanes);o!==0&&(Cr(r,o|1),Kt(r,$e()),!(Le&6)&&(xs=$e()+500,Mr()))}break;case 13:Ai(function(){var u=cr(t,1);if(u!==null){var d=bt();Vn(u,t,1,d)}}),Yc(t,1)}},ts=function(t){if(t.tag===13){var r=cr(t,134217728);if(r!==null){var o=bt();Vn(r,t,134217728,o)}Yc(t,134217728)}},Va=function(t){if(t.tag===13){var r=jr(t),o=cr(t,r);if(o!==null){var u=bt();Vn(o,t,r,u)}Yc(t,r)}},Da=function(){return Pe},Na=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},Wi=function(t,r,o){switch(r){case"input":if(Zs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var d=Ya(u);if(!d)throw Error(n(90));Bi(u),Zs(u,d)}}}break;case"textarea":qi(t,o);break;case"select":r=o.value,r!=null&&Jn(t,!!o.multiple,r,!1)}},oi=qc,uo=Ai;var Lv={usingClientEntryPoint:!1,Events:[Do,ys,Ya,Ln,lo,qc]},Wo={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ov={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fo(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||Dv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{hi=Ol.inject(Ov),Yt=Ol}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lv,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zc(r))throw Error(n(200));return Vv(t,r,null,o)},Gt.createRoot=function(t,r){if(!Zc(t))throw Error(n(299));var o=!1,u="",d=Rp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Xc(t,1,!1,null,null,o,!1,u,d),t[or]=r.current,ko(t.nodeType===8?t.parentNode:t),new Jc(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=fo(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Ai(t)},Gt.hydrate=function(t,r,o){if(!Nl(r))throw Error(n(200));return Ll(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!Zc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,d=!1,p="",_=Rp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Sp(r,null,t,1,o??null,d,!1,p,_),t[or]=r.current,ko(t),u)for(t=0;t<u.length;t++)o=u[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new Dl(r)},Gt.render=function(t,r,o){if(!Nl(r))throw Error(n(200));return Ll(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!Nl(t))throw Error(n(40));return t._reactRootContainer?(Ai(function(){Ll(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1},Gt.unstable_batchedUpdates=qc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Nl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Ll(t,r,o,!1,u)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Lp;function $v(){if(Lp)return nh.exports;Lp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nh.exports=jv(),nh.exports}var Op;function qv(){if(Op)return Ml;Op=1;var i=$v();return Ml.createRoot=i.createRoot,Ml.hydrateRoot=i.hydrateRoot,Ml}var Hv=qv(),Ko={},Mp;function Wv(){if(Mp)return Ko;Mp=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.parse=h,Ko.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function h(C,L){const B=new c,$=C.length;if($<2)return B;const U=(L==null?void 0:L.decode)||w;let H=0;do{const K=C.indexOf("=",H);if(K===-1)break;const ne=C.indexOf(";",H),ce=ne===-1?$:ne;if(K>ce){H=C.lastIndexOf(";",K-1)+1;continue}const Ae=m(C,H,K),Te=g(C,K,Ae),x=C.slice(Ae,Te);if(B[x]===void 0){let T=m(C,K+1,ce),I=g(C,ce,T);const k=U(C.slice(T,I));B[x]=k}H=ce+1}while(H<$);return B}function m(C,L,B){do{const $=C.charCodeAt(L);if($!==32&&$!==9)return L}while(++L<B);return B}function g(C,L,B){for(;L>B;){const $=C.charCodeAt(--L);if($!==32&&$!==9)return L+1}return B}function v(C,L,B){const $=(B==null?void 0:B.encode)||encodeURIComponent;if(!i.test(C))throw new TypeError(`argument name is invalid: ${C}`);const U=$(L);if(!e.test(U))throw new TypeError(`argument val is invalid: ${L}`);let H=C+"="+U;if(!B)return H;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);H+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);H+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);H+="; Path="+B.path}if(B.expires){if(!R(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);H+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&(H+="; HttpOnly"),B.secure&&(H+="; Secure"),B.partitioned&&(H+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return H}function w(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function R(C){return a.call(C)==="[object Date]"}return Ko}Wv();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fp="popstate";function Qv(i={}){function e(s,a){let{pathname:c,search:h,hash:m}=s.location;return mh("",{pathname:c,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ia(a)}return Gv(e,n,null,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Wn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kv(){return Math.random().toString(36).substring(2,10)}function Up(i,e){return{usr:i.state,key:i.key,idx:e}}function mh(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Hs(e):e,state:n,key:e&&e.key||s||Kv()}}function ia({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Hs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Gv(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,h=a.history,m="POP",g=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function R(){m="POP";let U=w(),H=U==null?null:U-v;v=U,g&&g({action:m,location:$.location,delta:H})}function C(U,H){m="PUSH";let K=mh($.location,U,H);v=w()+1;let ne=Up(K,v),ce=$.createHref(K);try{h.pushState(ne,"",ce)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;a.location.assign(ce)}c&&g&&g({action:m,location:$.location,delta:1})}function L(U,H){m="REPLACE";let K=mh($.location,U,H);v=w();let ne=Up(K,v),ce=$.createHref(K);h.replaceState(ne,"",ce),c&&g&&g({action:m,location:$.location,delta:0})}function B(U){let H=a.location.origin!=="null"?a.location.origin:a.location.href,K=typeof U=="string"?U:ia(U);return K=K.replace(/ $/,"%20"),Je(H,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,H)}let $={get action(){return m},get location(){return i(a,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Fp,R),g=U,()=>{a.removeEventListener(Fp,R),g=null}},createHref(U){return e(a,U)},createURL:B,encodeLocation(U){let H=B(U);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:C,replace:L,go(U){return h.go(U)}};return $}function Fm(i,e,n="/"){return Xv(i,e,n,!1)}function Xv(i,e,n,s){let a=typeof e=="string"?Hs(e):e,c=Xr(a.pathname||"/",n);if(c==null)return null;let h=Um(i);Yv(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=l_(c);m=o_(h[g],v,s)}return m}function Um(i,e=[],n=[],s=""){let a=(c,h,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=pr([s,g.relativePath]),w=n.concat(g);c.children&&c.children.length>0&&(Je(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Um(c.children,e,w,v)),!(c.path==null&&!c.index)&&e.push({path:v,score:i_(v,c.index),routesMeta:w})};return i.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,h);else for(let g of zm(c.path))a(c,h,g)}),e}function zm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let h=zm(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Yv(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:s_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Jv=/^:[\w-]+$/,Zv=3,e_=2,t_=1,n_=10,r_=-2,zp=i=>i==="*";function i_(i,e){let n=i.split("/"),s=n.length;return n.some(zp)&&(s+=r_),e&&(s+=e_),n.filter(a=>!zp(a)).reduce((a,c)=>a+(Jv.test(c)?Zv:c===""?t_:n_),s)}function s_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function o_(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",R=Yl({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),C=g.route;if(!R&&v&&n&&!s[s.length-1].route.index&&(R=Yl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!R)return null;Object.assign(a,R.params),h.push({params:a,pathname:pr([c,R.pathname]),pathnameBase:d_(pr([c,R.pathnameBase])),route:C}),R.pathnameBase!=="/"&&(c=pr([c,R.pathnameBase]))}return h}function Yl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=a_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:R},C)=>{if(w==="*"){let B=m[C]||"";h=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const L=m[C];return R&&!L?v[w]=void 0:v[w]=(L||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:i}}function a_(i,e=!1,n=!0){Wn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function l_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Xr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function u_(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Hs(i):i;return{pathname:n?n.startsWith("/")?n:c_(n,e):e,search:f_(s),hash:p_(a)}}function c_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h_(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bm(i){let e=h_(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function bm(i,e,n,s=!1){let a;typeof i=="string"?a=Hs(i):(a={...i},Je(!a.pathname||!a.pathname.includes("?"),sh("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),sh("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),sh("#","search","hash",a)));let c=i===""||a.pathname==="",h=c?"/":a.pathname,m;if(h==null)m=n;else{let R=e.length-1;if(!s&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),R-=1;a.pathname=C.join("/")}m=R>=0?e[R]:"/"}let g=u_(a,m),v=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var pr=i=>i.join("/").replace(/\/\/+/g,"/"),d_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),f_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,p_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function m_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var jm=["POST","PUT","PATCH","DELETE"];new Set(jm);var g_=["GET",...jm];new Set(g_);var Ws=q.createContext(null);Ws.displayName="DataRouter";var hu=q.createContext(null);hu.displayName="DataRouterState";var $m=q.createContext({isTransitioning:!1});$m.displayName="ViewTransition";var y_=q.createContext(new Map);y_.displayName="Fetchers";var v_=q.createContext(null);v_.displayName="Await";var Gn=q.createContext(null);Gn.displayName="Navigation";var pa=q.createContext(null);pa.displayName="Location";var Er=q.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var zh=q.createContext(null);zh.displayName="RouteError";function __(i,{relative:e}={}){Je(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Gn),{hash:a,pathname:c,search:h}=ga(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:pr([n,c])),s.createHref({pathname:m,search:h,hash:a})}function ma(){return q.useContext(pa)!=null}function Oi(){return Je(ma(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(pa).location}var qm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hm(i){q.useContext(Gn).static||q.useLayoutEffect(i)}function Bh(){let{isDataRoute:i}=q.useContext(Er);return i?D_():E_()}function E_(){Je(ma(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(Ws),{basename:e,navigator:n}=q.useContext(Gn),{matches:s}=q.useContext(Er),{pathname:a}=Oi(),c=JSON.stringify(Bm(s)),h=q.useRef(!1);return Hm(()=>{h.current=!0}),q.useCallback((g,v={})=>{if(Wn(h.current,qm),!h.current)return;if(typeof g=="number"){n.go(g);return}let w=bm(g,JSON.parse(c),a,v.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:pr([e,w.pathname])),(v.replace?n.replace:n.push)(w,v.state,v)},[e,n,c,a,i])}q.createContext(null);function ga(i,{relative:e}={}){let{matches:n}=q.useContext(Er),{pathname:s}=Oi(),a=JSON.stringify(Bm(n));return q.useMemo(()=>bm(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function w_(i,e){return Wm(i,e)}function Wm(i,e,n,s){var H;Je(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=q.useContext(Gn),{matches:c}=q.useContext(Er),h=c[c.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let K=w&&w.path||"";Qm(g,!w||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let R=Oi(),C;if(e){let K=typeof e=="string"?Hs(e):e;Je(v==="/"||((H=K.pathname)==null?void 0:H.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${K.pathname}" was given in the \`location\` prop.`),C=K}else C=R;let L=C.pathname||"/",B=L;if(v!=="/"){let K=v.replace(/^\//,"").split("/");B="/"+L.replace(/^\//,"").split("/").slice(K.length).join("/")}let $=Fm(i,{pathname:B});Wn(w||$!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Wn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=A_($&&$.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:pr([v,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:pr([v,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,n,s);return e&&U?q.createElement(pa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},U):U}function T_(){let i=V_(),e=m_(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:c},"ErrorBoundary")," or"," ",q.createElement("code",{style:c},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:a},n):null,h)}var S_=q.createElement(T_,null),I_=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(Er.Provider,{value:this.props.routeContext},q.createElement(zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R_({routeContext:i,match:e,children:n}){let s=q.useContext(Ws);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Er.Provider,{value:i},n)}function A_(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let g=a.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:w,errors:R}=n,C=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!R||R[v.route.id]===void 0);if(v.route.lazy||C){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,w)=>{let R,C=!1,L=null,B=null;n&&(R=c&&v.route.id?c[v.route.id]:void 0,L=v.route.errorElement||S_,h&&(m<0&&w===0?(Qm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,B=null):m===w&&(C=!0,B=v.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,w+1)),U=()=>{let H;return R?H=L:C?H=B:v.route.Component?H=q.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=g,q.createElement(R_,{match:v,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:H})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?q.createElement(I_,{location:n.location,revalidation:n.revalidation,component:L,error:R,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}function bh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C_(i){let e=q.useContext(Ws);return Je(e,bh(i)),e}function P_(i){let e=q.useContext(hu);return Je(e,bh(i)),e}function k_(i){let e=q.useContext(Er);return Je(e,bh(i)),e}function jh(i){let e=k_(i),n=e.matches[e.matches.length-1];return Je(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function x_(){return jh("useRouteId")}function V_(){var s;let i=q.useContext(zh),e=P_("useRouteError"),n=jh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function D_(){let{router:i}=C_("useNavigate"),e=jh("useNavigate"),n=q.useRef(!1);return Hm(()=>{n.current=!0}),q.useCallback(async(a,c={})=>{Wn(n.current,qm),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var Bp={};function Qm(i,e,n){!e&&!Bp[i]&&(Bp[i]=!0,Wn(!1,n))}q.memo(N_);function N_({routes:i,future:e,state:n}){return Wm(i,void 0,n,e)}function gh(i){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L_({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Je(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:h,navigator:a,static:c,future:{}}),[h,a,c]);typeof n=="string"&&(n=Hs(n));let{pathname:g="/",search:v="",hash:w="",state:R=null,key:C="default"}=n,L=q.useMemo(()=>{let B=Xr(g,h);return B==null?null:{location:{pathname:B,search:v,hash:w,state:R,key:C},navigationType:s}},[h,g,v,w,R,C,s]);return Wn(L!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:q.createElement(Gn.Provider,{value:m},q.createElement(pa.Provider,{children:e,value:L}))}function O_({children:i,location:e}){return w_(yh(i),e)}function yh(i,e=[]){let n=[];return q.Children.forEach(i,(s,a)=>{if(!q.isValidElement(s))return;let c=[...e,a];if(s.type===q.Fragment){n.push.apply(n,yh(s.props.children,c));return}Je(s.type===gh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=yh(s.props.children,c)),n.push(h)}),n}var $l="get",ql="application/x-www-form-urlencoded";function du(i){return i!=null&&typeof i.tagName=="string"}function M_(i){return du(i)&&i.tagName.toLowerCase()==="button"}function F_(i){return du(i)&&i.tagName.toLowerCase()==="form"}function U_(i){return du(i)&&i.tagName.toLowerCase()==="input"}function z_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function B_(i,e){return i.button===0&&(!e||e==="_self")&&!z_(i)}var Fl=null;function b_(){if(Fl===null)try{new FormData(document.createElement("form"),0),Fl=!1}catch{Fl=!0}return Fl}var j_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oh(i){return i!=null&&!j_.has(i)?(Wn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ql}"`),null):i}function $_(i,e){let n,s,a,c,h;if(F_(i)){let m=i.getAttribute("action");s=m?Xr(m,e):null,n=i.getAttribute("method")||$l,a=oh(i.getAttribute("enctype"))||ql,c=new FormData(i)}else if(M_(i)||U_(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Xr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||$l,a=oh(i.getAttribute("formenctype"))||oh(m.getAttribute("enctype"))||ql,c=new FormData(m,i),!b_()){let{name:v,type:w,value:R}=i;if(w==="image"){let C=v?`${v}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else v&&c.append(v,R)}}else{if(du(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$l,s=null,a=ql,h=i}return c&&a==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:h}}function $h(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function q_(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H_(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function W_(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let h=await q_(c,n);return h.links?h.links():[]}return[]}));return X_(s.flat(1).filter(H_).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function bp(i,e,n,s,a,c){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,m=(g,v)=>{var w;return n[v].pathname!==g.pathname||((w=n[v].route.path)==null?void 0:w.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):c==="data"?e.filter((g,v)=>{var R;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function Q_(i,e){return K_(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function K_(i){return[...new Set(i)]}function G_(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function X_(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(G_(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function Y_(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function J_(){let i=q.useContext(Ws);return $h(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Z_(){let i=q.useContext(hu);return $h(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qh=q.createContext(void 0);qh.displayName="FrameworkContext";function Km(){let i=q.useContext(qh);return $h(i,"You must render this element inside a <HydratedRouter> element"),i}function e0(i,e){let n=q.useContext(qh),[s,a]=q.useState(!1),[c,h]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:R}=e,C=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=H=>{H.forEach(K=>{h(K.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return C.current&&U.observe(C.current),()=>{U.disconnect()}}},[i]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let L=()=>{a(!0)},B=()=>{a(!1),h(!1)};return n?i!=="intent"?[c,C,{}]:[c,C,{onFocus:Go(m,L),onBlur:Go(g,B),onMouseEnter:Go(v,L),onMouseLeave:Go(w,B),onTouchStart:Go(R,L)}]:[!1,C,{}]}function Go(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function t0({page:i,...e}){let{router:n}=J_(),s=q.useMemo(()=>Fm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(r0,{page:i,matches:s,...e}):(console.warn(`Tried to prefetch ${i} but no routes matched.`),null)}function n0(i){let{manifest:e,routeModules:n}=Km(),[s,a]=q.useState([]);return q.useEffect(()=>{let c=!1;return W_(i,e,n).then(h=>{c||a(h)}),()=>{c=!0}},[i,e,n]),s}function r0({page:i,matches:e,...n}){let s=Oi(),{manifest:a,routeModules:c}=Km(),{loaderData:h,matches:m}=Z_(),g=q.useMemo(()=>bp(i,e,m,a,s,"data"),[i,e,m,a,s]),v=q.useMemo(()=>bp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,B=!1;if(e.forEach(U=>{var K;let H=a.routes[U.route.id];!H||!H.hasLoader||(!g.some(ne=>ne.route.id===U.route.id)&&U.route.id in h&&((K=c[U.route.id])!=null&&K.shouldRevalidate)||H.hasClientLoader?B=!0:L.add(U.route.id))}),L.size===0)return[];let $=Y_(i);return B&&L.size>0&&$.searchParams.set("_routes",e.filter(U=>L.has(U.route.id)).map(U=>U.route.id).join(",")),[$.pathname+$.search]},[h,s,a,g,e,i,c]),R=q.useMemo(()=>Q_(v,a),[v,a]),C=n0(v);return q.createElement(q.Fragment,null,w.map(L=>q.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),R.map(L=>q.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),C.map(({key:L,link:B})=>q.createElement("link",{key:L,...B})))}function i0(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gm&&(window.__reactRouterVersion="7.0.2")}catch{}function s0({basename:i,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=Qv({window:n,v5Compat:!0}));let a=s.current,[c,h]=q.useState({action:a.action,location:a.location}),m=q.useCallback(g=>{q.startTransition(()=>h(g))},[h]);return q.useLayoutEffect(()=>a.listen(m),[a,m]),q.createElement(L_,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var Xm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ym=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:h,state:m,target:g,to:v,preventScrollReset:w,viewTransition:R,...C},L){let{basename:B}=q.useContext(Gn),$=typeof v=="string"&&Xm.test(v),U,H=!1;if(typeof v=="string"&&$&&(U=v,Gm))try{let I=new URL(window.location.href),k=v.startsWith("//")?new URL(I.protocol+v):new URL(v),D=Xr(k.pathname,B);k.origin===I.origin&&D!=null?v=D+k.search+k.hash:H=!0}catch{Wn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=__(v,{relative:a}),[ne,ce,Ae]=e0(s,C),Te=u0(v,{replace:h,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:R});function x(I){e&&e(I),I.defaultPrevented||Te(I)}let T=q.createElement("a",{...C,...Ae,href:U||K,onClick:H||c?e:x,ref:i0(L,ce),target:g,"data-discover":!$&&n==="render"?"true":void 0});return ne&&!$?q.createElement(q.Fragment,null,T,q.createElement(t0,{page:K})):T});Ym.displayName="Link";var o0=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:h,viewTransition:m,children:g,...v},w){let R=ga(h,{relative:v.relative}),C=Oi(),L=q.useContext(hu),{navigator:B,basename:$}=q.useContext(Gn),U=L!=null&&p0(R)&&m===!0,H=B.encodeLocation?B.encodeLocation(R).pathname:R.pathname,K=C.pathname,ne=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(K=K.toLowerCase(),ne=ne?ne.toLowerCase():null,H=H.toLowerCase()),ne&&$&&(ne=Xr(ne,$)||ne);const ce=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let Ae=K===H||!a&&K.startsWith(H)&&K.charAt(ce)==="/",Te=ne!=null&&(ne===H||!a&&ne.startsWith(H)&&ne.charAt(H.length)==="/"),x={isActive:Ae,isPending:Te,isTransitioning:U},T=Ae?e:void 0,I;typeof s=="function"?I=s(x):I=[s,Ae?"active":null,Te?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(x):c;return q.createElement(Ym,{...v,"aria-current":T,className:I,ref:w,style:k,to:h,viewTransition:m},typeof g=="function"?g(x):g)});o0.displayName="NavLink";var a0=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:h=$l,action:m,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:R,...C},L)=>{let B=d0(),$=f0(m,{relative:v}),U=h.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&Xm.test(m),K=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let ce=ne.nativeEvent.submitter,Ae=(ce==null?void 0:ce.getAttribute("formmethod"))||h;B(ce||ne.currentTarget,{fetcherKey:e,method:Ae,navigate:n,replace:a,state:c,relative:v,preventScrollReset:w,viewTransition:R})};return q.createElement("form",{ref:L,method:U,action:$,onSubmit:s?g:K,...C,"data-discover":!H&&i==="render"?"true":void 0})});a0.displayName="Form";function l0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jm(i){let e=q.useContext(Ws);return Je(e,l0(i)),e}function u0(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:h}={}){let m=Bh(),g=Oi(),v=ga(i,{relative:c});return q.useCallback(w=>{if(B_(w,e)){w.preventDefault();let R=n!==void 0?n:ia(g)===ia(v);m(i,{replace:R,state:s,preventScrollReset:a,relative:c,viewTransition:h})}},[g,m,v,n,s,e,i,a,c,h])}var c0=0,h0=()=>`__${String(++c0)}__`;function d0(){let{router:i}=Jm("useSubmit"),{basename:e}=q.useContext(Gn),n=x_();return q.useCallback(async(s,a={})=>{let{action:c,method:h,encType:m,formData:g,body:v}=$_(s,e);if(a.navigate===!1){let w=a.fetcherKey||h0();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function f0(i,{relative:e}={}){let{basename:n}=q.useContext(Gn),s=q.useContext(Er);Je(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...ga(i||".",{relative:e})},h=Oi();if(i==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(R=>R).forEach(R=>m.append("index",R));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:pr([n,c.pathname])),ia(c)}function p0(i,e={}){let n=q.useContext($m);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Jm("useViewTransitionState"),a=ga(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Xr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Xr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yl(a.pathname,h)!=null||Yl(a.pathname,c)!=null}new TextEncoder;const m0="/assets/QuizApp-DyMvRPV3.png";var jp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},g0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},eg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,w=c>>2,R=(c&3)<<4|m>>4;let C=(m&15)<<2|v>>6,L=v&63;g||(L=64,h||(C=64)),s.push(n[w],n[R],n[C],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Zm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):g0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||R==null)throw new y0;const C=c<<2|m>>4;if(s.push(C),v!==64){const L=m<<4&240|v>>2;if(s.push(L),R!==64){const B=v<<6&192|R;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class y0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v0=function(i){const e=Zm(i);return eg.encodeByteArray(e,!0)},Jl=function(i){return v0(i).replace(/\./g,"")},_0=function(i){try{return eg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=()=>E0().__FIREBASE_DEFAULTS__,T0=()=>{if(typeof process>"u"||typeof jp>"u")return;const i=jp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},S0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&_0(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return w0()||T0()||S0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},I0=i=>{var e,n;return(n=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},R0=i=>{const e=I0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},tg=()=>{var i;return(i=Hh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Jl(JSON.stringify(n)),Jl(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k0(){var i;const e=(i=Hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x0(){return!k0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V0(){try{return typeof indexedDB=="object"}catch{return!1}}function D0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="FirebaseError";class Qs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=N0,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ng.prototype.create)}}class ng{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?L0(c,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Qs(a,m,s)}}function L0(i,e){return i.replace(O0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const O0=/\{\$([^}]+)}/g;function vh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],h=e[a];if($p(c)&&$p(h)){if(!vh(c,h))return!1}else if(c!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function $p(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(i){return i&&i._delegate?i._delegate:i}class oa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new A0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U0(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const h=this.instances.get(a);return h&&e(h,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:F0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F0(i){return i===xi?void 0:i}function U0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const B0={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},b0=Ne.INFO,j0={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},$0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=j0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=b0,this._logHandler=$0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const q0=(i,e)=>e.some(n=>i instanceof n);let qp,Hp;function H0(){return qp||(qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W0(){return Hp||(Hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ig=new WeakMap,_h=new WeakMap,sg=new WeakMap,ah=new WeakMap,Wh=new WeakMap;function Q0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(Qr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ig.set(n,i)}).catch(()=>{}),Wh.set(e,i),e}function K0(i){if(_h.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});_h.set(i,e)}let Eh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return _h.get(i);if(e==="objectStoreNames")return i.objectStoreNames||sg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function G0(i){Eh=i(Eh)}function X0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(lh(this),e,...n);return sg.set(s,e.sort?e.sort():[e]),Qr(s)}:W0().includes(i)?function(...e){return i.apply(lh(this),e),Qr(ig.get(this))}:function(...e){return Qr(i.apply(lh(this),e))}}function Y0(i){return typeof i=="function"?X0(i):(i instanceof IDBTransaction&&K0(i),q0(i,H0())?new Proxy(i,Eh):i)}function Qr(i){if(i instanceof IDBRequest)return Q0(i);if(ah.has(i))return ah.get(i);const e=Y0(i);return e!==i&&(ah.set(i,e),Wh.set(e,i)),e}const lh=i=>Wh.get(i);function J0(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const h=indexedDB.open(i,e),m=Qr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Qr(h.result),g.oldVersion,g.newVersion,Qr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const Z0=["get","getKey","getAll","getAllKeys","count"],eE=["put","add","delete","clear"],uh=new Map;function Wp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(uh.get(e))return uh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=eE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Z0.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&g.done]))[0]};return uh.set(e,c),c}G0(i=>({...i,get:(e,n,s)=>Wp(e,n)||i.get(e,n,s),has:(e,n)=>!!Wp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wh="@firebase/app",Qp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new rg("@firebase/app"),rE="@firebase/app-compat",iE="@firebase/analytics-compat",sE="@firebase/analytics",oE="@firebase/app-check-compat",aE="@firebase/app-check",lE="@firebase/auth",uE="@firebase/auth-compat",cE="@firebase/database",hE="@firebase/data-connect",dE="@firebase/database-compat",fE="@firebase/functions",pE="@firebase/functions-compat",mE="@firebase/installations",gE="@firebase/installations-compat",yE="@firebase/messaging",vE="@firebase/messaging-compat",_E="@firebase/performance",EE="@firebase/performance-compat",wE="@firebase/remote-config",TE="@firebase/remote-config-compat",SE="@firebase/storage",IE="@firebase/storage-compat",RE="@firebase/firestore",AE="@firebase/vertexai",CE="@firebase/firestore-compat",PE="firebase",kE="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="[DEFAULT]",xE={[wh]:"fire-core",[rE]:"fire-core-compat",[sE]:"fire-analytics",[iE]:"fire-analytics-compat",[aE]:"fire-app-check",[oE]:"fire-app-check-compat",[lE]:"fire-auth",[uE]:"fire-auth-compat",[cE]:"fire-rtdb",[hE]:"fire-data-connect",[dE]:"fire-rtdb-compat",[fE]:"fire-fn",[pE]:"fire-fn-compat",[mE]:"fire-iid",[gE]:"fire-iid-compat",[yE]:"fire-fcm",[vE]:"fire-fcm-compat",[_E]:"fire-perf",[EE]:"fire-perf-compat",[wE]:"fire-rc",[TE]:"fire-rc-compat",[SE]:"fire-gcs",[IE]:"fire-gcs-compat",[RE]:"fire-fst",[CE]:"fire-fst-compat",[AE]:"fire-vertex","fire-js":"fire-js",[PE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Map,VE=new Map,Sh=new Map;function Kp(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function eu(i){const e=i.name;if(Sh.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Sh.set(e,i);for(const n of Zl.values())Kp(n,i);for(const n of VE.values())Kp(n,i);return!0}function DE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new ng("app","Firebase",NE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=kE;function og(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Th,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=tg()),!n)throw Kr.create("no-options");const c=Zl.get(a);if(c){if(vh(n,c.options)&&vh(s,c.config))return c;throw Kr.create("duplicate-app",{appName:a})}const h=new z0(a);for(const g of Sh.values())h.addComponent(g);const m=new LE(n,s,h);return Zl.set(a,m),m}function ME(i=Th){const e=Zl.get(i);if(!e&&i===Th&&tg())return og();if(!e)throw Kr.create("no-app",{appName:i});return e}function Ms(i,e,n){var s;let a=(s=xE[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(m.join(" "));return}eu(new oa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firebase-heartbeat-database",UE=1,aa="firebase-heartbeat-store";let ch=null;function ag(){return ch||(ch=J0(FE,UE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(aa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),ch}async function zE(i){try{const n=(await ag()).transaction(aa),s=await n.objectStore(aa).get(lg(i));return await n.done,s}catch(e){if(e instanceof Qs)yr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function Gp(i,e){try{const s=(await ag()).transaction(aa,"readwrite");await s.objectStore(aa).put(e,lg(i)),await s.done}catch(n){if(n instanceof Qs)yr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(s.message)}}}function lg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=1024,bE=30*24*60*60*1e3;class jE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Xp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=bE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){yr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xp(),{heartbeatsToSend:s,unsentEntries:a}=$E(this._heartbeatsCache.heartbeats),c=Jl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return yr.warn(n),""}}}function Xp(){return new Date().toISOString().substring(0,10)}function $E(i,e=BE){const n=[];let s=i.slice();for(const a of i){const c=n.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),Yp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Yp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V0()?D0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Yp(i){return Jl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(i){eu(new oa("platform-logger",e=>new tE(e),"PRIVATE")),eu(new oa("heartbeat",e=>new jE(e),"PRIVATE")),Ms(wh,Qp,i),Ms(wh,Qp,"esm2017"),Ms("fire-js","")}HE("");var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,ug;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function I(){}I.prototype=T.prototype,x.D=T.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(k,D,O){for(var A=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)A[tt-2]=arguments[tt];return T.prototype[D].apply(k,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)k[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=x.g[0],I=x.g[1],D=x.g[2];var O=x.g[3],A=T+(O^I&(D^O))+k[0]+3614090360&4294967295;T=I+(A<<7&4294967295|A>>>25),A=O+(D^T&(I^D))+k[1]+3905402710&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(I^O&(T^I))+k[2]+606105819&4294967295,D=O+(A<<17&4294967295|A>>>15),A=I+(T^D&(O^T))+k[3]+3250441966&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(O^I&(D^O))+k[4]+4118548399&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(D^T&(I^D))+k[5]+1200080426&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(I^O&(T^I))+k[6]+2821735955&4294967295,D=O+(A<<17&4294967295|A>>>15),A=I+(T^D&(O^T))+k[7]+4249261313&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(O^I&(D^O))+k[8]+1770035416&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(D^T&(I^D))+k[9]+2336552879&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(I^O&(T^I))+k[10]+4294925233&4294967295,D=O+(A<<17&4294967295|A>>>15),A=I+(T^D&(O^T))+k[11]+2304563134&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(O^I&(D^O))+k[12]+1804603682&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(D^T&(I^D))+k[13]+4254626195&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(I^O&(T^I))+k[14]+2792965006&4294967295,D=O+(A<<17&4294967295|A>>>15),A=I+(T^D&(O^T))+k[15]+1236535329&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(D^O&(I^D))+k[1]+4129170786&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^D&(T^I))+k[6]+3225465664&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(O^T))+k[11]+643717713&4294967295,D=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(D^O))+k[0]+3921069994&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(D^O&(I^D))+k[5]+3593408605&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^D&(T^I))+k[10]+38016083&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(O^T))+k[15]+3634488961&4294967295,D=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(D^O))+k[4]+3889429448&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(D^O&(I^D))+k[9]+568446438&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^D&(T^I))+k[14]+3275163606&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(O^T))+k[3]+4107603335&4294967295,D=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(D^O))+k[8]+1163531501&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(D^O&(I^D))+k[13]+2850285829&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^D&(T^I))+k[2]+4243563512&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(O^T))+k[7]+1735328473&4294967295,D=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(D^O))+k[12]+2368359562&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(I^D^O)+k[5]+4294588738&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^D)+k[8]+2272392833&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^I)+k[11]+1839030562&4294967295,D=O+(A<<16&4294967295|A>>>16),A=I+(D^O^T)+k[14]+4259657740&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(I^D^O)+k[1]+2763975236&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^D)+k[4]+1272893353&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^I)+k[7]+4139469664&4294967295,D=O+(A<<16&4294967295|A>>>16),A=I+(D^O^T)+k[10]+3200236656&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(I^D^O)+k[13]+681279174&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^D)+k[0]+3936430074&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^I)+k[3]+3572445317&4294967295,D=O+(A<<16&4294967295|A>>>16),A=I+(D^O^T)+k[6]+76029189&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(I^D^O)+k[9]+3654602809&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^D)+k[12]+3873151461&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^I)+k[15]+530742520&4294967295,D=O+(A<<16&4294967295|A>>>16),A=I+(D^O^T)+k[2]+3299628645&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(D^(I|~O))+k[0]+4096336452&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~D))+k[7]+1126891415&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~I))+k[14]+2878612391&4294967295,D=O+(A<<15&4294967295|A>>>17),A=I+(O^(D|~T))+k[5]+4237533241&4294967295,I=D+(A<<21&4294967295|A>>>11),A=T+(D^(I|~O))+k[12]+1700485571&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~D))+k[3]+2399980690&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~I))+k[10]+4293915773&4294967295,D=O+(A<<15&4294967295|A>>>17),A=I+(O^(D|~T))+k[1]+2240044497&4294967295,I=D+(A<<21&4294967295|A>>>11),A=T+(D^(I|~O))+k[8]+1873313359&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~D))+k[15]+4264355552&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~I))+k[6]+2734768916&4294967295,D=O+(A<<15&4294967295|A>>>17),A=I+(O^(D|~T))+k[13]+1309151649&4294967295,I=D+(A<<21&4294967295|A>>>11),A=T+(D^(I|~O))+k[4]+4149444226&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~D))+k[11]+3174756917&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~I))+k[2]+718787259&4294967295,D=O+(A<<15&4294967295|A>>>17),A=I+(O^(D|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+O&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var I=T-this.blockSize,k=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=I;)a(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<T;)if(k[D++]=x.charCodeAt(O++),D==this.blockSize){a(this,k),D=0;break}}else for(;O<T;)if(k[D++]=x[O++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var I=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=I&255,I/=256;for(this.u(x),x=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)x[I++]=this.g[T]>>>k&255;return x};function c(x,T){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=T(x)}function h(x,T){this.h=T;for(var I=[],k=!0,D=x.length-1;0<=D;D--){var O=x[D]|0;k&&O==T||(I[D]=O,k=!1)}this.g=I}var m={};function g(x){return-128<=x&&128>x?c(x,function(T){return new h([T|0],0>T?-1:0)}):new h([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return U(v(-x));for(var T=[],I=1,k=0;x>=I;k++)T[k]=x/I|0,I*=4294967296;return new h(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return U(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(T,8)),k=R,D=0;D<x.length;D+=8){var O=Math.min(8,x.length-D),A=parseInt(x.substring(D,D+O),T);8>O?(O=v(Math.pow(T,O)),k=k.j(O).add(v(A))):(k=k.j(I),k=k.add(v(A)))}return k}var R=g(0),C=g(1),L=g(16777216);i=h.prototype,i.m=function(){if($(this))return-U(this).m();for(var x=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(B(this))return"0";if($(this))return"-"+U(this).toString(x);for(var T=v(Math.pow(x,6)),I=this,k="";;){var D=ce(I,T).g;I=H(I,D.j(T));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=D,B(I))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function B(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function $(x){return x.h==-1}i.l=function(x){return x=H(this,x),$(x)?-1:B(x)?0:1};function U(x){for(var T=x.g.length,I=[],k=0;k<T;k++)I[k]=~x.g[k];return new h(I,~x.h).add(C)}i.abs=function(){return $(this)?U(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0,D=0;D<=T;D++){var O=k+(this.i(D)&65535)+(x.i(D)&65535),A=(O>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);k=A>>>16,O&=65535,A&=65535,I[D]=A<<16|O}return new h(I,I[I.length-1]&-2147483648?-1:0)};function H(x,T){return x.add(U(T))}i.j=function(x){if(B(this)||B(x))return R;if($(this))return $(x)?U(this).j(U(x)):U(U(this).j(x));if($(x))return U(this.j(U(x)));if(0>this.l(L)&&0>x.l(L))return v(this.m()*x.m());for(var T=this.g.length+x.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<x.g.length;D++){var O=this.i(k)>>>16,A=this.i(k)&65535,tt=x.i(D)>>>16,kt=x.i(D)&65535;I[2*k+2*D]+=A*kt,K(I,2*k+2*D),I[2*k+2*D+1]+=O*kt,K(I,2*k+2*D+1),I[2*k+2*D+1]+=A*tt,K(I,2*k+2*D+1),I[2*k+2*D+2]+=O*tt,K(I,2*k+2*D+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new h(I,0)};function K(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function ne(x,T){this.g=x,this.h=T}function ce(x,T){if(B(T))throw Error("division by zero");if(B(x))return new ne(R,R);if($(x))return T=ce(U(x),T),new ne(U(T.g),U(T.h));if($(T))return T=ce(x,U(T)),new ne(U(T.g),T.h);if(30<x.g.length){if($(x)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var I=C,k=T;0>=k.l(x);)I=Ae(I),k=Ae(k);var D=Te(I,1),O=Te(k,1);for(k=Te(k,2),I=Te(I,2);!B(k);){var A=O.add(k);0>=A.l(x)&&(D=D.add(I),O=A),k=Te(k,1),I=Te(I,1)}return T=H(x,D.j(T)),new ne(D,T)}for(D=R;0<=x.l(T);){for(I=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=v(I),A=O.j(T);$(A)||0<A.l(x);)I-=k,O=v(I),A=O.j(T);B(O)&&(O=C),D=D.add(O),x=H(x,A)}return new ne(D,x)}i.A=function(x){return ce(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&x.i(k);return new h(I,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|x.i(k);return new h(I,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^x.i(k);return new h(I,this.h^x.h)};function Ae(x){for(var T=x.g.length+1,I=[],k=0;k<T;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(I,x.h)}function Te(x,T){var I=T>>5;T%=32;for(var k=x.g.length-I,D=[],O=0;O<k;O++)D[O]=0<T?x.i(O+I)>>>T|x.i(O+I+1)<<32-T:x.i(O+I);return new h(D,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ug=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Di=h}).apply(typeof Jp<"u"?Jp:typeof self<"u"?self:typeof window<"u"?window:{});var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cg,Xo,hg,Hl,Ih,dg,fg,pg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ul=="object"&&Ul];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,f){if(f)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],f=f(E),f!=E&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var y=0,E=!1,M={next:function(){if(!E&&y<l.length){var j=y++;return{value:f(j,l[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function w(l,f,y){return l.call.apply(l.bind,arguments)}function R(l,f,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function C(l,f,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,C.apply(null,arguments)}function L(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function B(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,M,j){for(var ee=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ee[ze-2]=arguments[ze];return f.prototype[M].apply(E,ee)}}function $(l){const f=l.length;if(0<f){const y=Array(f);for(let E=0;E<f;E++)y[E]=l[E];return y}return[]}function U(l,f){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=l.length||0,j=E.length||0;l.length=M+j;for(let ee=0;ee<j;ee++)l[M+ee]=E[ee]}else l.push(E)}}class H{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function K(l){return/^[\s\xa0]*$/.test(l)}function ne(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function ce(l){return ce[" "](l),l}ce[" "]=function(){};var Ae=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Te(l,f,y){for(const E in l)f.call(y,l[E],E,l)}function x(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function T(l){const f={};for(const y in l)f[y]=l[y];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,f){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let j=0;j<I.length;j++)y=I[j],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function D(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function O(l){m.setTimeout(()=>{throw l},0)}function A(){var l=fe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class tt{constructor(){this.h=this.g=null}add(f,y){const E=kt.get();E.set(f,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new H(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,te=!1,fe=new tt,ie=()=>{const l=m.Promise.resolve(void 0);Be=()=>{l.then(N)}};var N=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){O(y)}var f=kt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}te=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,f),m.removeEventListener("test",y,f)}catch{}return l}();function Ie(l,f){if(he.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Ae){e:{try{ce(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}B(Ie,he);var xe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function je(l,f,y,E,M){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!E,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Xn(l){this.src=l,this.g={},this.h=0}Xn.prototype.add=function(l,f,y,E,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var ee=wr(l,f,E,M);return-1<ee?(f=l[ee],y||(f.fa=!1)):(f=new je(f,this.src,j,!!E,M),f.fa=y,l.push(f)),f};function Bi(l,f){var y=f.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,f,void 0),j;(j=0<=M)&&Array.prototype.splice.call(E,M,1),j&&(gt(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function wr(l,f,y,E){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==f&&j.capture==!!y&&j.ha==E)return M}return-1}var ni="closure_lm_"+(1e6*Math.random()|0),bi={};function Js(l,f,y,E,M){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Js(l,f[j],y,E,M);return null}return y=to(y),l&&l[Me]?l.K(f,y,v(E)?!!E.capture:!!E,M):Zs(l,f,y,!1,E,M)}function Zs(l,f,y,E,M,j){if(!f)throw Error("Invalid event type");var ee=v(M)?!!M.capture:!!M,ze=$i(l);if(ze||(l[ni]=ze=new Xn(l)),y=ze.add(f,y,E,ee,j),y.proxy)return y;if(E=wa(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Se||(M=ee),M===void 0&&(M=!1),l.addEventListener(f.toString(),E,M);else if(l.attachEvent)l.attachEvent(Jn(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function wa(){function l(y){return f.call(l.src,l.listener,y)}const f=eo;return l}function ji(l,f,y,E,M){if(Array.isArray(f))for(var j=0;j<f.length;j++)ji(l,f[j],y,E,M);else E=v(E)?!!E.capture:!!E,y=to(y),l&&l[Me]?(l=l.i,f=String(f).toString(),f in l.g&&(j=l.g[f],y=wr(j,y,E,M),-1<y&&(gt(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete l.g[f],l.h--)))):l&&(l=$i(l))&&(f=l.g[f.toString()],l=-1,f&&(l=wr(f,y,E,M)),(y=-1<l?f[l]:null)&&Yn(y))}function Yn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Me])Bi(f.i,l);else{var y=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(y,E,l.capture):f.detachEvent?f.detachEvent(Jn(y),E):f.addListener&&f.removeListener&&f.removeListener(E),(y=$i(f))?(Bi(y,l),y.h==0&&(y.src=null,f[ni]=null)):gt(l)}}}function Jn(l){return l in bi?bi[l]:bi[l]="on"+l}function eo(l,f){if(l.da)l=!0;else{f=new Ie(f,this);var y=l.listener,E=l.ha||l.src;l.fa&&Yn(l),l=y.call(E,f)}return l}function $i(l){return l=l[ni],l instanceof Xn?l:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(l){return typeof l=="function"?l:(l[qi]||(l[qi]=function(f){return l.handleEvent(f)}),l[qi])}function lt(){Q.call(this),this.i=new Xn(this),this.M=this,this.F=null}B(lt,Q),lt.prototype[Me]=!0,lt.prototype.removeEventListener=function(l,f,y,E){ji(this,l,f,y,E)};function ut(l,f){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new he(f,l);else if(f instanceof he)f.target=f.target||l;else{var M=f;f=new he(E,l),k(f,M)}if(M=!0,y)for(var j=y.length-1;0<=j;j--){var ee=f.g=y[j];M=Zn(ee,E,!0,f)&&M}if(ee=f.g=l,M=Zn(ee,E,!0,f)&&M,M=Zn(ee,E,!1,f)&&M,y)for(j=0;j<y.length;j++)ee=f.g=y[j],M=Zn(ee,E,!1,f)&&M}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],E=0;E<y.length;E++)gt(y[E]);delete l.g[f],l.h--}}this.F=null},lt.prototype.K=function(l,f,y,E){return this.i.add(String(l),f,!1,y,E)},lt.prototype.L=function(l,f,y,E){return this.i.add(String(l),f,!0,y,E)};function Zn(l,f,y,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,j=0;j<f.length;++j){var ee=f[j];if(ee&&!ee.da&&ee.capture==y){var ze=ee.listener,ct=ee.ha||ee.src;ee.fa&&Bi(l.i,ee),M=ze.call(ct,E)!==!1&&M}}return M&&!E.defaultPrevented}function no(l,f,y){if(typeof l=="function")y&&(l=C(l,y));else if(l&&typeof l.handleEvent=="function")l=C(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function Tr(l){l.g=no(()=>{l.g=null,l.i&&(l.i=!1,Tr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class ri extends Q{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(l){Q.call(this),this.h=l,this.g={}}B(ii,Q);var ro=[];function io(l){Te(l.g,function(f,y){this.g.hasOwnProperty(y)&&Yn(f)},l),l.g={}}ii.prototype.N=function(){ii.aa.N.call(this),io(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=m.JSON.stringify,oo=m.JSON.parse,ao=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function si(){}si.prototype.h=null;function Hi(l){return l.h||(l.h=l.i())}function Wi(){}var on={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){he.call(this,"d")}B(Nn,he);function Qi(){he.call(this,"c")}B(Qi,he);var Ln={},lo=null;function oi(){return lo=lo||new lt}Ln.La="serverreachability";function uo(l){he.call(this,Ln.La,l)}B(uo,he);function er(l){const f=oi();ut(f,new uo(f))}Ln.STAT_EVENT="statevent";function co(l,f){he.call(this,Ln.STAT_EVENT,l),this.stat=f}B(co,he);function nt(l){const f=oi();ut(f,new co(f,l))}Ln.Ma="timingevent";function Ki(l,f){he.call(this,Ln.Ma,l),this.size=f}B(Ki,he);function yn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function ai(){this.g=!0}ai.prototype.xa=function(){this.g=!1};function li(l,f,y,E,M,j){l.info(function(){if(l.g)if(j)for(var ee="",ze=j.split("&"),ct=0;ct<ze.length;ct++){var Ve=ze[ct].split("=");if(1<Ve.length){var yt=Ve[0];Ve=Ve[1];var st=yt.split("_");ee=2<=st.length&&st[1]=="type"?ee+(yt+"="+Ve+"&"):ee+(yt+"=redacted&")}}else ee=null;else ee=j;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+f+`
`+y+`
`+ee})}function Gi(l,f,y,E,M,j,ee){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+f+`
`+y+`
`+j+" "+ee})}function vn(l,f,y,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Pu(l,y)+(E?" "+E:"")})}function ho(l,f){l.info(function(){return"TIMEOUT: "+f})}ai.prototype.info=function(){};function Pu(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ee=1;ee<M.length;ee++)M[ee]=""}}}}return so(y)}catch{return f}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ta={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_n;function ui(){}B(ui,si),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},_n=new ui;function En(l,f,y,E){this.j=l,this.i=f,this.l=y,this.R=E||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sa}function Sa(){this.i=null,this.g="",this.h=!1}var fo={},Yi={};function Ji(l,f,y){l.L=1,l.v=Cr(Jt(f)),l.m=y,l.P=!0,po(l,null)}function po(l,f){l.F=Date.now(),$e(l),l.A=Jt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),kr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Sa,l.g=ba(l.j,y?f:null,!l.m),0<l.O&&(l.M=new ri(C(l.Y,l,l.g),l.O)),f=l.U,y=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(ro[0]=M.toString()),M=ro);for(var j=0;j<M.length;j++){var ee=Js(y,M[j],E||f.handleEvent,!1,f.h||f);if(!ee)break;f.g[ee.key]=ee}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),er(),li(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const f=this.M;f&&$t(l)==3?f.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var f=this.g.Ba();const un=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Eo(this.g)))){this.J||st!=4||f==7||(f==8||0>=un?er(3):er(2)),ci(this);var y=this.g.Z();this.X=y;t:if(Ia(this)){var E=Eo(this.g);l="";var M=E.length,j=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Sr(this);var ee="";break t}this.h.i=new m.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(j&&f==M-1)});E.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,Gi(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,ct=this.g;if((ze=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ze)){var Ve=ze;break t}}Ve=null}if(y=Ve)vn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mo(this,y);else{this.o=!1,this.s=3,nt(12),an(this),Sr(this);break e}}if(this.P){y=!0;let en;for(;!this.J&&this.C<ee.length;)if(en=ku(this,ee),en==Yi){st==4&&(this.s=4,nt(14),y=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==fo){this.s=4,nt(15),vn(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else vn(this.i,this.l,en,null),mo(this,en);if(Ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||ee.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)vn(this.i,this.l,ee,"[Invalid Chunked Response]"),an(this),Sr(this);else if(0<ee.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),To(yt),yt.M=!0,nt(11))}}else vn(this.i,this.l,ee,null),mo(this,ee);st==4&&an(this),this.o&&!this.J&&(st==4?us(this.j,this):(this.o=!1,$e(this)))}else is(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),an(this),Sr(this)}}}catch{}finally{}};function Ia(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ku(l,f){var y=l.C,E=f.indexOf(`
`,y);return E==-1?Yi:(y=Number(f.substring(y,E)),isNaN(y)?fo:(E+=1,E+y>f.length?Yi:(f=f.slice(E,E+y),l.C=E+y,f)))}En.prototype.cancel=function(){this.J=!0,an(this)};function $e(l){l.S=Date.now()+l.I,Ra(l,l.I)}function Ra(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yn(C(l.ba,l),f)}function ci(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ho(this.i,this.A),this.L!=2&&(er(),nt(17)),an(this),this.s=2,Sr(this)):Ra(this,this.S-l)};function Sr(l){l.j.G==0||l.J||us(l.j,l)}function an(l){ci(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,io(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function mo(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||Ut(y.h,l))){if(!l.K&&Ut(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ls(y),Rn(y);else break e;as(y),nt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=yn(C(y.Za,y),6e3));if(1>=Ca(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else sr(y,11)}else if((l.K||y.g==l)&&ls(y),!K(f))for(M=y.Da.g.parse(f),f=0;f<M.length;f++){let Ve=M[f];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const yt=Ve[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=Ve[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const un=Ve[5];un!=null&&typeof un=="number"&&0<un&&(E=1.5*un,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const en=l.g;if(en){const yi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var j=E.h;j.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(go(j,j.h),j.h=null))}if(E.D){const hs=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;hs&&(E.ya=hs,be(E.I,E.D,hs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ee=l;if(E.qa=Ba(E,E.J?E.ia:null,E.W),ee.K){Pa(E.h,ee);var ze=ee,ct=E.L;ct&&(ze.I=ct),ze.B&&(ci(ze),$e(ze)),E.g=ee}else gi(E);0<y.i.length&&Un(y)}else Ve[0]!="stop"&&Ve[0]!="close"||sr(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?sr(y,7):St(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}er(4)}catch{}}var Aa=class{constructor(l,f){this.g=l,this.map=f}};function hi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ca(l){return l.h?1:l.g?l.g.size:0}function Ut(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function go(l,f){l.g?l.g.add(f):l.h=f}function Pa(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}hi.prototype.cancel=function(){if(this.i=ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ka(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return $(l.i)}function Zi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var f=[],y=l.length,E=0;E<y;E++)f.push(l[E]);return f}f=[],y=0;for(E in l)f[y++]=l[E];return f}function es(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const E in l)f[y++]=E;return f}}}function Ir(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=es(l),E=Zi(l),M=E.length,j=0;j<M;j++)f.call(void 0,E[j],y&&y[j],l)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xu(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),M=null;if(0<=E){var j=l[y].substring(0,E);M=l[y].substring(E+1)}else j=l[y];f(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function tr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof tr){this.h=l.h,fi(this,l.j),this.o=l.o,this.g=l.g,Rr(this,l.s),this.l=l.l;var f=l.i,y=new On;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),Ar(this,y),this.m=l.m}else l&&(f=String(l).match(di))?(this.h=!1,fi(this,f[1]||"",!0),this.o=Pe(f[2]||""),this.g=Pe(f[3]||"",!0),Rr(this,f[4]),this.l=Pe(f[5]||"",!0),Ar(this,f[6]||"",!0),this.m=Pe(f[7]||"")):(this.h=!1,this.i=new On(null,this.h))}tr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Pr(f,ts,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Pr(f,ts,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Pr(y,y.charAt(0)=="/"?Da:Va,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Pr(y,yo)),l.join("")};function Jt(l){return new tr(l)}function fi(l,f,y){l.j=y?Pe(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Rr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Ar(l,f,y){f instanceof On?(l.i=f,Mn(l.i,l.h)):(y||(f=Pr(f,Na)),l.i=new On(f,l.h))}function be(l,f,y){l.i.set(f,y)}function Cr(l){return be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pr(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,xa),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function xa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ts=/[#\/\?@]/g,Va=/[#\?:]/g,Da=/[#\?]/g,Na=/[#\?@]/g,yo=/#/g;function On(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&xu(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}i=On.prototype,i.add=function(l,f){Tt(this),this.i=null,l=ln(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function wn(l,f){Tt(l),f=ln(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Tn(l,f){return Tt(l),f=ln(l,f),l.g.has(f)}i.forEach=function(l,f){Tt(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(f,M,E,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let E=0;E<f.length;E++){const M=l[E];for(let j=0;j<M.length;j++)y.push(f[E])}return y},i.V=function(l){Tt(this);let f=[];if(typeof l=="string")Tn(this,l)&&(f=f.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},i.set=function(l,f){return Tt(this),this.i=null,l=ln(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function kr(l,f,y){wn(l,f),0<y.length&&(l.i=null,l.g.set(ln(l,f),$(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var E=f[y];const j=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var M=j;ee[E]!==""&&(M+="="+encodeURIComponent(String(ee[E]))),l.push(M)}}return this.i=l.join("&")};function ln(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Mn(l,f){f&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(wn(this,E),kr(this,M,y))},l)),l.j=f}function Vu(l,f){const y=new ai;if(m.Image){const E=new Image;E.onload=L(jt,y,"TestLoadImage: loaded",!0,f,E),E.onerror=L(jt,y,"TestLoadImage: error",!1,f,E),E.onabort=L(jt,y,"TestLoadImage: abort",!1,f,E),E.ontimeout=L(jt,y,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function La(l,f){const y=new ai,E=new AbortController,M=setTimeout(()=>{E.abort(),jt(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(j=>{clearTimeout(M),j.ok?jt(y,"TestPingServer: ok",!0,f):jt(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),jt(y,"TestPingServer: error",!1,f)})}function jt(l,f,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function Du(){this.g=new ao}function Oa(l,f,y){const E=y||"";try{Ir(l,function(M,j){let ee=M;v(M)&&(ee=so(M)),f.push(E+j+"="+encodeURIComponent(ee))})}catch(M){throw f.push(E+"type="+encodeURIComponent("_badmap")),M}}function nr(l){this.l=l.Ub||null,this.j=l.eb||!1}B(nr,si),nr.prototype.g=function(){return new pi(this.l,this.j)},nr.prototype.i=function(l){return function(){return l}}({});function pi(l,f){lt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(pi,lt),i=pi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ma(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ma(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Sn(this):In(this),this.readyState==3&&Ma(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rr(l){let f="";return Te(l,function(y,E){f+=E,f+=":",f+=y,f+=`\r
`}),f}function xr(l,f,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=rr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):be(l,f,y))}function Qe(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Qe,lt);var Nu=/^https?$/i,vo=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_n.g(),this.v=this.o?Hi(this.o):Hi(_n),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(j){mi(this,j);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())y.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vo,f,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ee]of y)this.g.setRequestHeader(j,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){mi(this,j)}};function mi(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ns(l),Zt(l)}function ns(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},i.bb=function(){_o(this)};function _o(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)no(l.Ea,0,l);else if(ut(l,"readystatechange"),$t(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var E;if(E=ee===0){var M=String(l.D).match(di)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!Nu.test(M?M.toLowerCase():"")}y=E}if(y)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var j=2<$t(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",ns(l)}}finally{Zt(l)}}}}function Zt(l,f){if(l.g){rs(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ut(l,"ready");try{y.onreadystatechange=E}catch{}}}function rs(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),oo(f)}};function Eo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function is(l){const f={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(K(l[E]))continue;var y=D(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=f[M]||[];f[M]=j,j.push(y)}x(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function wo(l){this.Aa=0,this.i=[],this.j=new ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(l&&l.concurrentRequestLimit),this.Da=new Du,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=wo.prototype,i.la=8,i.G=1,i.connect=function(l,f,y,E){nt(0),this.W=l,this.H=f||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ba(this,null,this.W),Un(this)};function St(l){if(ss(l),l.G==3){var f=l.U++,y=Jt(l.I);if(be(y,"SID",l.K),be(y,"RID",f),be(y,"TYPE","terminate"),ir(l,y),f=new En(l,l.j,f),f.L=2,f.v=Cr(Jt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=f.v,y=!0),y||(f.g=ba(f.j,null),f.g.ea(f.v)),f.F=Date.now(),$e(f)}za(l)}function Rn(l){l.g&&(To(l),l.g.cancel(),l.g=null)}function ss(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ls(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Un(l){if(!Yt(l.h)&&!l.s){l.s=!0;var f=l.Ga;Be||ie(),te||(Be(),te=!0),fe.add(f,l),l.B=0}}function Lu(l,f){return Ca(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yn(C(l.Ga,l,f),Ua(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new En(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Vr(this,M,f),y=Jt(this.I),be(y,"RID",l),be(y,"CVER",22),this.D&&be(y,"X-HTTP-Session-Id",this.D),ir(this,y),j&&(this.O?f="headers="+encodeURIComponent(String(rr(j)))+"&"+f:this.m&&xr(y,this.m,j)),go(this.h,M),this.Ua&&be(y,"TYPE","init"),this.P?(be(y,"$req",f),be(y,"SID","null"),M.T=!0,Ji(M,y,null)):Ji(M,y,f),this.G=2}}else this.G==3&&(l?os(this,l):this.i.length==0||Yt(this.h)||os(this))};function os(l,f){var y;f?y=f.l:y=l.U++;const E=Jt(l.I);be(E,"SID",l.K),be(E,"RID",y),be(E,"AID",l.T),ir(l,E),l.m&&l.o&&xr(E,l.m,l.o),y=new En(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Vr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),go(l.h,y),Ji(y,E,f)}function ir(l,f){l.H&&Te(l.H,function(y,E){be(f,E,y)}),l.l&&Ir({},function(y,E){be(f,E,y)})}function Vr(l,f,y){y=Math.min(l.i.length,y);var E=l.l?C(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const ee=["count="+y];j==-1?0<y?(j=M[0].g,ee.push("ofs="+j)):j=0:ee.push("ofs="+j);let ze=!0;for(let ct=0;ct<y;ct++){let Ve=M[ct].g;const yt=M[ct].map;if(Ve-=j,0>Ve)j=Math.max(0,M[ct].g-100),ze=!1;else try{Oa(yt,ee,"req"+Ve+"_")}catch{E&&E(yt)}}if(ze){E=ee.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,E}function gi(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Be||ie(),te||(Be(),te=!0),fe.add(f,l),l.v=0}}function as(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yn(C(l.Fa,l),Ua(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Fa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yn(C(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Rn(this),Fa(this))};function To(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Fa(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Jt(l.qa);be(f,"RID","rpc"),be(f,"SID",l.K),be(f,"AID",l.T),be(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&be(f,"TO",l.ja),be(f,"TYPE","xmlhttp"),ir(l,f),l.m&&l.o&&xr(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Cr(Jt(f)),y.m=null,y.P=!0,po(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),as(this),nt(19))};function ls(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function us(l,f){var y=null;if(l.g==f){ls(l),To(l),l.g=null;var E=2}else if(Ut(l.h,f))y=f.D,Pa(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;E=oi(),ut(E,new Ki(E,y)),Un(l)}else gi(l);else if(M=f.s,M==3||M==0&&0<f.X||!(E==1&&Lu(l,f)||E==2&&as(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),M){case 1:sr(l,5);break;case 4:sr(l,10);break;case 3:sr(l,6);break;default:sr(l,2)}}}function Ua(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function sr(l,f){if(l.j.info("Error code "+f),f==2){var y=C(l.fb,l),E=l.Xa;const M=!E;E=new tr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fi(E,"https"),Cr(E),M?Vu(E.toString(),y):La(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(f),za(l),ss(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function za(l){if(l.G=0,l.ka=[],l.l){const f=ka(l.h);(f.length!=0||l.i.length!=0)&&(U(l.ka,f),U(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function Ba(l,f,y){var E=y instanceof tr?Jt(y):new tr(y);if(E.g!="")f&&(E.g=f+"."+E.g),Rr(E,E.s);else{var M=m.location;E=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var j=new tr(null);E&&fi(j,E),f&&(j.g=f),M&&Rr(j,M),y&&(j.l=y),E=j}return y=l.D,f=l.ya,y&&f&&be(E,y,f),be(E,"VER",l.la),ir(l,E),E}function ba(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Qe(new nr({eb:y})):new Qe(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function So(){}i=So.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function cs(){}cs.prototype.g=function(l,f){return new zt(l,f)};function zt(l,f){lt.call(this),this.g=new wo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!K(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!K(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new zn(this)}B(zt,lt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){St(this.g)},zt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=so(l),l=y);f.i.push(new Aa(f.Ya++,l)),f.G==3&&Un(f)},zt.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,zt.aa.N.call(this)};function ja(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}B(ja,Nn);function $a(){Qi.call(this),this.status=1}B($a,Qi);function zn(l){this.g=l}B(zn,So),zn.prototype.ua=function(){ut(this.g,"a")},zn.prototype.ta=function(l){ut(this.g,new ja(l))},zn.prototype.sa=function(l){ut(this.g,new $a)},zn.prototype.ra=function(){ut(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,pg=function(){return new cs},fg=function(){return oi()},dg=Ln,Ih={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Hl=Xi,Ta.COMPLETE="complete",hg=Ta,Wi.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Xo=Wi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,cg=Qe}).apply(typeof Ul<"u"?Ul:typeof self<"u"?self:typeof window<"u"?window:{});const Zp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new rg("@firebase/firestore");function Ds(){return Ni.logLevel}function se(i,...e){if(Ni.logLevel<=Ne.DEBUG){const n=e.map(Qh);Ni.debug(`Firestore (${Ks}): ${i}`,...n)}}function vr(i,...e){if(Ni.logLevel<=Ne.ERROR){const n=e.map(Qh);Ni.error(`Firestore (${Ks}): ${i}`,...n)}}function Us(i,...e){if(Ni.logLevel<=Ne.WARN){const n=e.map(Qh);Ni.warn(`Firestore (${Ks}): ${i}`,...n)}}function Qh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i="Unexpected state"){const e=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: `+i;throw vr(e),new Error(e)}function Ue(i,e){i||ve()}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class QE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KE{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string"),new mg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Mt(e)}}class GE{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class XE{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new GE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ue(this.o===void 0);const s=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new YE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ZE(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function zs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new pt(0,0))}static max(){return new _e(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return la.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof la?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),h=n.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends la{construct(e,n,s){return new Ge(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const ew=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends la{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return ew.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new de(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new de(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(c(),a++)}if(c(),h)throw new de(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ge.fromString(e))}static fromName(e){return new ge(Ge.fromString(e).popFirst(5))}static empty(){return new ge(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ge(e.slice()))}}function tw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Yr(a,ge.empty(),e)}function nw(i){return new Yr(i.readTime,i.key,-1)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(_e.min(),ge.empty(),-1)}static max(){return new Yr(_e.max(),ge.empty(),-1)}}function rw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==iw)throw i;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let a=0,c=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++c,h&&c===a&&n()},g=>s(g))}),h=!0,c===a&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(a=>a?W.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new W((s,a)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const v=g;n(e[v]).next(w=>{h[v]=w,++m,m===c&&s(h)},w=>a(w))}})}static doWhile(e,n){return new W((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function ow(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fu.oe=-1;function pu(i){return i==null}function tu(i){return i===0&&1/i==-1/0}function aw(i){return typeof i=="number"&&Number.isInteger(i)&&!tu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=em(e)),e=uw(i.get(n),e);return em(e)}function uw(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function em(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Mi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function yg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zl(this.root,e,this.comparator,!0)}}class zl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=c??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new At(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,a,c){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nm(this.data.getIterator())}getIteratorFrom(e){return new nm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class nm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new mt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vg("Invalid base64 string: "+c):c}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const cw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(i){if(Ue(!!i),typeof i=="string"){let e=0;const n=cw.exec(i);if(Ue(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zr(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mu(i){const e=i.mapValue.fields.__previous_value__;return Kh(e)?mu(e):e}function ua(i){const e=Jr(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n,s,a,c,h,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v}}class ca{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ei(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kh(i)?4:fw(i)?9007199254740991:dw(i)?10:11:ve()}function Qn(i,e){if(i===e)return!0;const n=ei(i);if(n!==ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ua(i).isEqual(ua(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=Jr(a.timestampValue),m=Jr(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Zr(a.bytesValue).isEqual(Zr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=it(a.doubleValue),m=it(c.doubleValue);return h===m?tu(h)===tu(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return zs(i.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(tm(h)!==tm(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Qn(h[g],m[g])))return!1;return!0}(i,e);default:return ve()}}function ha(i,e){return(i.values||[]).find(n=>Qn(n,e))!==void 0}function Bs(i,e){if(i===e)return 0;const n=ei(i),s=ei(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(c,h){const m=it(c.integerValue||c.doubleValue),g=it(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return rm(i.timestampValue,e.timestampValue);case 4:return rm(ua(i),ua(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return function(c,h){const m=Zr(c),g=Zr(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const w=ke(m[v],g[v]);if(w!==0)return w}return ke(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,h){const m=ke(it(c.latitude),it(h.latitude));return m!==0?m:ke(it(c.longitude),it(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return im(i.arrayValue,e.arrayValue);case 10:return function(c,h){var m,g,v,w;const R=c.fields||{},C=h.fields||{},L=(m=R.value)===null||m===void 0?void 0:m.arrayValue,B=(g=C.value)===null||g===void 0?void 0:g.arrayValue,$=ke(((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0,((w=B==null?void 0:B.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:im(L,B)}(i.mapValue,e.mapValue);case 11:return function(c,h){if(c===Bl.mapValue&&h===Bl.mapValue)return 0;if(c===Bl.mapValue)return 1;if(h===Bl.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let R=0;R<g.length&&R<w.length;++R){const C=ke(g[R],w[R]);if(C!==0)return C;const L=Bs(m[g[R]],v[w[R]]);if(L!==0)return L}return ke(g.length,w.length)}(i.mapValue,e.mapValue);default:throw ve()}}function rm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=Jr(i),s=Jr(e),a=ke(n.seconds,s.seconds);return a!==0?a:ke(n.nanos,s.nanos)}function im(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Bs(n[a],s[a]);if(c)return c}return ke(n.length,s.length)}function bs(i){return Rh(i)}function Rh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Zr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Rh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const h of s)c?c=!1:a+=",",a+=`${h}:${Rh(n.fields[h])}`;return a+"}"}(i.mapValue):ve()}function Wl(i){switch(ei(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mu(i);return e?16+Wl(e):16;case 5:return 2*i.stringValue.length;case 6:return Zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Wl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Mi(s.fields,(c,h)=>{a+=c.length+Wl(h)}),a}(i.mapValue);default:throw ve()}}function Ah(i){return!!i&&"integerValue"in i}function Gh(i){return!!i&&"arrayValue"in i}function sm(i){return!!i&&"nullValue"in i}function om(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ql(i){return!!i&&"mapValue"in i}function dw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ea(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Mi(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ea(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ea(i.arrayValue.values[n]);return e}return Object.assign({},i)}function fw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(n)}setAll(e){let n=Ct.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=ea(h):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ql(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Mi(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new gn(ea(this.value))}}function _g(i){const e=[];return Mi(i.fields,(n,s)=>{const a=new Ct([n]);if(Ql(s)){const c=_g(s.mapValue).fields;if(c.length===0)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,_e.min(),_e.min(),_e.min(),gn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,_e.min(),_e.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,_e.min(),_e.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.position=e,this.inclusive=n}}function am(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],h=i.position[a];if(c.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=Bs(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function lm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function pw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{}class ft extends Eg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new gw(e,n,s):n==="array-contains"?new _w(e,s):n==="in"?new Ew(e,s):n==="not-in"?new ww(e,s):n==="array-contains-any"?new Tw(e,s):new ft(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new yw(e,s):new vw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bs(n,this.value)):n!==null&&ei(this.value)===ei(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Eg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kn(e,n)}matches(e){return wg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wg(i){return i.op==="and"}function Tg(i){return mw(i)&&wg(i)}function mw(i){for(const e of i.filters)if(e instanceof Kn)return!1;return!0}function Ch(i){if(i instanceof ft)return i.field.canonicalString()+i.op.toString()+bs(i.value);if(Tg(i))return i.filters.map(e=>Ch(e)).join(",");{const e=i.filters.map(n=>Ch(n)).join(",");return`${i.op}(${e})`}}function Sg(i,e){return i instanceof ft?function(s,a){return a instanceof ft&&s.op===a.op&&s.field.isEqual(a.field)&&Qn(s.value,a.value)}(i,e):i instanceof Kn?function(s,a){return a instanceof Kn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,h,m)=>c&&Sg(h,a.filters[m]),!0):!1}(i,e):void ve()}function Ig(i){return i instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${bs(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ig).join(" ,")+"}"}(i):"Filter"}class gw extends ft{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class yw extends ft{constructor(e,n){super(e,"in",n),this.keys=Rg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vw extends ft{constructor(e,n){super(e,"not-in",n),this.keys=Rg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class _w extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gh(n)&&ha(n.arrayValue,this.value)}}class Ew extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ha(this.value.arrayValue,n)}}class ww extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ha(this.value.arrayValue,n)}}class Tw extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ha(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n=null,s=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.ue=null}}function um(i,e=null,n=[],s=[],a=null,c=null,h=null){return new Sw(i,e,n,s,a,c,h)}function Xh(i){const e=we(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ch(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),pu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>bs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>bs(s)).join(",")),e.ue=n}return e.ue}function Yh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!pw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Sg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!lm(i.startAt,e.startAt)&&lm(i.endAt,e.endAt)}function Ph(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n=null,s=[],a=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Iw(i,e,n,s,a,c,h,m){return new gu(i,e,n,s,a,c,h,m)}function Jh(i){return new gu(i)}function cm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Rw(i){return i.collectionGroup!==null}function ta(i){const e=we(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new mt(Ct.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new ru(c,s))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new ru(Ct.keyField(),s))}return e.ce}function qn(i){const e=we(i);return e.le||(e.le=Aw(e,ta(i))),e.le}function Aw(i,e){if(i.limitType==="F")return um(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new ru(a.field,c)});const n=i.endAt?new nu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new nu(i.startAt.position,i.startAt.inclusive):null;return um(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function kh(i,e,n){return new gu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function yu(i,e){return Yh(qn(i),qn(e))&&i.limitType===e.limitType}function Ag(i){return`${Xh(qn(i))}|lt:${i.limitType}`}function Ns(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Ig(a)).join(", ")}]`),pu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>bs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>bs(a)).join(",")),`Target(${s})`}(qn(i))}; limitType=${i.limitType})`}function vu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of ta(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const v=am(h,m,g);return h.inclusive?v<=0:v<0}(s.startAt,ta(s),a)||s.endAt&&!function(h,m,g){const v=am(h,m,g);return h.inclusive?v>=0:v>0}(s.endAt,ta(s),a))}(i,e)}function Cw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Cg(i){return(e,n)=>{let s=!1;for(const a of ta(i)){const c=Pw(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function Pw(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(c,h,m){const g=h.data.field(c),v=m.data.field(c);return g!==null&&v!==null?Bs(g,v):ve()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return yg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Ze(ge.comparator);function _r(){return kw}const Pg=new Ze(ge.comparator);function Yo(...i){let e=Pg;for(const n of i)e=e.insert(n.key,n);return e}function kg(i){let e=Pg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Vi(){return na()}function xg(){return na()}function na(){return new Fi(i=>i.toString(),(i,e)=>i.isEqual(e))}const xw=new Ze(ge.comparator),Vw=new mt(ge.comparator);function Ce(...i){let e=Vw;for(const n of i)e=e.add(n);return e}const Dw=new mt(ke);function Nw(){return Dw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function Vg(i){return{integerValue:""+i}}function Lw(i,e){return aw(e)?Vg(e):Zh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this._=void 0}}function Ow(i,e,n){return i instanceof iu?function(a,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Kh(c)&&(c=mu(c)),c&&(h.fields.__previous_value__=c),{mapValue:h}}(n,e):i instanceof da?Ng(i,e):i instanceof fa?Lg(i,e):function(a,c){const h=Dg(a,c),m=hm(h)+hm(a.Pe);return Ah(h)&&Ah(a.Pe)?Vg(m):Zh(a.serializer,m)}(i,e)}function Mw(i,e,n){return i instanceof da?Ng(i,e):i instanceof fa?Lg(i,e):n}function Dg(i,e){return i instanceof su?function(s){return Ah(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class iu extends _u{}class da extends _u{constructor(e){super(),this.elements=e}}function Ng(i,e){const n=Og(e);for(const s of i.elements)n.some(a=>Qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class fa extends _u{constructor(e){super(),this.elements=e}}function Lg(i,e){let n=Og(e);for(const s of i.elements)n=n.filter(a=>!Qn(a,s));return{arrayValue:{values:n}}}class su extends _u{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hm(i){return it(i.integerValue||i.doubleValue)}function Og(i){return Gh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Fw(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof da&&a instanceof da||s instanceof fa&&a instanceof fa?zs(s.elements,a.elements,Qn):s instanceof su&&a instanceof su?Qn(s.Pe,a.Pe):s instanceof iu&&a instanceof iu}(i.transform,e.transform)}class Uw{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Eu{}function Mg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ug(i.key,gr.none()):new ya(i.key,i.data,gr.none());{const n=i.data,s=gn.empty();let a=new mt(Ct.comparator);for(let c of e.fields)if(!a.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),a=a.add(c)}return new Ui(i.key,s,new Dn(a.toArray()),gr.none())}}function zw(i,e,n){i instanceof ya?function(a,c,h){const m=a.value.clone(),g=fm(a.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Ui?function(a,c,h){if(!Kl(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=fm(a.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(Fg(a)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ra(i,e,n,s){return i instanceof ya?function(c,h,m,g){if(!Kl(c.precondition,h))return m;const v=c.value.clone(),w=pm(c.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ui?function(c,h,m,g){if(!Kl(c.precondition,h))return m;const v=pm(c.fieldTransforms,g,h),w=h.data;return w.setAll(Fg(c)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,h,m){return Kl(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function Bw(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Dg(s.transform,a||null);c!=null&&(n===null&&(n=gn.empty()),n.set(s.field,c))}return n||null}function dm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&zs(s,a,(c,h)=>Fw(c,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ya extends Eu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ui extends Eu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Fg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function fm(i,e,n){const s=new Map;Ue(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],h=c.transform,m=e.data.field(c.field);s.set(c.field,Mw(h,m,n[a]))}return s}function pm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,h=n.data.field(a.field);s.set(a.field,Ow(c,h,e))}return s}class Ug extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bw extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&zw(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ra(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ra(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xg();return this.mutations.forEach(a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(a.key)?null:m;const g=Mg(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,s)=>dm(n,s))&&zs(this.baseMutations,e.baseMutations,(n,s)=>dm(n,s))}}class ed{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ue(e.mutations.length===s.length);let a=function(){return xw}();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,s[h].version);return new ed(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,De;function Hw(i){switch(i){default:return ve();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function zg(i){if(i===void 0)return vr("GRPC error has no .code"),Y.UNKNOWN;switch(i){case at.OK:return Y.OK;case at.CANCELLED:return Y.CANCELLED;case at.UNKNOWN:return Y.UNKNOWN;case at.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case at.INTERNAL:return Y.INTERNAL;case at.UNAVAILABLE:return Y.UNAVAILABLE;case at.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case at.NOT_FOUND:return Y.NOT_FOUND;case at.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case at.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case at.ABORTED:return Y.ABORTED;case at.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case at.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case at.DATA_LOSS:return Y.DATA_LOSS;default:return ve()}}(De=at||(at={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Di([4294967295,4294967295],0);function mm(i){const e=Ww().encode(i),n=new ug;return n.update(e),new Uint8Array(n.digest())}function gm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Di([n,s],0),new Di([a,c],0)]}class td{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jo(`Invalid padding: ${n}`);if(s<0)throw new Jo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Di.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Di.fromNumber(s)));return a.compare(Qw)===1&&(a=new Di([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=mm(e),[s,a]=gm(n);for(let c=0;c<this.hashCount;c++){const h=this.Ee(s,a,c);if(!this.de(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new td(c,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Te===0)return;const n=mm(e),[s,a]=gm(n);for(let c=0;c<this.hashCount;c++){const h=this.Ee(s,a,c);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wu(_e.min(),a,new Ze(ke),_r(),Ce())}}class va{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new va(s,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Bg{constructor(e,n){this.targetId=e,this.me=n}}class bg{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class ym{constructor(){this.fe=0,this.ge=vm(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),s=Ce();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ve()}}),new va(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=vm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Kw{constructor(e){this.Le=e,this.Be=new Map,this.ke=_r(),this.qe=bl(),this.Qe=bl(),this.Ke=new Ze(ke)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(Ph(c))if(s===0){const h=new ge(c.path);this.We(n,h,Ft.newNoDocument(h,_e.min()))}else Ue(s===1);else{const h=this.Ze(n);if(h!==s){const m=this.Xe(e),g=m?this.et(m,e,h):1;if(g!==0){this.He(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let h,m;try{h=Zr(s).toUint8Array()}catch(g){if(g instanceof vg)return Us("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new td(h,a,c)}catch(g){return Us(g instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const h=this.Le.nt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,h)=>{const m=this.Ye(h);if(m){if(c.current&&Ph(m.target)){const g=new ge(m.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Ft.newNoDocument(g,e))}c.be&&(n.set(h,c.ve()),c.Ce())}});let s=Ce();this.Qe.forEach((c,h)=>{let m=!0;h.forEachWhile(g=>{const v=this.Ye(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,h)=>h.setReadTime(e));const a=new wu(e,n,this.Ke,this.ke,s);return this.ke=_r(),this.qe=bl(),this.Qe=bl(),this.Ke=new Ze(ke),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new ym,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new mt(ke),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(ke),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ym),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bl(){return new Ze(ge.comparator)}function vm(){return new Ze(ge.comparator)}const Gw={asc:"ASCENDING",desc:"DESCENDING"},Xw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yw={and:"AND",or:"OR"};class Jw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xh(i,e){return i.useProto3Json||pu(e)?e:{value:e}}function ou(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Zw(i,e){return ou(i,e.toTimestamp())}function Hn(i){return Ue(!!i),_e.fromTimestamp(function(n){const s=Jr(n);return new pt(s.seconds,s.nanos)}(i))}function nd(i,e){return Vh(i,e).canonicalString()}function Vh(i,e){const n=function(a){return new Ge(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function $g(i){const e=Ge.fromString(i);return Ue(Kg(e)),e}function Dh(i,e){return nd(i.databaseId,e.path)}function hh(i,e){const n=$g(e);if(n.get(1)!==i.databaseId.projectId)throw new de(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(Hg(n))}function qg(i,e){return nd(i.databaseId,e)}function e1(i){const e=$g(i);return e.length===4?Ge.emptyPath():Hg(e)}function Nh(i){return new Ge(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hg(i){return Ue(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function _m(i,e,n){return{name:Dh(i,e),fields:n.value.mapValue.fields}}function t1(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,w){return v.useProto3Json?(Ue(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(Ue(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const w=v.code===void 0?Y.UNKNOWN:zg(v.code);return new de(w,v.message||"")}(h);n=new bg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=hh(i,s.document.name),c=Hn(s.document.updateTime),h=s.document.createTime?Hn(s.document.createTime):_e.min(),m=new gn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,c,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new Gl(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=hh(i,s.document),c=s.readTime?Hn(s.readTime):_e.min(),h=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Gl([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=hh(i,s.document),c=s.removedTargetIds||[];n=new Gl([],c,a,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,h=new qw(a,c),m=s.targetId;n=new Bg(m,h)}}return n}function n1(i,e){let n;if(e instanceof ya)n={update:_m(i,e.key,e.value)};else if(e instanceof Ug)n={delete:Dh(i,e.key)};else if(e instanceof Ui)n={update:_m(i,e.key,e.data),updateMask:h1(e.fieldMask)};else{if(!(e instanceof bw))return ve();n={verify:Dh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,h){const m=h.transform;if(m instanceof iu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof da)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof su)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:Zw(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve()}(i,e.precondition)),n}function r1(i,e){return i&&i.length>0?(Ue(e!==void 0),i.map(n=>function(a,c){let h=a.updateTime?Hn(a.updateTime):Hn(c);return h.isEqual(_e.min())&&(h=Hn(c)),new Uw(h,a.transformResults||[])}(n,e))):[]}function i1(i,e){return{documents:[qg(i,e.path)]}}function s1(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qg(i,a);const c=function(v){if(v.length!==0)return Qg(Kn.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(v){if(v.length!==0)return v.map(w=>function(C){return{field:Ls(C.field),direction:l1(C.dir)}}(w))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=xh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function o1(i){let e=e1(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ue(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(R){const C=Wg(R);return C instanceof Kn&&Tg(C)?C.getFilters():[C]}(n.where));let h=[];n.orderBy&&(h=function(R){return R.map(C=>function(B){return new ru(Os(B.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(R){let C;return C=typeof R=="object"?R.value:R,pu(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(R){const C=!!R.before,L=R.values||[];return new nu(L,C)}(n.startAt));let v=null;return n.endAt&&(v=function(R){const C=!R.before,L=R.values||[];return new nu(L,C)}(n.endAt)),Iw(e,a,h,c,m,"F",g,v)}function a1(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Os(n.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Os(n.unaryFilter.field);return ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Os(n.unaryFilter.field);return ft.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Os(n.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(i):i.fieldFilter!==void 0?function(n){return ft.create(Os(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>Wg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(i):ve()}function l1(i){return Gw[i]}function u1(i){return Xw[i]}function c1(i){return Yw[i]}function Ls(i){return{fieldPath:i.canonicalString()}}function Os(i){return Ct.fromServerFormat(i.fieldPath)}function Qg(i){return i instanceof ft?function(n){if(n.op==="=="){if(om(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(sm(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(om(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(sm(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:u1(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(a=>Qg(a));return s.length===1?s[0]:{compositeFilter:{op:c1(n.op),filters:s}}}(i):ve()}function h1(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,a,c=_e.min(),h=_e.min(),m=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.ht=e}}function f1(i){const e=o1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?kh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.ln=new m1}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Yr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class m1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(Ge.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new js(0)}static Qn(){return new js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm([i,e],[n,s]){const a=ke(i,n);return a===0?ke(e,s):a}class g1{constructor(e){this.Gn=e,this.buffer=new mt(wm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();wm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xs(n)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Gs(n)}await this.Yn(3e5)})}}class v1{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(fu.oe);const s=new g1(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Em)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Em):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,h,m,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,h=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(c=R,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(v=Date.now(),Ds()<=Ne.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${R} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R})))}}function _1(i,e){return new v1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ra(s.mutation,a,Dn.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ce()){const a=Vi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let h=Yo();return c.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ce()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let c=_r();const h=na(),m=function(){return na()}();return n.forEach((g,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof Ui)?c=c.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),ra(w.mutation,v,w.mutation.getFieldMask(),pt.now())):h.set(v.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((v,w)=>h.set(v,w)),n.forEach((v,w)=>{var R;return m.set(v,new w1(w,(R=h.get(v))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=na();let a=new Ze((h,m)=>h-m),c=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let w=s.get(g)||Dn.empty();w=m.applyToLocalView(v,w),s.set(g,w);const R=(a.get(m.batchId)||Ce()).add(g);a=a.insert(m.batchId,R)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,w=g.value,R=xg();w.forEach(C=>{if(!c.has(C)){const L=Mg(n.get(C),s.get(C));L!==null&&R.set(C,L),c=c.add(C)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,R))}return W.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Rw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):W.resolve(Vi());let m=-1,g=c;return h.next(v=>W.forEach(v,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(C=>{g=g.insert(w,C)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,g,v,Ce())).next(w=>({batchId:m,changes:kg(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let a=Yo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let h=Yo();return this.indexManager.getCollectionParents(e,c).next(m=>W.forEach(m,g=>{const v=function(R,C){return new gu(C,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((R,C)=>{h=h.insert(R,C)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(h=>{c.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let m=Yo();return h.forEach((g,v)=>{const w=c.get(g);w!==void 0&&ra(w.mutation,v,Dn.empty(),pt.now()),vu(n,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Hn(a.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:f1(a.bundledQuery),readTime:Hn(a.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.overlays=new Ze(ge.comparator),this.Er=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vi();return W.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Vi(),c=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ze((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Vi(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Vi(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return W.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new $w(n,s));let c=this.Er.get(n);c===void 0&&(c=Ce(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.dr=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new wt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ge(new Ge([])),s=new wt(n,e),a=new wt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],h=>{this.gr(h),c.push(h.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ge(new Ge([])),s=new wt(n,e),a=new wt(n,e+1);let c=Ce();return this.Rr.forEachInRange([s,a],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new wt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ge.comparator(e.key,n.key)||ke(e.br,n.br)}static Vr(e,n){return ke(e.br,n.br)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new jw(c,n,s,a);this.mutationQueue.push(h);for(const m of a)this.vr=this.vr.add(new wt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],h=>{const m=this.Cr(h.br);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(ke);return n.forEach(a=>{const c=new wt(a,0),h=new wt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,h],m=>{s=s.add(m.br)})}),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ge.isDocumentKey(c)||(c=c.child(""));const h=new wt(new ge(c),0);let m=new mt(ke);return this.vr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.br)),!0)},h),W.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ue(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(n.mutations,a=>{const c=new wt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new wt(n,0),a=this.vr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.Nr=e,this.docs=function(){return new Ze(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=_r();const h=n.path,m=new ge(h.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||rw(nw(w),s)<=0||(a.has(w.key)||vu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ve()}Lr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new P1(this)}getSize(e){return W.resolve(this.size)}}class P1 extends E1{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.persistence=e,this.Br=new Fi(n=>Xh(n),Yh),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.kr=0,this.qr=new rd,this.targetCount=0,this.Qr=js.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new js(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),W.waitFor(c).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new fu(0),this.Ur=!1,this.Ur=!0,this.Wr=new R1,this.referenceDelegate=e(this),this.Gr=new k1(this),this.indexManager=new p1,this.remoteDocumentCache=function(a){return new C1(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new d1(n),this.jr=new S1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new A1(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const a=new x1(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return W.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class x1 extends sw{constructor(e){super(),this.currentSequenceNumber=e}}class id{constructor(e){this.persistence=e,this.Zr=new rd,this.Xr=null}static ei(e){return new id(e)}get ti(){if(this.Xr)return this.Xr;throw ve()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,s=>{const a=ge.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,_e.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class au{constructor(e,n){this.persistence=e,this.ri=new Fi(s=>lw(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=_1(this,n)}static ei(e,n){return new au(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return W.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?W.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,h=>this.ir(e,h,n).next(m=>{m||(s++,c.removeEntry(h,_e.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wl(e.data.value)),n}ir(e,n,s){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ce(),a=Ce();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new sd(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return x0()?8:ow(P0())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new V1;return this.ts(e,n,h).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,h,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Ds()<=Ne.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Ds()<=Ne.DEBUG&&se("QueryEngine","Query:",Ns(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Ds()<=Ne.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):W.resolve())}Xi(e,n){if(cm(n))return W.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=kh(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const h=Ce(...c);return this.Zi.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.rs(n,m);return this.ss(n,v,h,g.readTime)?this.Xi(e,kh(n,null,"F")):this.os(e,v,n,g)}))})))}es(e,n,s,a){return cm(n)||a.isEqual(_e.min())?W.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const h=this.rs(n,c);return this.ss(n,h,s,a)?W.resolve(null):(Ds()<=Ne.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ns(n)),this.os(e,h,n,tw(a,-1)).next(m=>m))})}rs(e,n){let s=new mt(Cg(e));return n.forEach((a,c)=>{vu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Ds()<=Ne.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.Zi.getDocumentsMatchingQuery(e,n,Yr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ze(ke),this.cs=new Fi(c=>Xh(c),Yh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function L1(i,e,n,s){return new N1(i,e,n,s)}async function Xg(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],m=[];let g=Ce();for(const v of a){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Ts:v,removedBatchIds:h,addedBatchIds:m}))})})}function O1(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,g,v,w){const R=v.batch,C=R.keys();let L=W.resolve();return C.forEach(B=>{L=L.next(()=>w.getEntry(g,B)).next($=>{const U=v.docVersions.get(B);Ue(U!==null),$.version.compareTo(U)<0&&(R.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),w.addEntry($)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(g,R))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ce();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Yg(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function M1(i,e){const n=we(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const C=a.get(R);if(!C)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,R)));let L=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?L=L.withResumeToken(Pt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,s)),a=a.insert(R,L),function($,U,H){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(C,L,w)&&m.push(n.Gr.updateTargetData(c,L))});let g=_r(),v=Ce();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(F1(c,h,e.documentUpdates).next(w=>{g=w.Is,v=w.Es})),!s.isEqual(_e.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(R=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return W.waitFor(m).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,v)).next(()=>g)}).then(c=>(n.us=a,c))}function F1(i,e,n){let s=Ce(),a=Ce();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let h=_r();return n.forEach((m,g)=>{const v=c.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(_e.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):se("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{Is:h,Es:a}})}function U1(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function z1(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,W.resolve(a)):n.Gr.allocateTargetId(s).next(h=>(a=new Wr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Lh(i,e,n){const s=we(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Xs(h))throw h;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Tm(i,e,n){const s=we(i);let a=_e.min(),c=Ce();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const R=we(g),C=R.cs.get(w);return C!==void 0?W.resolve(R.us.get(C)):R.Gr.getTargetData(v,w)}(s,h,qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{c=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?a:_e.min(),n?c:Ce())).next(m=>(B1(s,Cw(e),m),{documents:m,ds:c})))}function B1(i,e,n){let s=i.ls.get(e)||_e.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class Sm{constructor(){this.activeTargetIds=Nw()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b1{constructor(){this._o=new Sm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Sm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl=null;function dh(){return jl===null?jl=function(){return 268435456+Math.round(2147483648*Math.random())}():jl++,"0x"+jl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class H1 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,h){const m=dh(),g=this.No(n,s.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,c,h),this.Bo(n,g,v,a).then(w=>(se("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Us("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",g,"request:",a),w})}ko(n,s,a,c,h,m){return this.Oo(n,s,a,c,h)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ks}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,h)=>n[h]=c),a&&a.headers.forEach((c,h)=>n[h]=c)}No(n,s){const a=$1[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=dh();return new Promise((h,m)=>{const g=new cg;g.setWithCredentials(!0),g.listenOnce(hg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Hl.NO_ERROR:const w=g.getResponseJson();se(Ot,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),h(w);break;case Hl.TIMEOUT:se(Ot,`RPC '${e}' ${c} timed out`),m(new de(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Hl.HTTP_ERROR:const R=g.getStatus();if(se(Ot,`RPC '${e}' ${c} failed with status:`,R,"response text:",g.getResponseText()),R>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C==null?void 0:C.error;if(L&&L.status&&L.message){const B=function(U){const H=U.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(H)>=0?H:Y.UNKNOWN}(L.status);m(new de(B,L.message))}else m(new de(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new de(Y.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{se(Ot,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);se(Ot,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,s,15)})}qo(e,n,s){const a=dh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=pg(),m=fg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=c.join("");se(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,g);const R=h.createWebChannel(w,g);let C=!1,L=!1;const B=new q1({Eo:U=>{L?se(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(C||(se(Ot,`Opening RPC '${e}' stream ${a} transport.`),R.open(),C=!0),se(Ot,`RPC '${e}' stream ${a} sending:`,U),R.send(U))},Ao:()=>R.close()}),$=(U,H,K)=>{U.listen(H,ne=>{try{K(ne)}catch(ce){setTimeout(()=>{throw ce},0)}})};return $(R,Xo.EventType.OPEN,()=>{L||(se(Ot,`RPC '${e}' stream ${a} transport opened.`),B.So())}),$(R,Xo.EventType.CLOSE,()=>{L||(L=!0,se(Ot,`RPC '${e}' stream ${a} transport closed`),B.Do())}),$(R,Xo.EventType.ERROR,U=>{L||(L=!0,Us(Ot,`RPC '${e}' stream ${a} transport errored:`,U),B.Do(new de(Y.UNAVAILABLE,"The operation could not be completed")))}),$(R,Xo.EventType.MESSAGE,U=>{var H;if(!L){const K=U.data[0];Ue(!!K);const ne=K,ce=(ne==null?void 0:ne.error)||((H=ne[0])===null||H===void 0?void 0:H.error);if(ce){se(Ot,`RPC '${e}' stream ${a} received error:`,ce);const Ae=ce.status;let Te=function(I){const k=at[I];if(k!==void 0)return zg(k)}(Ae),x=ce.message;Te===void 0&&(Te=Y.INTERNAL,x="Unknown error status: "+Ae+" with message "+ce.message),L=!0,B.Do(new de(Te,x)),R.close()}else se(Ot,`RPC '${e}' stream ${a} received:`,K),B.vo(K)}}),$(m,dg.STAT_EVENT,U=>{U.stat===Ih.PROXY?se(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Ih.NOPROXY&&se(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{B.bo()},0),B}}function fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i){return new Jw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,s,a,c,h,m,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Jg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new de(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W1 extends Zg{constructor(e,n,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=t1(this.serializer,e),s=function(c){if(!("targetChange"in c))return _e.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?_e.min():h.readTime?Hn(h.readTime):_e.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Nh(this.serializer),n.addTarget=function(c,h){let m;const g=h.target;if(m=Ph(g)?{documents:i1(c,g)}:{query:s1(c,g).ct},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=jg(c,h.resumeToken);const v=xh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(_e.min())>0){m.readTime=ou(c,h.snapshotVersion.toTimestamp());const v=xh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=a1(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Nh(this.serializer),n.removeTarget=e,this.c_(n)}}class Q1 extends Zg{constructor(e,n,s,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=r1(e.writeResults,e.commitTime),s=Hn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Nh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>n1(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new de(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Oo(e,Vh(n,s),a,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(Y.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.ko(e,Vh(n,s),a,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(Y.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class G1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(vr(n),this.C_=!1):se("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{zi(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=we(g);v.k_.add(4),await _a(v),v.K_.set("Unknown"),v.k_.delete(4),await Su(v)}(this))})}),this.K_=new G1(s,a)}}async function Su(i){if(zi(i))for(const e of i.q_)await e(!0)}async function _a(i){for(const e of i.q_)await e(!1)}function ey(i,e){const n=we(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),ud(n)?ld(n):Ys(n).s_()&&ad(n,e))}function od(i,e){const n=we(i),s=Ys(n);n.B_.delete(e),s.s_()&&ty(n,e),n.B_.size===0&&(s.s_()?s.a_():zi(n)&&n.K_.set("Unknown"))}function ad(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ys(i).V_(e)}function ty(i,e){i.U_.xe(e),Ys(i).m_(e)}function ld(i){i.U_=new Kw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ys(i).start(),i.K_.F_()}function ud(i){return zi(i)&&!Ys(i).i_()&&i.B_.size>0}function zi(i){return we(i).k_.size===0}function ny(i){i.U_=void 0}async function Y1(i){i.K_.set("Online")}async function J1(i){i.B_.forEach((e,n)=>{ad(i,e)})}async function Z1(i,e){ny(i),ud(i)?(i.K_.O_(e),ld(i)):i.K_.set("Unknown")}async function eT(i,e,n){if(i.K_.set("Online"),e instanceof bg&&e.state===2&&e.cause)try{await async function(a,c){const h=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lu(i,s)}else if(e instanceof Gl?i.U_.$e(e):e instanceof Bg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(_e.min()))try{const s=await Yg(i.localStore);n.compareTo(s)>=0&&await function(c,h){const m=c.U_.it(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.B_.get(v);w&&c.B_.set(v,w.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const w=c.B_.get(g);if(!w)return;c.B_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),ty(c,g);const R=new Wr(w.target,g,v,w.sequenceNumber);ad(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){se("RemoteStore","Failed to raise snapshot:",s),await lu(i,s)}}async function lu(i,e,n){if(!Xs(e))throw e;i.k_.add(1),await _a(i),i.K_.set("Offline"),n||(n=()=>Yg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Su(i)})}function ry(i,e){return e().catch(n=>lu(i,n,e))}async function Iu(i){const e=we(i),n=ti(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;tT(e);)try{const a=await U1(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,nT(e,a)}catch(a){await lu(e,a)}iy(e)&&sy(e)}function tT(i){return zi(i)&&i.L_.length<10}function nT(i,e){i.L_.push(e);const n=ti(i);n.s_()&&n.f_&&n.g_(e.mutations)}function iy(i){return zi(i)&&!ti(i).i_()&&i.L_.length>0}function sy(i){ti(i).start()}async function rT(i){ti(i).w_()}async function iT(i){const e=ti(i);for(const n of i.L_)e.g_(n.mutations)}async function sT(i,e,n){const s=i.L_.shift(),a=ed.from(s,e,n);await ry(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Iu(i)}async function oT(i,e){e&&ti(i).f_&&await async function(s,a){if(function(h){return Hw(h)&&h!==Y.ABORTED}(a.code)){const c=s.L_.shift();ti(s).__(),await ry(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Iu(s)}}(i,e),iy(i)&&sy(i)}async function Rm(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const s=zi(n);n.k_.add(3),await _a(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Su(n)}async function aT(i,e){const n=we(i);e?(n.k_.delete(2),await Su(n)):e||(n.k_.add(2),await _a(n),n.K_.set("Unknown"))}function Ys(i){return i.W_||(i.W_=function(n,s,a){const c=we(n);return c.b_(),new W1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:Y1.bind(null,i),mo:J1.bind(null,i),po:Z1.bind(null,i),R_:eT.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),ud(i)?ld(i):i.K_.set("Unknown")):(await i.W_.stop(),ny(i))})),i.W_}function ti(i){return i.G_||(i.G_=function(n,s,a){const c=we(n);return c.b_(),new Q1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:rT.bind(null,i),po:oT.bind(null,i),p_:iT.bind(null,i),y_:sT.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Iu(i)):(await i.G_.stop(),i.L_.length>0&&(se("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const h=Date.now()+s,m=new cd(e,n,h,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hd(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Xs(i))return new de(Y.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{static emptySet(e){return new Fs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Yo(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.z_=new Ze(ge.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ve():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class $s{constructor(e,n,s,a,c,h,m,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new $s(e,n,Fs.emptySet(n),h,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class uT{constructor(){this.queries=Cm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=we(n),c=a.queries;a.queries=Cm(),c.forEach((h,m)=>{for(const g of m.J_)g.onError(s)})})(this,new de(Y.ABORTED,"Firestore shutting down"))}}function Cm(){return new Fi(i=>Ag(i),yu)}async function oy(i,e){const n=we(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new lT,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=hd(h,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&dd(n)}async function ay(i,e){const n=we(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const h=c.J_.indexOf(e);h>=0&&(c.J_.splice(h,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cT(i,e){const n=we(i);let s=!1;for(const a of e){const c=a.query,h=n.queries.get(c);if(h){for(const m of h.J_)m.ta(a)&&(s=!0);h.H_=a}}s&&dd(n)}function hT(i,e,n){const s=we(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function dd(i){i.X_.forEach(e=>{e.next()})}var Oh,Pm;(Pm=Oh||(Oh={})).na="default",Pm.Cache="cache";class ly{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new $s(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Oh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.key=e}}class cy{constructor(e){this.key=e}}class dT{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ce(),this.mutatedKeys=Ce(),this.Va=Cg(e),this.ma=new Fs(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new Am,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const C=a.get(w),L=vu(this.query,R)?R:null,B=!!C&&this.mutatedKeys.has(C.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let U=!1;C&&L?C.data.isEqual(L.data)?B!==$&&(s.track({type:3,doc:L}),U=!0):this.ya(C,L)||(s.track({type:2,doc:L}),U=!0,(g&&this.Va(L,g)>0||v&&this.Va(L,v)<0)&&(m=!0)):!C&&L?(s.track({type:0,doc:L}),U=!0):C&&!L&&(s.track({type:1,doc:C}),U=!0,(g||v)&&(m=!0)),U&&(L?(h=h.add(L),c=$?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,R)=>function(L,B){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return $(L)-$(B)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,v=g!==this.Aa;return this.Aa=g,h.length!==0||v?{snapshot:new $s(this.query,e.ma,c,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Am,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ce(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new cy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new uy(s))}),n}va(e){this.da=e.ds,this.Ra=Ce();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return $s.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class fT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class pT{constructor(e){this.key=e,this.Fa=!1}}class mT{constructor(e,n,s,a,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Fi(m=>Ag(m),yu),this.Oa=new Map,this.Na=new Set,this.La=new Ze(ge.comparator),this.Ba=new Map,this.ka=new rd,this.qa={},this.Qa=new Map,this.Ka=js.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function gT(i,e,n=!0){const s=gy(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await hy(s,e,n,!0),a}async function yT(i,e){const n=gy(i);await hy(n,e,!0,!1)}async function hy(i,e,n,s){const a=await z1(i.localStore,qn(e)),c=a.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await vT(i,e,c,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&ey(i.remoteStore,a),m}async function vT(i,e,n,s,a){i.Ua=(R,C,L)=>async function($,U,H,K){let ne=U.view.ga(H);ne.ss&&(ne=await Tm($.localStore,U.query,!1).then(({documents:x})=>U.view.ga(x,ne)));const ce=K&&K.targetChanges.get(U.targetId),Ae=K&&K.targetMismatches.get(U.targetId)!=null,Te=U.view.applyChanges(ne,$.isPrimaryClient,ce,Ae);return xm($,U.targetId,Te.ba),Te.snapshot}(i,R,C,L);const c=await Tm(i.localStore,e,!0),h=new dT(e,c.ds),m=h.ga(c.documents),g=va.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,g);xm(i,n,v.ba);const w=new fT(e,n,h);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function _T(i,e,n){const s=we(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(h=>!yu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Lh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&od(s.remoteStore,a.targetId),Mh(s,a.targetId)}).catch(Gs)):(Mh(s,a.targetId),await Lh(s.localStore,a.targetId,!0))}async function ET(i,e){const n=we(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),od(n.remoteStore,s.targetId))}async function wT(i,e,n){const s=PT(i);try{const a=await function(h,m){const g=we(h),v=pt.now(),w=m.reduce((L,B)=>L.add(B.key),Ce());let R,C;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=_r(),$=Ce();return g.hs.getEntries(L,w).next(U=>{B=U,B.forEach((H,K)=>{K.isValidDocument()||($=$.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,B)).next(U=>{R=U;const H=[];for(const K of m){const ne=Bw(K,R.get(K.key).overlayedDocument);ne!=null&&H.push(new Ui(K.key,ne,_g(ne.value.mapValue),gr.exists(!0)))}return g.mutationQueue.addMutationBatch(L,v,H,m)}).next(U=>{C=U;const H=U.applyToLocalDocumentSet(R,$);return g.documentOverlayCache.saveOverlays(L,U.batchId,H)})}).then(()=>({batchId:C.batchId,changes:kg(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let v=h.qa[h.currentUser.toKey()];v||(v=new Ze(ke)),v=v.insert(m,g),h.qa[h.currentUser.toKey()]=v}(s,a.batchId,n),await Ea(s,a.changes),await Iu(s.remoteStore)}catch(a){const c=hd(a,"Failed to persist write");n.reject(c)}}async function dy(i,e){const n=we(i);try{const s=await M1(n.localStore,e);e.targetChanges.forEach((a,c)=>{const h=n.Ba.get(c);h&&(Ue(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Fa=!0:a.modifiedDocuments.size>0?Ue(h.Fa):a.removedDocuments.size>0&&(Ue(h.Fa),h.Fa=!1))}),await Ea(n,s,e)}catch(s){await Gs(s)}}function km(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,h)=>{const m=h.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=we(h);g.onlineState=m;let v=!1;g.queries.forEach((w,R)=>{for(const C of R.J_)C.ea(m)&&(v=!0)}),v&&dd(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TT(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let h=new Ze(ge.comparator);h=h.insert(c,Ft.newNoDocument(c,_e.min()));const m=Ce().add(c),g=new wu(_e.min(),new Map,new Ze(ke),h,m);await dy(s,g),s.La=s.La.remove(c),s.Ba.delete(e),fd(s)}else await Lh(s.localStore,e,!1).then(()=>Mh(s,e,n)).catch(Gs)}async function ST(i,e){const n=we(i),s=e.batch.batchId;try{const a=await O1(n.localStore,e);py(n,s,null),fy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ea(n,a)}catch(a){await Gs(a)}}async function IT(i,e,n){const s=we(i);try{const a=await function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,m).next(R=>(Ue(R!==null),w=R.keys(),g.mutationQueue.removeMutationBatch(v,R))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(s.localStore,e);py(s,e,n),fy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ea(s,a)}catch(a){await Gs(a)}}function fy(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function py(i,e,n){const s=we(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Mh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||my(i,s)})}function my(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(od(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),fd(i))}function xm(i,e,n){for(const s of n)s instanceof uy?(i.ka.addReference(s.key,e),RT(i,s)):s instanceof cy?(se("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||my(i,s.key)):ve()}function RT(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(se("SyncEngine","New document in limbo: "+n),i.Na.add(s),fd(i))}function fd(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ge(Ge.fromString(e)),s=i.Ka.next();i.Ba.set(s,new pT(n)),i.La=i.La.insert(n,s),ey(i.remoteStore,new Wr(qn(Jh(n.path)),s,"TargetPurposeLimboResolution",fu.oe))}}async function Ea(i,e,n){const s=we(i),a=[],c=[],h=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{h.push(s.Ua(g,e,n).then(v=>{var w;if((v||n)&&s.isPrimaryClient){const R=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(v){a.push(v);const R=sd.zi(g.targetId,v);c.push(R)}}))}),await Promise.all(h),s.Ma.R_(a),await async function(g,v){const w=we(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>W.forEach(v,C=>W.forEach(C.Wi,L=>w.persistence.referenceDelegate.addReference(R,C.targetId,L)).next(()=>W.forEach(C.Gi,L=>w.persistence.referenceDelegate.removeReference(R,C.targetId,L)))))}catch(R){if(!Xs(R))throw R;se("LocalStore","Failed to update sequence numbers: "+R)}for(const R of v){const C=R.targetId;if(!R.fromCache){const L=w.us.get(C),B=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(B);w.us=w.us.insert(C,$)}}}(s.localStore,c))}async function AT(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const s=await Xg(n.localStore,e);n.currentUser=e,function(c,h){c.Qa.forEach(m=>{m.forEach(g=>{g.reject(new de(Y.CANCELLED,h))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ea(n,s.Ts)}}function CT(i,e){const n=we(i),s=n.Ba.get(e);if(s&&s.Fa)return Ce().add(s.key);{let a=Ce();const c=n.Oa.get(e);if(!c)return a;for(const h of c){const m=n.xa.get(h);a=a.unionWith(m.view.fa)}return a}}function gy(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=dy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TT.bind(null,e),e.Ma.R_=cT.bind(null,e.eventManager),e.Ma.Wa=hT.bind(null,e.eventManager),e}function PT(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ST.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IT.bind(null,e),e}class uu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return L1(this.persistence,new D1,e.initialUser,this.serializer)}ja(e){return new Gg(id.ei,this.serializer)}za(e){return new b1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uu.provider={build:()=>new uu};class kT extends uu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ue(this.persistence.referenceDelegate instanceof au);const s=this.persistence.referenceDelegate.garbageCollector;return new y1(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Gg(s=>au.ei(s,n),this.serializer)}}class Fh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>km(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AT.bind(null,this.syncEngine),await aT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uT}()}createDatastore(e){const n=Tu(e.databaseInfo.databaseId),s=function(c){return new H1(c)}(e.databaseInfo);return function(c,h,m,g){return new K1(c,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,h,m){return new X1(s,a,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>km(this.syncEngine,n,0),function(){return Im.p()?new Im:new j1}())}createSyncEngine(e,n){return function(a,c,h,m,g,v,w){const R=new mT(a,c,h,m,g,v);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=we(a);se("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await _a(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fh.provider={build:()=>new Fh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async h=>{se("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(se("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ph(i,e){i.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Xg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Vm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await VT(i);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Rm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Rm(e.remoteStore,a)),i._onlineComponents=e}async function VT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await ph(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===Y.FAILED_PRECONDITION||a.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Us("Error using user provided cache. Falling back to memory cache: "+n),await ph(i,new uu)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await ph(i,new kT(void 0));return i._offlineComponents}async function vy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await Vm(i,i._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await Vm(i,new Fh))),i._onlineComponents}function DT(i){return vy(i).then(e=>e.syncEngine)}async function _y(i){const e=await vy(i),n=e.eventManager;return n.onListen=gT.bind(null,e.syncEngine),n.onUnlisten=_T.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ET.bind(null,e.syncEngine),n}function NT(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,v){const w=new yy({next:C=>{w.eu(),h.enqueueAndForget(()=>ay(c,R));const L=C.docs.has(m);!L&&C.fromCache?v.reject(new de(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&C.fromCache&&g&&g.source==="server"?v.reject(new de(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),R=new ly(Jh(m.path),w,{includeMetadataChanges:!0,ua:!0});return oy(c,R)}(await _y(i),i.asyncQueue,e,n,s)),s.promise}function LT(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,v){const w=new yy({next:C=>{w.eu(),h.enqueueAndForget(()=>ay(c,R)),C.fromCache&&g.source==="server"?v.reject(new de(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),R=new ly(m,w,{includeMetadataChanges:!0,ua:!0});return oy(c,R)}(await _y(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(i,e,n){if(!n)throw new de(Y.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function OT(i,e,n,s){if(e===!0&&s===!0)throw new de(Y.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Nm(i){if(!ge.isDocumentKey(i))throw new de(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Lm(i){if(ge.isDocumentKey(i))throw new de(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function pd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve()}function Li(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pd(i);throw new de(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ey((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ru{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new WE;switch(s.type){case"firstParty":return new XE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Dm.get(n);s&&(se("ComponentProvider","Removing Datastore"),Dm.delete(n),s.terminate())}(this),Promise.resolve()}}function MT(i,e,n,s={}){var a;const c=(i=Li(i,Ru))._getSettings(),h=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==h&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:h,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Mt.MOCK_USER;else{m=C0(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new de(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Mt(v)}i._authCredentials=new QE(new mg(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Au(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Gr extends Au{constructor(e,n,s){super(e,n,Jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new ge(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function FT(i,e,...n){if(i=sa(i),wy("collection","path",e),i instanceof Ru){const s=Ge.fromString(e,...n);return Lm(s),new Gr(i,null,s)}{if(!(i instanceof sn||i instanceof Gr))throw new de(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return Lm(s),new Gr(i.firestore,null,s)}}function UT(i,e,...n){if(i=sa(i),arguments.length===1&&(e=gg.newId()),wy("doc","path",e),i instanceof Ru){const s=Ge.fromString(e,...n);return Nm(s),new sn(i,null,new ge(s))}{if(!(i instanceof sn||i instanceof Gr))throw new de(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return Nm(s),new sn(i.firestore,i instanceof Gr?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Jg(this,"async_queue_retry"),this.fu=()=>{const s=fh();s&&se("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=fh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=fh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new mr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Xs(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw vr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=cd.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&ve()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Cu extends Ru{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Mm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mm(e),this._firestoreClient=void 0,await e}}}function zT(i,e){const n=typeof i=="object"?i:ME(),s=typeof i=="string"?i:"(default)",a=DE(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=R0("firestore");c&&MT(a,...c)}return a}function md(i){if(i._terminated)throw new de(Y.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||BT(i),i._firestoreClient}function BT(i){var e,n,s;const a=i._freezeSettings(),c=function(m,g,v,w){return new hw(m,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Ey(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new xT(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qs(Pt.fromBase64String(e))}catch(n){throw new de(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qs(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=/^__.*__$/;class jT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new ya(e,this.data,n,this.fieldTransforms)}}function Sy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class _d{constructor(e,n,s,a,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new _d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return cu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Sy(this.Mu)&&bT.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class $T{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tu(e)}$u(e,n,s,a=!1){return new _d({Mu:e,methodName:n,Ku:s,path:Ct.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qT(i){const e=i._freezeSettings(),n=Tu(i._databaseId);return new $T(i._databaseId,!!e.ignoreUndefinedProperties,n)}function HT(i,e,n,s,a,c={}){const h=i.$u(c.merge||c.mergeFields?2:0,e,n,a);Cy("Data must be an object, but it was:",h,s);const m=Ry(s,h);let g,v;if(c.merge)g=new Dn(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const R of c.mergeFields){const C=WT(e,R,n);if(!h.contains(C))throw new de(Y.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);KT(w,C)||w.push(C)}g=new Dn(w),v=h.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,v=h.fieldTransforms;return new jT(new gn(m),g,v)}function Iy(i,e){if(Ay(i=sa(i)))return Cy("Unsupported field value:",e,i),Ry(i,e);if(i instanceof Ty)return function(s,a){if(!Sy(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let h=0;for(const m of s){let g=Iy(m,a.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=sa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Lw(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pt.fromDate(s);return{timestampValue:ou(a.serializer,c)}}if(s instanceof pt){const c=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ou(a.serializer,c)}}if(s instanceof yd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qs)return{bytesValue:jg(a.serializer,s._byteString)};if(s instanceof sn){const c=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw a.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:nd(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vd)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return Zh(m.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${pd(s)}`)}(i,e)}function Ry(i,e){const n={};return yg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(i,(s,a)=>{const c=Iy(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Ay(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof yd||i instanceof qs||i instanceof sn||i instanceof Ty||i instanceof vd)}function Cy(i,e,n){if(!Ay(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=pd(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function WT(i,e,n){if((e=sa(e))instanceof gd)return e._internalPath;if(typeof e=="string")return Py(i,e);throw cu("Field path arguments must be of type string or ",i,!1,void 0,n)}const QT=new RegExp("[~\\*/\\[\\]]");function Py(i,e,n){if(e.search(QT)>=0)throw cu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new gd(...e.split("."))._internalPath}catch{throw cu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function cu(i,e,n,s,a){const c=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new de(Y.INVALID_ARGUMENT,m+i+g)}function KT(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GT extends ky{data(){return super.data()}}function xy(i,e){return typeof e=="string"?Py(i,e):e instanceof gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YT{convertValue(e,n="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Mi(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>it(h.doubleValue));return new vd(c)}convertGeoPoint(e){return new yd(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ge.fromString(e);Ue(Kg(s));const a=new ca(s.get(1),s.get(3)),c=new ge(s.popFirst(5));return a.isEqual(n)||vr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vy extends ky{constructor(e,n,s,a,c,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(xy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Xl extends Vy{data(e={}){return super.data(e)}}class ZT{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Zo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Xl(this._firestore,this._userDataWriter,s.key,s,new Zo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new Xl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Zo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new Xl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Zo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:eS(m.type),doc:g,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(i){i=Li(i,sn);const e=Li(i.firestore,Cu);return NT(md(e),i._key).then(n=>sS(e,i,n))}class Dy extends YT{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function nS(i){i=Li(i,Au);const e=Li(i.firestore,Cu),n=md(e),s=new Dy(e);return XT(i._query),LT(n,i._query).then(a=>new ZT(e,s,i,a))}function rS(i,e,n){i=Li(i,sn);const s=Li(i.firestore,Cu),a=JT(i.converter,e);return iS(s,[HT(qT(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,gr.none())])}function iS(i,e){return function(s,a){const c=new mr;return s.asyncQueue.enqueueAndForget(async()=>wT(await DT(s),a,c)),c.promise}(md(i),e)}function sS(i,e,n){const s=n.docs.get(e._key),a=new Dy(i);return new Vy(i,a,e._key,s,new Zo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ks=a})(OE),eu(new oa("firestore",(s,{instanceIdentifier:a,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new Cu(new KE(s.getProvider("auth-internal")),new JE(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new de(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(v.options.projectId,w)}(h,a),h);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ms(Zp,"4.7.5",e),Ms(Zp,"4.7.5","esm2017")})();var oS="firebase",aS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(oS,aS,"app");const lS={apiKey:"AIzaSyAKiEZ0rPXepLno0DdvcSeLd2DtneU_OeA",authDomain:"quizgame-92fd9.firebaseapp.com",projectId:"quizgame-92fd9",storageBucket:"quizgame-92fd9.firebasestorage.app",messagingSenderId:"543542501286",appId:"1:543542501286:web:eea2ed7581030976f2b967"},uS=og(lS),Ny=zT(uS);function cS(){const[i,e]=q.useState(""),[n,s]=q.useState(""),a=Bh(),c=async()=>{if(i=="MCA"&n=="MCA")return a("/quiz"),!0;if(i.endsWith("@spsu.ac.in")==!0&n!=""){const h=i,m=UT(Ny,"users",h),g=await tS(m);g.exists()?g.data().password==n?a("/quiz"):alert("Worng password."):(await rS(m,{email:h,password:n}),console.log("User Created."),c())}else alert("Worng Input Email")};return Ee.jsx(Ee.Fragment,{children:Ee.jsx("div",{id:"main-login",className:"container d-flex justify-content-center align-items-center",children:Ee.jsxs("div",{className:"container bg-light w-25 p-4 justify-content-center align-items-center rounded-3 shadow-lg",children:[Ee.jsx("div",{className:"d-flex justify-content-center mb-3",children:Ee.jsx("img",{id:"appimg",src:m0})}),Ee.jsx("input",{type:"email",className:"form-control my-2",placeholder:"email",value:i,onChange:h=>e(h.target.value)}),Ee.jsx("input",{type:"password",className:"form-control my-2",placeholder:"Password",value:n,onChange:h=>s(h.target.value)}),Ee.jsx("button",{type:"submit",onClick:c,className:"btn btn-primary my-2 w-100",children:"Login / SignUp"}),Ee.jsx("div",{className:"d-flex justify-content-center m-0 mt-1 text-center",children:Ee.jsx("p",{className:"text-secondary m-0",children:'Only SPSU mail allowed but type "MCA" and "MCA" for hacking.....'})})]})})})}function hS(){const[i,e]=q.useState(0),[n,s]=q.useState([]),[a,c]=q.useState(0),[h,m]=q.useState(!1),[g,v]=q.useState(null),w=Bh();q.useEffect(()=>{async function U(){try{const ne=(await nS(FT(Ny,"quiz_questions"))).docs.map(ce=>ce.data()).sort(()=>Math.random()-.5).slice(0,7);s(ne)}catch(H){console.error("Error fetching questions from Firestore:",H),s([])}}U()},[]);const R=()=>{g?(g===n[a].correct_answer&&e(i+100),v(null),a+1<n.length?c(a+1):m(!0)):alert("Please select an option.")},C=()=>{c(0),e(0),m(!1)},L=U=>{const H=document.createElement("textarea");return H.innerHTML=U,H.value},B=()=>{if(n.length===0||!n[a])return Ee.jsx("p",{children:"Error loading questions or no questions available."});const U=n[a],H=[...U.incorrect_answers,U.correct_answer];return H.sort(),Ee.jsxs("div",{className:"quiz-container",children:[Ee.jsx("h3",{className:"mb-4",children:`Question ${a+1} of ${n.length}`}),Ee.jsx("p",{className:"question fs-5 fw-bold",children:L(U.question)}),Ee.jsx("div",{className:"btn-group-vertical w-100 mt-3 gap-2",role:"group",children:H.map((K,ne)=>Ee.jsxs("label",{className:`btn btn-outline-primary text-start ${g===K?"active":""}`,onClick:()=>v(K),children:[Ee.jsx("input",{type:"radio",id:`answer-${ne}`,name:"answer",value:K,checked:g===K,onChange:()=>v(K),style:{display:"none"}}),L(K)]},ne))}),Ee.jsx("button",{className:"btn btn-primary mt-4",onClick:R,disabled:!g,children:a+1<n.length?"Next":"Submit"})]})},$=()=>Ee.jsxs("div",{className:"quiz-container",children:[Ee.jsx("h2",{children:"Quiz Completed!"}),Ee.jsxs("p",{children:["Your Score: ",i," / ",n.length*100]}),Ee.jsxs("div",{className:"d-flex gap-2",children:[Ee.jsx("button",{className:"btn btn-secondary",onClick:C,children:"Restart Quiz"}),Ee.jsx("button",{className:"btn btn-secondary",onClick:()=>w("/"),children:"Back to Home"})]})]});return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx("div",{id:"score",className:"position-absolute",children:Ee.jsxs("div",{className:"input-group",children:[Ee.jsx("div",{className:"input-group-text",children:"Score"}),Ee.jsx("p",{className:"form-control m-0 w-auto",children:i})]})}),Ee.jsx("div",{id:"main-area",className:"container d-flex justify-content-center align-items-center",children:Ee.jsx("div",{id:"QuizArea",className:"container bg-light d-flex shadow-lg rounded-2 p-3",children:n.length===0?Ee.jsx("p",{children:"Loading..."}):h?$():B()})})]})}function dS(){return Ee.jsx(Ee.Fragment,{children:Ee.jsx(s0,{children:Ee.jsxs(O_,{children:[Ee.jsx(gh,{path:"/",element:Ee.jsx(cS,{})}),Ee.jsx(gh,{path:"/quiz",element:Ee.jsx(hS,{})})]})})})}Hv.createRoot(document.getElementById("root")).render(Ee.jsx(q.StrictMode,{children:Ee.jsx(dS,{})}));
