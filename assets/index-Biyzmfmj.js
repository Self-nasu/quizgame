(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();var th={exports:{}},Ko={},nh={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function Bv(){if(Cp)return Re;Cp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=R&&N[R]||N["@@iterator"],typeof N=="function"?N:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function U(N,Q,he){this.props=N,this.context=Q,this.refs=$,this.updater=he||L}U.prototype.isReactComponent={},U.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function H(){}H.prototype=U.prototype;function K(N,Q,he){this.props=N,this.context=Q,this.refs=$,this.updater=he||L}var ne=K.prototype=new H;ne.constructor=K,B(ne,U.prototype),ne.isPureReactComponent=!0;var ce=Array.isArray,Ae=Object.prototype.hasOwnProperty,Te={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(N,Q,he){var Se,Ie={},xe=null,Me=null;if(Q!=null)for(Se in Q.ref!==void 0&&(Me=Q.ref),Q.key!==void 0&&(xe=""+Q.key),Q)Ae.call(Q,Se)&&!x.hasOwnProperty(Se)&&(Ie[Se]=Q[Se]);var Fe=arguments.length-2;if(Fe===1)Ie.children=he;else if(1<Fe){for(var je=Array(Fe),gt=0;gt<Fe;gt++)je[gt]=arguments[gt+2];Ie.children=je}if(N&&N.defaultProps)for(Se in Fe=N.defaultProps,Fe)Ie[Se]===void 0&&(Ie[Se]=Fe[Se]);return{$$typeof:i,type:N,key:xe,ref:Me,props:Ie,_owner:Te.current}}function I(N,Q){return{$$typeof:i,type:N.type,key:Q,ref:N.ref,props:N.props,_owner:N._owner}}function k(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function D(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return Q[he]})}var O=/\/+/g;function A(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):Q.toString(36)}function tt(N,Q,he,Se,Ie){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var Me=!1;if(N===null)Me=!0;else switch(xe){case"string":case"number":Me=!0;break;case"object":switch(N.$$typeof){case i:case e:Me=!0}}if(Me)return Me=N,Ie=Ie(Me),N=Se===""?"."+A(Me,0):Se,ce(Ie)?(he="",N!=null&&(he=N.replace(O,"$&/")+"/"),tt(Ie,Q,he,"",function(gt){return gt})):Ie!=null&&(k(Ie)&&(Ie=I(Ie,he+(!Ie.key||Me&&Me.key===Ie.key?"":(""+Ie.key).replace(O,"$&/")+"/")+N)),Q.push(Ie)),1;if(Me=0,Se=Se===""?".":Se+":",ce(N))for(var Fe=0;Fe<N.length;Fe++){xe=N[Fe];var je=Se+A(xe,Fe);Me+=tt(xe,Q,he,je,Ie)}else if(je=C(N),typeof je=="function")for(N=je.call(N),Fe=0;!(xe=N.next()).done;)xe=xe.value,je=Se+A(xe,Fe++),Me+=tt(xe,Q,he,je,Ie);else if(xe==="object")throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Me}function kt(N,Q,he){if(N==null)return N;var Se=[],Ie=0;return tt(N,Se,"","",function(xe){return Q.call(he,xe,Ie++)}),Se}function xt(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var Be={current:null},te={transition:null},de={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:te,ReactCurrentOwner:Te};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:kt,forEach:function(N,Q,he){kt(N,function(){Q.apply(this,arguments)},he)},count:function(N){var Q=0;return kt(N,function(){Q++}),Q},toArray:function(N){return kt(N,function(Q){return Q})||[]},only:function(N){if(!k(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=U,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=K,Re.StrictMode=s,Re.Suspense=g,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Re.act=ie,Re.cloneElement=function(N,Q,he){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Se=B({},N.props),Ie=N.key,xe=N.ref,Me=N._owner;if(Q!=null){if(Q.ref!==void 0&&(xe=Q.ref,Me=Te.current),Q.key!==void 0&&(Ie=""+Q.key),N.type&&N.type.defaultProps)var Fe=N.type.defaultProps;for(je in Q)Ae.call(Q,je)&&!x.hasOwnProperty(je)&&(Se[je]=Q[je]===void 0&&Fe!==void 0?Fe[je]:Q[je])}var je=arguments.length-2;if(je===1)Se.children=he;else if(1<je){Fe=Array(je);for(var gt=0;gt<je;gt++)Fe[gt]=arguments[gt+2];Se.children=Fe}return{$$typeof:i,type:N.type,key:Ie,ref:xe,props:Se,_owner:Me}},Re.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:u,_context:N},N.Consumer=N},Re.createElement=T,Re.createFactory=function(N){var Q=T.bind(null,N);return Q.type=N,Q},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=k,Re.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:xt}},Re.memo=function(N,Q){return{$$typeof:v,type:N,compare:Q===void 0?null:Q}},Re.startTransition=function(N){var Q=te.transition;te.transition={};try{N()}finally{te.transition=Q}},Re.unstable_act=ie,Re.useCallback=function(N,Q){return Be.current.useCallback(N,Q)},Re.useContext=function(N){return Be.current.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N){return Be.current.useDeferredValue(N)},Re.useEffect=function(N,Q){return Be.current.useEffect(N,Q)},Re.useId=function(){return Be.current.useId()},Re.useImperativeHandle=function(N,Q,he){return Be.current.useImperativeHandle(N,Q,he)},Re.useInsertionEffect=function(N,Q){return Be.current.useInsertionEffect(N,Q)},Re.useLayoutEffect=function(N,Q){return Be.current.useLayoutEffect(N,Q)},Re.useMemo=function(N,Q){return Be.current.useMemo(N,Q)},Re.useReducer=function(N,Q,he){return Be.current.useReducer(N,Q,he)},Re.useRef=function(N){return Be.current.useRef(N)},Re.useState=function(N){return Be.current.useState(N)},Re.useSyncExternalStore=function(N,Q,he){return Be.current.useSyncExternalStore(N,Q,he)},Re.useTransition=function(){return Be.current.useTransition()},Re.version="18.3.1",Re}var Pp;function Uh(){return Pp||(Pp=1,nh.exports=Bv()),nh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function bv(){if(kp)return Ko;kp=1;var i=Uh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,v){var w,R={},C=null,L=null;v!==void 0&&(C=""+v),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(L=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(R[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)R[w]===void 0&&(R[w]=g[w]);return{$$typeof:e,type:m,key:C,ref:L,props:R,_owner:a.current}}return Ko.Fragment=n,Ko.jsx=h,Ko.jsxs=h,Ko}var xp;function jv(){return xp||(xp=1,th.exports=bv()),th.exports}var Ee=jv(),q=Uh(),Ml={},rh={exports:{}},Gt={},ih={exports:{}},sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function $v(){return Vp||(Vp=1,function(i){function e(te,de){var ie=te.length;te.push(de);e:for(;0<ie;){var N=ie-1>>>1,Q=te[N];if(0<a(Q,de))te[N]=de,te[ie]=Q,ie=N;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var de=te[0],ie=te.pop();if(ie!==de){te[0]=ie;e:for(var N=0,Q=te.length,he=Q>>>1;N<he;){var Se=2*(N+1)-1,Ie=te[Se],xe=Se+1,Me=te[xe];if(0>a(Ie,ie))xe<Q&&0>a(Me,Ie)?(te[N]=Me,te[xe]=ie,N=xe):(te[N]=Ie,te[Se]=ie,N=Se);else if(xe<Q&&0>a(Me,ie))te[N]=Me,te[xe]=ie,N=xe;else break e}}return de}function a(te,de){var ie=te.sortIndex-de.sortIndex;return ie!==0?ie:te.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],v=[],w=1,R=null,C=3,L=!1,B=!1,$=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(te){for(var de=n(v);de!==null;){if(de.callback===null)s(v);else if(de.startTime<=te)s(v),de.sortIndex=de.expirationTime,e(g,de);else break;de=n(v)}}function ce(te){if($=!1,ne(te),!B)if(n(g)!==null)B=!0,xt(Ae);else{var de=n(v);de!==null&&Be(ce,de.startTime-te)}}function Ae(te,de){B=!1,$&&($=!1,H(T),T=-1),L=!0;var ie=C;try{for(ne(de),R=n(g);R!==null&&(!(R.expirationTime>de)||te&&!D());){var N=R.callback;if(typeof N=="function"){R.callback=null,C=R.priorityLevel;var Q=N(R.expirationTime<=de);de=i.unstable_now(),typeof Q=="function"?R.callback=Q:R===n(g)&&s(g),ne(de)}else s(g);R=n(g)}if(R!==null)var he=!0;else{var Se=n(v);Se!==null&&Be(ce,Se.startTime-de),he=!1}return he}finally{R=null,C=ie,L=!1}}var Te=!1,x=null,T=-1,I=5,k=-1;function D(){return!(i.unstable_now()-k<I)}function O(){if(x!==null){var te=i.unstable_now();k=te;var de=!0;try{de=x(!0,te)}finally{de?A():(Te=!1,x=null)}}else Te=!1}var A;if(typeof K=="function")A=function(){K(O)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=O,A=function(){kt.postMessage(null)}}else A=function(){U(O,0)};function xt(te){x=te,Te||(Te=!0,A())}function Be(te,de){T=U(function(){te(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){B||L||(B=!0,xt(Ae))},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(te){switch(C){case 1:case 2:case 3:var de=3;break;default:de=C}var ie=C;C=de;try{return te()}finally{C=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ie=C;C=te;try{return de()}finally{C=ie}},i.unstable_scheduleCallback=function(te,de,ie){var N=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?N+ie:N):ie=N,te){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ie+Q,te={id:w++,callback:de,priorityLevel:te,startTime:ie,expirationTime:Q,sortIndex:-1},ie>N?(te.sortIndex=ie,e(v,te),n(g)===null&&te===n(v)&&($?(H(T),T=-1):$=!0,Be(ce,ie-N))):(te.sortIndex=Q,e(g,te),B||L||(B=!0,xt(Ae))),te},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(te){var de=C;return function(){var ie=C;C=de;try{return te.apply(this,arguments)}finally{C=ie}}}}(sh)),sh}var Dp;function qv(){return Dp||(Dp=1,ih.exports=$v()),ih.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function Hv(){if(Np)return Gt;Np=1;var i=Uh(),e=qv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function C(t){return g.call(R,t)?!0:g.call(w,t)?!1:v.test(t)?R[t]=!0:(w[t]=!0,!1)}function L(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B(t,r,o,c){if(r===null||typeof r>"u"||L(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,c,f,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){U[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];U[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){U[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){U[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){U[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){U[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){U[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){U[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){U[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function K(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(H,K);U[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(H,K);U[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(H,K);U[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){U[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),U.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){U[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function ne(t,r,o,c){var f=U.hasOwnProperty(r)?U[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(B(r,o,f,c)&&(o=null),c||f===null?C(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var ce=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ae=Symbol.for("react.element"),Te=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),te=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,N;function Q(t){if(N===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var he=!1;function Se(t,r){if(!t||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(b){var c=b}Reflect.construct(t,[],r)}else{try{r.call()}catch(b){c=b}t.call(r.prototype)}else{try{throw Error()}catch(b){c=b}t()}}catch(b){if(b&&c&&typeof b.stack=="string"){for(var f=b.stack.split(`
`),p=c.stack.split(`
`),_=f.length-1,S=p.length-1;1<=_&&0<=S&&f[_]!==p[S];)S--;for(;1<=_&&0<=S;_--,S--)if(f[_]!==p[S]){if(_!==1||S!==1)do if(_--,S--,0>S||f[_]!==p[S]){var P=`
`+f[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=S);break}}}finally{he=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Q(t):""}function Ie(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Se(t.type,!1),t;case 11:return t=Se(t.type.render,!1),t;case 1:return t=Se(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case Te:return"Portal";case I:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=je(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Xn(t){t._valueTracker||(t._valueTracker=gt(t))}function bi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=je(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ni(t,r){var o=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function ji(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Zs(t,r){r=r.checked,r!=null&&ne(t,"checked",r,!1)}function eo(t,r){Zs(t,r);var o=Fe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?$i(t,r.type,o):r.hasOwnProperty("defaultValue")&&$i(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function wa(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function $i(t,r,o){(r!=="number"||wr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Yn=Array.isArray;function Jn(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function to(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Yn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Hi(t,r){var o=Fe(r.value),c=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function no(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zn,ro=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Tr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ii=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(t){ii.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ri[r]=ri[t]})});function io(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ri.hasOwnProperty(t)&&ri[t]?(""+r).trim():r+"px"}function so(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=io(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var oo=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(t,r){if(r){if(oo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function lo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var si=null;function Wi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,on=null,Ln=null;function Ki(t){if(t=No(t)){if(typeof Qi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ya(r),Qi(t.stateNode,t.type,r))}}function On(t){on?Ln?Ln.push(t):Ln=[t]:on=t}function uo(){if(on){var t=on,r=Ln;if(Ln=on=null,Ki(t),r)for(t=0;t<r.length;t++)Ki(r[t])}}function oi(t,r){return t(r)}function co(){}var er=!1;function ho(t,r,o){if(er)return t(r,o);er=!0;try{return oi(t,r,o)}finally{er=!1,(on!==null||Ln!==null)&&(co(),uo())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var c=Ya(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Gi=!1;if(m)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Gi=!1}function ai(t,r,o,c,f,p,_,S,P){var b=Array.prototype.slice.call(arguments,3);try{r.apply(o,b)}catch(X){this.onError(X)}}var li=!1,Xi=null,vn=!1,fo=null,ku={onError:function(t){li=!0,Xi=t}};function Yi(t,r,o,c,f,p,_,S,P){li=!1,Xi=null,ai.apply(ku,arguments)}function Ta(t,r,o,c,f,p,_,S,P){if(Yi.apply(this,arguments),li){if(li){var b=Xi;li=!1,Xi=null}else throw Error(n(198));vn||(vn=!0,fo=b)}}function _n(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ui(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(_n(t)!==t)throw Error(n(188))}function Sa(t){var r=t.alternate;if(!r){if(r=_n(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return En(f),t;if(p===c)return En(f),r;p=p.sibling}throw Error(n(188))}if(o.return!==c.return)o=f,c=p;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,c=p;break}if(S===c){_=!0,c=f,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,c=f;break}if(S===c){_=!0,c=p,o=f;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function po(t){return t=Sa(t),t!==null?Ji(t):null}function Ji(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Ji(t);if(r!==null)return r;t=t.sibling}return null}var Zi=e.unstable_scheduleCallback,mo=e.unstable_cancelCallback,Ia=e.unstable_shouldYield,xu=e.unstable_requestPaint,$e=e.unstable_now,Ra=e.unstable_getCurrentPriorityLevel,ci=e.unstable_ImmediatePriority,Sr=e.unstable_UserBlockingPriority,an=e.unstable_NormalPriority,go=e.unstable_LowPriority,Aa=e.unstable_IdlePriority,hi=null,Yt=null;function Ca(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(hi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:ka,yo=Math.log,Pa=Math.LN2;function ka(t){return t>>>=0,t===0?32:31-(yo(t)/Pa|0)|0}var es=64,ts=4194304;function Ir(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fi(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~f;S!==0?c=Ir(S):(p&=_,p!==0&&(c=Ir(p)))}else _=o&~f,_!==0?c=Ir(_):p!==0&&(c=Ir(p));if(c===0)return 0;if(r!==0&&r!==c&&!(r&f)&&(f=c&-c,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if(c&4&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-Ut(r),f=1<<o,c|=t[o],r&=~f;return c}function Vu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ut(p),S=1<<_,P=f[_];P===-1?(!(S&o)||S&c)&&(f[_]=Vu(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function di(){var t=es;return es<<=1,!(es&4194240)&&(es=64),t}function Rr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ar(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-Ut(o),p=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~p}}function Cr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-Ut(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var Pe=0;function Pr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xa,ns,Va,Da,Na,vo=!1,Mn=[],Tt=null,wn=null,Tn=null,kr=new Map,ln=new Map,Fn=[],Du="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function La(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":kr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(r.pointerId)}}function jt(t,r,o,c,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=No(r),r!==null&&ns(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Nu(t,r,o,c,f){switch(r){case"focusin":return Tt=jt(Tt,t,r,o,c,f),!0;case"dragenter":return wn=jt(wn,t,r,o,c,f),!0;case"mouseover":return Tn=jt(Tn,t,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return kr.set(p,jt(kr.get(p)||null,t,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,ln.set(p,jt(ln.get(p)||null,t,r,o,c,f)),!0}return!1}function Oa(t){var r=vi(t.target);if(r!==null){var o=_n(r);if(o!==null){if(r=o.tag,r===13){if(r=ui(o),r!==null){t.blockedOn=r,Na(t.priority,function(){Va(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=rs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);si=c,o.target.dispatchEvent(c),si=null}else return r=No(o),r!==null&&ns(r),t.blockedOn=o,!1;r.shift()}return!0}function pi(t,r,o){nr(t)&&o.delete(r)}function Ma(){vo=!1,Tt!==null&&nr(Tt)&&(Tt=null),wn!==null&&nr(wn)&&(wn=null),Tn!==null&&nr(Tn)&&(Tn=null),kr.forEach(pi),ln.forEach(pi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,vo||(vo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ma)))}function In(t){function r(f){return Sn(f,t)}if(0<Mn.length){Sn(Mn[0],t);for(var o=1;o<Mn.length;o++){var c=Mn[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Tt!==null&&Sn(Tt,t),wn!==null&&Sn(wn,t),Tn!==null&&Sn(Tn,t),kr.forEach(r),ln.forEach(r),o=0;o<Fn.length;o++)c=Fn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Fn.length&&(o=Fn[0],o.blockedOn===null);)Oa(o),o.blockedOn===null&&Fn.shift()}var rr=ce.ReactCurrentBatchConfig,xr=!0;function Qe(t,r,o,c){var f=Pe,p=rr.transition;rr.transition=null;try{Pe=1,_o(t,r,o,c)}finally{Pe=f,rr.transition=p}}function Lu(t,r,o,c){var f=Pe,p=rr.transition;rr.transition=null;try{Pe=4,_o(t,r,o,c)}finally{Pe=f,rr.transition=p}}function _o(t,r,o,c){if(xr){var f=rs(t,r,o,c);if(f===null)Hu(t,r,c,mi,o),La(t,c);else if(Nu(f,t,r,o,c))c.stopPropagation();else if(La(t,c),r&4&&-1<Du.indexOf(t)){for(;f!==null;){var p=No(f);if(p!==null&&xa(p),p=rs(t,r,o,c),p===null&&Hu(t,r,c,mi,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else Hu(t,r,c,null,o)}}var mi=null;function rs(t,r,o,c){if(mi=null,t=Wi(c),t=vi(t),t!==null)if(r=_n(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ui(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return mi=t,null}function Eo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ra()){case ci:return 1;case Sr:return 4;case an:case go:return 16;case Aa:return 536870912;default:return 16}default:return 16}}var Zt=null,is=null,$t=null;function wo(){if($t)return $t;var t,r=is,o=r.length,c,f="value"in Zt?Zt.value:Zt.textContent,p=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===f[p-c];c++);return $t=f.slice(t,1<c?1-c:void 0)}function ss(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Un(){return!0}function To(){return!1}function St(t){function r(o,c,f,p,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Un:To,this.isPropagationStopped=To,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){},isPersistent:Un}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=St(Rn),zn=ie({},Rn,{view:0,detail:0}),Ou=St(zn),as,ir,Vr,gi=ie({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(as=t.screenX-Vr.screenX,ir=t.screenY-Vr.screenY):ir=as=0,Vr=t),as)},movementY:function(t){return"movementY"in t?t.movementY:ir}}),ls=St(gi),So=ie({},gi,{dataTransfer:0}),Fa=St(So),us=ie({},zn,{relatedTarget:0}),cs=St(us),Ua=ie({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),sr=St(Ua),za=ie({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ba=St(za),ba=ie({},Rn,{data:0}),Io=St(ba),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ja={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $a(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ja[t])?!!r[t]:!1}function Bn(){return $a}var l=ie({},zn,{key:function(t){if(t.key){var r=hs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bn,charCode:function(t){return t.type==="keypress"?ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=St(l),y=ie({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=St(y),M=ie({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bn}),j=St(M),ee=ie({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=St(ee),ct=ie({},gi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=St(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,un=null;m&&"documentMode"in document&&(un=document.documentMode);var en=m&&"TextEvent"in window&&!un,yi=m&&(!st||un&&8<un&&11>=un),fs=" ",wf=!1;function Tf(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ds=!1;function Fy(t,r){switch(t){case"compositionend":return Sf(r);case"keypress":return r.which!==32?null:(wf=!0,fs);case"textInput":return t=r.data,t===fs&&wf?null:t;default:return null}}function Uy(t,r){if(ds)return t==="compositionend"||!st&&Tf(t,r)?(t=wo(),$t=is=Zt=null,ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yi&&r.locale!=="ko"?null:r.data;default:return null}}var zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!zy[t.type]:r==="textarea"}function Rf(t,r,o,c){On(c),r=Ka(r,"onChange"),0<r.length&&(o=new os("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Ro=null,Ao=null;function By(t){$f(t,0)}function qa(t){var r=vs(t);if(bi(r))return t}function by(t,r){if(t==="change")return r}var Af=!1;if(m){var Mu;if(m){var Fu="oninput"in document;if(!Fu){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),Fu=typeof Cf.oninput=="function"}Mu=Fu}else Mu=!1;Af=Mu&&(!document.documentMode||9<document.documentMode)}function Pf(){Ro&&(Ro.detachEvent("onpropertychange",kf),Ao=Ro=null)}function kf(t){if(t.propertyName==="value"&&qa(Ao)){var r=[];Rf(r,Ao,t,Wi(t)),ho(By,r)}}function jy(t,r,o){t==="focusin"?(Pf(),Ro=r,Ao=o,Ro.attachEvent("onpropertychange",kf)):t==="focusout"&&Pf()}function $y(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qa(Ao)}function qy(t,r){if(t==="click")return qa(r)}function Hy(t,r){if(t==="input"||t==="change")return qa(r)}function Wy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:Wy;function Co(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!g.call(r,f)||!An(t[f],r[f]))return!1}return!0}function xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vf(t,r){var o=xf(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xf(o)}}function Df(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Df(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Nf(){for(var t=window,r=wr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=wr(t.document)}return r}function Uu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Qy(t){var r=Nf(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Df(o.ownerDocument.documentElement,o)){if(c!==null&&Uu(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!t.extend&&p>c&&(f=c,c=p,p=f),f=Vf(o,p);var _=Vf(o,c);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),p>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ky=m&&"documentMode"in document&&11>=document.documentMode,ps=null,zu=null,Po=null,Bu=!1;function Lf(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bu||ps==null||ps!==wr(c)||(c=ps,"selectionStart"in c&&Uu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Po&&Co(Po,c)||(Po=c,c=Ka(zu,"onSelect"),0<c.length&&(r=new os("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=ps)))}function Ha(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ms={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},bu={},Of={};m&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Wa(t){if(bu[t])return bu[t];if(!ms[t])return t;var r=ms[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Of)return bu[t]=r[o];return t}var Mf=Wa("animationend"),Ff=Wa("animationiteration"),Uf=Wa("animationstart"),zf=Wa("transitionend"),Bf=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,r){Bf.set(t,r),u(r,[t])}for(var ju=0;ju<bf.length;ju++){var $u=bf[ju],Gy=$u.toLowerCase(),Xy=$u[0].toUpperCase()+$u.slice(1);Dr(Gy,"on"+Xy)}Dr(Mf,"onAnimationEnd"),Dr(Ff,"onAnimationIteration"),Dr(Uf,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(zf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function jf(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Ta(c,r,void 0,t),t.currentTarget=null}function $f(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var S=c[_],P=S.instance,b=S.currentTarget;if(S=S.listener,P!==p&&f.isPropagationStopped())break e;jf(f,S,b),p=P}else for(_=0;_<c.length;_++){if(S=c[_],P=S.instance,b=S.currentTarget,S=S.listener,P!==p&&f.isPropagationStopped())break e;jf(f,S,b),p=P}}}if(vn)throw t=fo,vn=!1,fo=null,t}function He(t,r){var o=r[Yu];o===void 0&&(o=r[Yu]=new Set);var c=t+"__bubble";o.has(c)||(qf(r,t,2,!1),o.add(c))}function qu(t,r,o){var c=0;r&&(c|=4),qf(o,t,c,r)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function xo(t){if(!t[Qa]){t[Qa]=!0,s.forEach(function(o){o!=="selectionchange"&&(Yy.has(o)||qu(o,!1,t),qu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Qa]||(r[Qa]=!0,qu("selectionchange",!1,r))}}function qf(t,r,o,c){switch(Eo(r)){case 1:var f=Qe;break;case 4:f=Lu;break;default:f=_o}o=f.bind(null,r,o,t),f=void 0,!Gi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Hu(t,r,o,c,f){var p=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;_=_.return}for(;S!==null;){if(_=vi(S),_===null)return;if(P=_.tag,P===5||P===6){c=p=_;continue e}S=S.parentNode}}c=c.return}ho(function(){var b=p,X=Wi(o),J=[];e:{var G=Bf.get(t);if(G!==void 0){var re=os,ae=t;switch(t){case"keypress":if(ss(o)===0)break e;case"keydown":case"keyup":re=d;break;case"focusin":ae="focus",re=cs;break;case"focusout":ae="blur",re=cs;break;case"beforeblur":case"afterblur":re=cs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Fa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=j;break;case Mf:case Ff:case Uf:re=sr;break;case zf:re=ze;break;case"scroll":re=Ou;break;case"wheel":re=Ve;break;case"copy":case"cut":case"paste":re=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E}var le=(r&4)!==0,rt=!le&&t==="scroll",F=le?G!==null?G+"Capture":null:G;le=[];for(var V=b,z;V!==null;){z=V;var Z=z.stateNode;if(z.tag===5&&Z!==null&&(z=Z,F!==null&&(Z=nt(V,F),Z!=null&&le.push(Vo(V,Z,z)))),rt)break;V=V.return}0<le.length&&(G=new re(G,ae,null,o,X),J.push({event:G,listeners:le}))}}if(!(r&7)){e:{if(G=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",G&&o!==si&&(ae=o.relatedTarget||o.fromElement)&&(vi(ae)||ae[or]))break e;if((re||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,re?(ae=o.relatedTarget||o.toElement,re=b,ae=ae?vi(ae):null,ae!==null&&(rt=_n(ae),ae!==rt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=b),re!==ae)){if(le=ls,Z="onMouseLeave",F="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(le=E,Z="onPointerLeave",F="onPointerEnter",V="pointer"),rt=re==null?G:vs(re),z=ae==null?G:vs(ae),G=new le(Z,V+"leave",re,o,X),G.target=rt,G.relatedTarget=z,Z=null,vi(X)===b&&(le=new le(F,V+"enter",ae,o,X),le.target=z,le.relatedTarget=rt,Z=le),rt=Z,re&&ae)t:{for(le=re,F=ae,V=0,z=le;z;z=gs(z))V++;for(z=0,Z=F;Z;Z=gs(Z))z++;for(;0<V-z;)le=gs(le),V--;for(;0<z-V;)F=gs(F),z--;for(;V--;){if(le===F||F!==null&&le===F.alternate)break t;le=gs(le),F=gs(F)}le=null}else le=null;re!==null&&Hf(J,G,re,le,!1),ae!==null&&rt!==null&&Hf(J,rt,ae,le,!0)}}e:{if(G=b?vs(b):window,re=G.nodeName&&G.nodeName.toLowerCase(),re==="select"||re==="input"&&G.type==="file")var ue=by;else if(If(G))if(Af)ue=Hy;else{ue=$y;var pe=jy}else(re=G.nodeName)&&re.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ue=qy);if(ue&&(ue=ue(t,b))){Rf(J,ue,o,X);break e}pe&&pe(t,G,b),t==="focusout"&&(pe=G._wrapperState)&&pe.controlled&&G.type==="number"&&$i(G,"number",G.value)}switch(pe=b?vs(b):window,t){case"focusin":(If(pe)||pe.contentEditable==="true")&&(ps=pe,zu=b,Po=null);break;case"focusout":Po=zu=ps=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,Lf(J,o,X);break;case"selectionchange":if(Ky)break;case"keydown":case"keyup":Lf(J,o,X)}var me;if(st)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ds?Tf(t,o)&&(ye="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(yi&&o.locale!=="ko"&&(ds||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ds&&(me=wo()):(Zt=X,is="value"in Zt?Zt.value:Zt.textContent,ds=!0)),pe=Ka(b,ye),0<pe.length&&(ye=new Io(ye,t,null,o,X),J.push({event:ye,listeners:pe}),me?ye.data=me:(me=Sf(o),me!==null&&(ye.data=me)))),(me=en?Fy(t,o):Uy(t,o))&&(b=Ka(b,"onBeforeInput"),0<b.length&&(X=new Io("onBeforeInput","beforeinput",null,o,X),J.push({event:X,listeners:b}),X.data=me))}$f(J,r)})}function Vo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ka(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=nt(t,o),p!=null&&c.unshift(Vo(t,p,f)),p=nt(t,r),p!=null&&c.push(Vo(t,p,f))),t=t.return}return c}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hf(t,r,o,c,f){for(var p=r._reactName,_=[];o!==null&&o!==c;){var S=o,P=S.alternate,b=S.stateNode;if(P!==null&&P===c)break;S.tag===5&&b!==null&&(S=b,f?(P=nt(o,p),P!=null&&_.unshift(Vo(o,P,S))):f||(P=nt(o,p),P!=null&&_.push(Vo(o,P,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Jy=/\r\n?/g,Zy=/\u0000|\uFFFD/g;function Wf(t){return(typeof t=="string"?t:""+t).replace(Jy,`
`).replace(Zy,"")}function Ga(t,r,o){if(r=Wf(r),Wf(t)!==r&&o)throw Error(n(425))}function Xa(){}var Wu=null,Qu=null;function Ku(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,ev=typeof clearTimeout=="function"?clearTimeout:void 0,Qf=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof Qf<"u"?function(t){return Qf.resolve(null).then(t).catch(nv)}:Gu;function nv(t){setTimeout(function(){throw t})}function Xu(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),In(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);In(r)}function Nr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Kf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ys=Math.random().toString(36).slice(2),bn="__reactFiber$"+ys,Do="__reactProps$"+ys,or="__reactContainer$"+ys,Yu="__reactEvents$"+ys,rv="__reactListeners$"+ys,iv="__reactHandles$"+ys;function vi(t){var r=t[bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[or]||o[bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Kf(t);t!==null;){if(o=t[bn])return o;t=Kf(t)}return r}t=o,o=t.parentNode}return null}function No(t){return t=t[bn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ya(t){return t[Do]||null}var Ju=[],_s=-1;function Lr(t){return{current:t}}function We(t){0>_s||(t.current=Ju[_s],Ju[_s]=null,_s--)}function qe(t,r){_s++,Ju[_s]=t.current,t.current=r}var Or={},Vt=Lr(Or),qt=Lr(!1),_i=Or;function Es(t,r){var o=t.type.contextTypes;if(!o)return Or;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=r[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Ht(t){return t=t.childContextTypes,t!=null}function Ja(){We(qt),We(Vt)}function Gf(t,r,o){if(Vt.current!==Or)throw Error(n(168));qe(Vt,r),qe(qt,o)}function Xf(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Me(t)||"Unknown",f));return ie({},o,c)}function Za(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,_i=Vt.current,qe(Vt,t),qe(qt,qt.current),!0}function Yf(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=Xf(t,r,_i),c.__reactInternalMemoizedMergedChildContext=t,We(qt),We(Vt),qe(Vt,t)):We(qt),qe(qt,o)}var ar=null,el=!1,Zu=!1;function Jf(t){ar===null?ar=[t]:ar.push(t)}function sv(t){el=!0,Jf(t)}function Mr(){if(!Zu&&ar!==null){Zu=!0;var t=0,r=Pe;try{var o=ar;for(Pe=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}ar=null,el=!1}catch(f){throw ar!==null&&(ar=ar.slice(t+1)),Zi(ci,Mr),f}finally{Pe=r,Zu=!1}}return null}var ws=[],Ts=0,tl=null,nl=0,cn=[],hn=0,Ei=null,lr=1,ur="";function wi(t,r){ws[Ts++]=nl,ws[Ts++]=tl,tl=t,nl=r}function Zf(t,r,o){cn[hn++]=lr,cn[hn++]=ur,cn[hn++]=Ei,Ei=t;var c=lr;t=ur;var f=32-Ut(c)-1;c&=~(1<<f),o+=1;var p=32-Ut(r)+f;if(30<p){var _=f-f%5;p=(c&(1<<_)-1).toString(32),c>>=_,f-=_,lr=1<<32-Ut(r)+f|o<<f|c,ur=p+t}else lr=1<<p|o<<f|c,ur=t}function ec(t){t.return!==null&&(wi(t,1),Zf(t,1,0))}function tc(t){for(;t===tl;)tl=ws[--Ts],ws[Ts]=null,nl=ws[--Ts],ws[Ts]=null;for(;t===Ei;)Ei=cn[--hn],cn[hn]=null,ur=cn[--hn],cn[hn]=null,lr=cn[--hn],cn[hn]=null}var tn=null,nn=null,Ke=!1,Cn=null;function ed(t,r){var o=mn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function td(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Nr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ei!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=mn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function nc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rc(t){if(Ke){var r=nn;if(r){var o=r;if(!td(t,r)){if(nc(t))throw Error(n(418));r=Nr(o.nextSibling);var c=tn;r&&td(t,r)?ed(c,o):(t.flags=t.flags&-4097|2,Ke=!1,tn=t)}}else{if(nc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,tn=t}}}function nd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function rl(t){if(t!==tn)return!1;if(!Ke)return nd(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Ku(t.type,t.memoizedProps)),r&&(r=nn)){if(nc(t))throw rd(),Error(n(418));for(;r;)ed(t,r),r=Nr(r.nextSibling)}if(nd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Nr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Nr(t.stateNode.nextSibling):null;return!0}function rd(){for(var t=nn;t;)t=Nr(t.nextSibling)}function Ss(){nn=tn=null,Ke=!1}function ic(t){Cn===null?Cn=[t]:Cn.push(t)}var ov=ce.ReactCurrentBatchConfig;function Lo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var f=c,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var S=f.refs;_===null?delete S[p]:S[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function il(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function id(t){var r=t._init;return r(t._payload)}function sd(t){function r(F,V){if(t){var z=F.deletions;z===null?(F.deletions=[V],F.flags|=16):z.push(V)}}function o(F,V){if(!t)return null;for(;V!==null;)r(F,V),V=V.sibling;return null}function c(F,V){for(F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function f(F,V){return F=qr(F,V),F.index=0,F.sibling=null,F}function p(F,V,z){return F.index=z,t?(z=F.alternate,z!==null?(z=z.index,z<V?(F.flags|=2,V):z):(F.flags|=2,V)):(F.flags|=1048576,V)}function _(F){return t&&F.alternate===null&&(F.flags|=2),F}function S(F,V,z,Z){return V===null||V.tag!==6?(V=Gc(z,F.mode,Z),V.return=F,V):(V=f(V,z),V.return=F,V)}function P(F,V,z,Z){var ue=z.type;return ue===x?X(F,V,z.props.children,Z,z.key):V!==null&&(V.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xt&&id(ue)===V.type)?(Z=f(V,z.props),Z.ref=Lo(F,V,z),Z.return=F,Z):(Z=Pl(z.type,z.key,z.props,null,F.mode,Z),Z.ref=Lo(F,V,z),Z.return=F,Z)}function b(F,V,z,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Xc(z,F.mode,Z),V.return=F,V):(V=f(V,z.children||[]),V.return=F,V)}function X(F,V,z,Z,ue){return V===null||V.tag!==7?(V=ki(z,F.mode,Z,ue),V.return=F,V):(V=f(V,z),V.return=F,V)}function J(F,V,z){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Gc(""+V,F.mode,z),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ae:return z=Pl(V.type,V.key,V.props,null,F.mode,z),z.ref=Lo(F,null,V),z.return=F,z;case Te:return V=Xc(V,F.mode,z),V.return=F,V;case xt:var Z=V._init;return J(F,Z(V._payload),z)}if(Yn(V)||de(V))return V=ki(V,F.mode,z,null),V.return=F,V;il(F,V)}return null}function G(F,V,z,Z){var ue=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ue!==null?null:S(F,V,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Ae:return z.key===ue?P(F,V,z,Z):null;case Te:return z.key===ue?b(F,V,z,Z):null;case xt:return ue=z._init,G(F,V,ue(z._payload),Z)}if(Yn(z)||de(z))return ue!==null?null:X(F,V,z,Z,null);il(F,z)}return null}function re(F,V,z,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(z)||null,S(V,F,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ae:return F=F.get(Z.key===null?z:Z.key)||null,P(V,F,Z,ue);case Te:return F=F.get(Z.key===null?z:Z.key)||null,b(V,F,Z,ue);case xt:var pe=Z._init;return re(F,V,z,pe(Z._payload),ue)}if(Yn(Z)||de(Z))return F=F.get(z)||null,X(V,F,Z,ue,null);il(V,Z)}return null}function ae(F,V,z,Z){for(var ue=null,pe=null,me=V,ye=V=0,Et=null;me!==null&&ye<z.length;ye++){me.index>ye?(Et=me,me=null):Et=me.sibling;var Oe=G(F,me,z[ye],Z);if(Oe===null){me===null&&(me=Et);break}t&&me&&Oe.alternate===null&&r(F,me),V=p(Oe,V,ye),pe===null?ue=Oe:pe.sibling=Oe,pe=Oe,me=Et}if(ye===z.length)return o(F,me),Ke&&wi(F,ye),ue;if(me===null){for(;ye<z.length;ye++)me=J(F,z[ye],Z),me!==null&&(V=p(me,V,ye),pe===null?ue=me:pe.sibling=me,pe=me);return Ke&&wi(F,ye),ue}for(me=c(F,me);ye<z.length;ye++)Et=re(me,F,ye,z[ye],Z),Et!==null&&(t&&Et.alternate!==null&&me.delete(Et.key===null?ye:Et.key),V=p(Et,V,ye),pe===null?ue=Et:pe.sibling=Et,pe=Et);return t&&me.forEach(function(Hr){return r(F,Hr)}),Ke&&wi(F,ye),ue}function le(F,V,z,Z){var ue=de(z);if(typeof ue!="function")throw Error(n(150));if(z=ue.call(z),z==null)throw Error(n(151));for(var pe=ue=null,me=V,ye=V=0,Et=null,Oe=z.next();me!==null&&!Oe.done;ye++,Oe=z.next()){me.index>ye?(Et=me,me=null):Et=me.sibling;var Hr=G(F,me,Oe.value,Z);if(Hr===null){me===null&&(me=Et);break}t&&me&&Hr.alternate===null&&r(F,me),V=p(Hr,V,ye),pe===null?ue=Hr:pe.sibling=Hr,pe=Hr,me=Et}if(Oe.done)return o(F,me),Ke&&wi(F,ye),ue;if(me===null){for(;!Oe.done;ye++,Oe=z.next())Oe=J(F,Oe.value,Z),Oe!==null&&(V=p(Oe,V,ye),pe===null?ue=Oe:pe.sibling=Oe,pe=Oe);return Ke&&wi(F,ye),ue}for(me=c(F,me);!Oe.done;ye++,Oe=z.next())Oe=re(me,F,ye,Oe.value,Z),Oe!==null&&(t&&Oe.alternate!==null&&me.delete(Oe.key===null?ye:Oe.key),V=p(Oe,V,ye),pe===null?ue=Oe:pe.sibling=Oe,pe=Oe);return t&&me.forEach(function(zv){return r(F,zv)}),Ke&&wi(F,ye),ue}function rt(F,V,z,Z){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Ae:e:{for(var ue=z.key,pe=V;pe!==null;){if(pe.key===ue){if(ue=z.type,ue===x){if(pe.tag===7){o(F,pe.sibling),V=f(pe,z.props.children),V.return=F,F=V;break e}}else if(pe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xt&&id(ue)===pe.type){o(F,pe.sibling),V=f(pe,z.props),V.ref=Lo(F,pe,z),V.return=F,F=V;break e}o(F,pe);break}else r(F,pe);pe=pe.sibling}z.type===x?(V=ki(z.props.children,F.mode,Z,z.key),V.return=F,F=V):(Z=Pl(z.type,z.key,z.props,null,F.mode,Z),Z.ref=Lo(F,V,z),Z.return=F,F=Z)}return _(F);case Te:e:{for(pe=z.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){o(F,V.sibling),V=f(V,z.children||[]),V.return=F,F=V;break e}else{o(F,V);break}else r(F,V);V=V.sibling}V=Xc(z,F.mode,Z),V.return=F,F=V}return _(F);case xt:return pe=z._init,rt(F,V,pe(z._payload),Z)}if(Yn(z))return ae(F,V,z,Z);if(de(z))return le(F,V,z,Z);il(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,V!==null&&V.tag===6?(o(F,V.sibling),V=f(V,z),V.return=F,F=V):(o(F,V),V=Gc(z,F.mode,Z),V.return=F,F=V),_(F)):o(F,V)}return rt}var Is=sd(!0),od=sd(!1),sl=Lr(null),ol=null,Rs=null,sc=null;function oc(){sc=Rs=ol=null}function ac(t){var r=sl.current;We(sl),t._currentValue=r}function lc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function As(t,r){ol=t,sc=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Wt=!0),t.firstContext=null)}function fn(t){var r=t._currentValue;if(sc!==t)if(t={context:t,memoizedValue:r,next:null},Rs===null){if(ol===null)throw Error(n(308));Rs=t,ol.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return r}var Ti=null;function uc(t){Ti===null?Ti=[t]:Ti.push(t)}function ad(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,uc(r)):(o.next=f.next,f.next=o),r.interleaved=o,cr(t,c)}function cr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Fr=!1;function cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ld(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,cr(t,o)}return f=c.interleaved,f===null?(r.next=r,uc(c)):(r.next=f.next,f.next=r),c.interleaved=r,cr(t,o)}function al(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Cr(t,o)}}function ud(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function ll(t,r,o,c){var f=t.updateQueue;Fr=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var P=S,b=P.next;P.next=null,_===null?p=b:_.next=b,_=P;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=b:S.next=b,X.lastBaseUpdate=P))}if(p!==null){var J=f.baseState;_=0,X=b=P=null,S=p;do{var G=S.lane,re=S.eventTime;if((c&G)===G){X!==null&&(X=X.next={eventTime:re,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=t,le=S;switch(G=r,re=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){J=ae.call(re,J,G);break e}J=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,G=typeof ae=="function"?ae.call(re,J,G):ae,G==null)break e;J=ie({},J,G);break e;case 2:Fr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,G=f.effects,G===null?f.effects=[S]:G.push(S))}else re={eventTime:re,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(b=X=re,P=J):X=X.next=re,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);if(X===null&&(P=J),f.baseState=P,f.firstBaseUpdate=b,f.lastBaseUpdate=X,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);Ri|=_,t.lanes=_,t.memoizedState=J}}function cd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Oo={},jn=Lr(Oo),Mo=Lr(Oo),Fo=Lr(Oo);function Si(t){if(t===Oo)throw Error(n(174));return t}function hc(t,r){switch(qe(Fo,r),qe(Mo,t),qe(jn,Oo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}We(jn),qe(jn,r)}function Cs(){We(jn),We(Mo),We(Fo)}function hd(t){Si(Fo.current);var r=Si(jn.current),o=ut(r,t.type);r!==o&&(qe(Mo,t),qe(jn,o))}function fc(t){Mo.current===t&&(We(jn),We(Mo))}var Xe=Lr(0);function ul(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var dc=[];function pc(){for(var t=0;t<dc.length;t++)dc[t]._workInProgressVersionPrimary=null;dc.length=0}var cl=ce.ReactCurrentDispatcher,mc=ce.ReactCurrentBatchConfig,Ii=0,Ye=null,ht=null,vt=null,hl=!1,Uo=!1,zo=0,av=0;function Dt(){throw Error(n(321))}function gc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function yc(t,r,o,c,f,p){if(Ii=p,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,cl.current=t===null||t.memoizedState===null?hv:fv,t=o(c,f),Uo){p=0;do{if(Uo=!1,zo=0,25<=p)throw Error(n(301));p+=1,vt=ht=null,r.updateQueue=null,cl.current=dv,t=o(c,f)}while(Uo)}if(cl.current=pl,r=ht!==null&&ht.next!==null,Ii=0,vt=ht=Ye=null,hl=!1,r)throw Error(n(300));return t}function vc(){var t=zo!==0;return zo=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ye.memoizedState=vt=t:vt=vt.next=t,vt}function dn(){if(ht===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=vt===null?Ye.memoizedState:vt.next;if(r!==null)vt=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},vt===null?Ye.memoizedState=vt=t:vt=vt.next=t}return vt}function Bo(t,r){return typeof r=="function"?r(t):r}function _c(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=ht,f=c.baseQueue,p=o.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}c.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,c=c.baseState;var S=_=null,P=null,b=p;do{var X=b.lane;if((Ii&X)===X)P!==null&&(P=P.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),c=b.hasEagerState?b.eagerState:t(c,b.action);else{var J={lane:X,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};P===null?(S=P=J,_=c):P=P.next=J,Ye.lanes|=X,Ri|=X}b=b.next}while(b!==null&&b!==p);P===null?_=c:P.next=S,An(c,r.memoizedState)||(Wt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=P,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do p=f.lane,Ye.lanes|=p,Ri|=p,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ec(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do p=t(p,_.action),_=_.next;while(_!==f);An(p,r.memoizedState)||(Wt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function fd(){}function dd(t,r){var o=Ye,c=dn(),f=r(),p=!An(c.memoizedState,f);if(p&&(c.memoizedState=f,Wt=!0),c=c.queue,wc(gd.bind(null,o,c,t),[t]),c.getSnapshot!==r||p||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,bo(9,md.bind(null,o,c,f,r),void 0,null),_t===null)throw Error(n(349));Ii&30||pd(o,r,f)}return f}function pd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function md(t,r,o,c){r.value=o,r.getSnapshot=c,yd(r)&&vd(t)}function gd(t,r,o){return o(function(){yd(r)&&vd(t)})}function yd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function vd(t){var r=cr(t,1);r!==null&&Vn(r,t,1,-1)}function _d(t){var r=$n();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:t},r.queue=t,t=t.dispatch=cv.bind(null,Ye,t),[r.memoizedState,t]}function bo(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Ed(){return dn().memoizedState}function fl(t,r,o,c){var f=$n();Ye.flags|=t,f.memoizedState=bo(1|r,o,void 0,c===void 0?null:c)}function dl(t,r,o,c){var f=dn();c=c===void 0?null:c;var p=void 0;if(ht!==null){var _=ht.memoizedState;if(p=_.destroy,c!==null&&gc(c,_.deps)){f.memoizedState=bo(r,o,p,c);return}}Ye.flags|=t,f.memoizedState=bo(1|r,o,p,c)}function wd(t,r){return fl(8390656,8,t,r)}function wc(t,r){return dl(2048,8,t,r)}function Td(t,r){return dl(4,2,t,r)}function Sd(t,r){return dl(4,4,t,r)}function Id(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Rd(t,r,o){return o=o!=null?o.concat([t]):null,dl(4,4,Id.bind(null,r,t),o)}function Tc(){}function Ad(t,r){var o=dn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&gc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function Cd(t,r){var o=dn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&gc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function Pd(t,r,o){return Ii&21?(An(o,r)||(o=di(),Ye.lanes|=o,Ri|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=o)}function lv(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var c=mc.transition;mc.transition={};try{t(!1),r()}finally{Pe=o,mc.transition=c}}function kd(){return dn().memoizedState}function uv(t,r,o){var c=jr(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},xd(t))Vd(r,o);else if(o=ad(t,r,o,c),o!==null){var f=bt();Vn(o,t,c,f),Dd(o,r,c)}}function cv(t,r,o){var c=jr(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(xd(t))Vd(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,S=p(_,o);if(f.hasEagerState=!0,f.eagerState=S,An(S,_)){var P=r.interleaved;P===null?(f.next=f,uc(r)):(f.next=P.next,P.next=f),r.interleaved=f;return}}catch{}finally{}o=ad(t,r,f,c),o!==null&&(f=bt(),Vn(o,t,c,f),Dd(o,r,c))}}function xd(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function Vd(t,r){Uo=hl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Dd(t,r,o){if(o&4194240){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Cr(t,o)}}var pl={readContext:fn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},hv={readContext:fn,useCallback:function(t,r){return $n().memoizedState=[t,r===void 0?null:r],t},useContext:fn,useEffect:wd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,fl(4194308,4,Id.bind(null,r,t),o)},useLayoutEffect:function(t,r){return fl(4194308,4,t,r)},useInsertionEffect:function(t,r){return fl(4,2,t,r)},useMemo:function(t,r){var o=$n();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=$n();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=uv.bind(null,Ye,t),[c.memoizedState,t]},useRef:function(t){var r=$n();return t={current:t},r.memoizedState=t},useState:_d,useDebugValue:Tc,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=_d(!1),r=t[0];return t=lv.bind(null,t[1]),$n().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=Ye,f=$n();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),_t===null)throw Error(n(349));Ii&30||pd(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,wd(gd.bind(null,c,p,t),[t]),c.flags|=2048,bo(9,md.bind(null,c,p,o,r),void 0,null),o},useId:function(){var t=$n(),r=_t.identifierPrefix;if(Ke){var o=ur,c=lr;o=(c&~(1<<32-Ut(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=zo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=av++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},fv={readContext:fn,useCallback:Ad,useContext:fn,useEffect:wc,useImperativeHandle:Rd,useInsertionEffect:Td,useLayoutEffect:Sd,useMemo:Cd,useReducer:_c,useRef:Ed,useState:function(){return _c(Bo)},useDebugValue:Tc,useDeferredValue:function(t){var r=dn();return Pd(r,ht.memoizedState,t)},useTransition:function(){var t=_c(Bo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:fd,useSyncExternalStore:dd,useId:kd,unstable_isNewReconciler:!1},dv={readContext:fn,useCallback:Ad,useContext:fn,useEffect:wc,useImperativeHandle:Rd,useInsertionEffect:Td,useLayoutEffect:Sd,useMemo:Cd,useReducer:Ec,useRef:Ed,useState:function(){return Ec(Bo)},useDebugValue:Tc,useDeferredValue:function(t){var r=dn();return ht===null?r.memoizedState=t:Pd(r,ht.memoizedState,t)},useTransition:function(){var t=Ec(Bo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:fd,useSyncExternalStore:dd,useId:kd,unstable_isNewReconciler:!1};function Pn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Sc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:ie({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ml={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=bt(),f=jr(t),p=hr(c,f);p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,f),r!==null&&(Vn(r,t,f,c),al(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=bt(),f=jr(t),p=hr(c,f);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,f),r!==null&&(Vn(r,t,f,c),al(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=bt(),c=jr(t),f=hr(o,c);f.tag=2,r!=null&&(f.callback=r),r=Ur(t,f,c),r!==null&&(Vn(r,t,c,o),al(r,t,c))}};function Nd(t,r,o,c,f,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!Co(o,c)||!Co(f,p):!0}function Ld(t,r,o){var c=!1,f=Or,p=r.contextType;return typeof p=="object"&&p!==null?p=fn(p):(f=Ht(r)?_i:Vt.current,c=r.contextTypes,p=(c=c!=null)?Es(t,f):Or),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ml,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=p),r}function Od(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&ml.enqueueReplaceState(r,r.state,null)}function Ic(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},cc(t);var p=r.contextType;typeof p=="object"&&p!==null?f.context=fn(p):(p=Ht(r)?_i:Vt.current,f.context=Es(t,p)),f.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Sc(t,r,p,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&ml.enqueueReplaceState(f,f.state,null),ll(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Ps(t,r){try{var o="",c=r;do o+=Ie(c),c=c.return;while(c);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:f,digest:null}}function Rc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Ac(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var pv=typeof WeakMap=="function"?WeakMap:Map;function Md(t,r,o){o=hr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Tl||(Tl=!0,bc=c),Ac(t,r)},o}function Fd(t,r,o){o=hr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){Ac(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Ac(t,r),typeof c!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Ud(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new pv;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=Pv.bind(null,t,r,o),r.then(t,t))}function zd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Bd(t,r,o,c,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=hr(-1,1),r.tag=2,Ur(o,r,1))),o.lanes|=1),t)}var mv=ce.ReactCurrentOwner,Wt=!1;function Bt(t,r,o,c){r.child=t===null?od(r,null,o,c):Is(r,t.child,o,c)}function bd(t,r,o,c,f){o=o.render;var p=r.ref;return As(r,f),c=yc(t,r,o,c,p,f),o=vc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,fr(t,r,f)):(Ke&&o&&ec(r),r.flags|=1,Bt(t,r,c,f),r.child)}function jd(t,r,o,c,f){if(t===null){var p=o.type;return typeof p=="function"&&!Kc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,$d(t,r,p,c,f)):(t=Pl(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&f)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Co,o(_,c)&&t.ref===r.ref)return fr(t,r,f)}return r.flags|=1,t=qr(p,c),t.ref=r.ref,t.return=r,r.child=t}function $d(t,r,o,c,f){if(t!==null){var p=t.memoizedProps;if(Co(p,c)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=c=p,(t.lanes&f)!==0)t.flags&131072&&(Wt=!0);else return r.lanes=t.lanes,fr(t,r,f)}return Cc(t,r,o,c,f)}function qd(t,r,o){var c=r.pendingProps,f=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(xs,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(xs,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,qe(xs,rn),rn|=c}else p!==null?(c=p.baseLanes|o,r.memoizedState=null):c=o,qe(xs,rn),rn|=c;return Bt(t,r,f,o),r.child}function Hd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Cc(t,r,o,c,f){var p=Ht(o)?_i:Vt.current;return p=Es(r,p),As(r,f),o=yc(t,r,o,c,p,f),c=vc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,fr(t,r,f)):(Ke&&c&&ec(r),r.flags|=1,Bt(t,r,o,f),r.child)}function Wd(t,r,o,c,f){if(Ht(o)){var p=!0;Za(r)}else p=!1;if(As(r,f),r.stateNode===null)yl(t,r),Ld(r,o,c),Ic(r,o,c,f),c=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var P=_.context,b=o.contextType;typeof b=="object"&&b!==null?b=fn(b):(b=Ht(o)?_i:Vt.current,b=Es(r,b));var X=o.getDerivedStateFromProps,J=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==c||P!==b)&&Od(r,_,c,b),Fr=!1;var G=r.memoizedState;_.state=G,ll(r,c,_,f),P=r.memoizedState,S!==c||G!==P||qt.current||Fr?(typeof X=="function"&&(Sc(r,o,X,c),P=r.memoizedState),(S=Fr||Nd(r,o,S,c,G,P,b))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=P),_.props=c,_.state=P,_.context=b,c=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,ld(t,r),S=r.memoizedProps,b=r.type===r.elementType?S:Pn(r.type,S),_.props=b,J=r.pendingProps,G=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=fn(P):(P=Ht(o)?_i:Vt.current,P=Es(r,P));var re=o.getDerivedStateFromProps;(X=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==J||G!==P)&&Od(r,_,c,P),Fr=!1,G=r.memoizedState,_.state=G,ll(r,c,_,f);var ae=r.memoizedState;S!==J||G!==ae||qt.current||Fr?(typeof re=="function"&&(Sc(r,o,re,c),ae=r.memoizedState),(b=Fr||Nd(r,o,b,c,G,ae,P)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ae,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ae,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ae),_.props=c,_.state=ae,_.context=P,c=b):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),c=!1)}return Pc(t,r,o,c,p,f)}function Pc(t,r,o,c,f,p){Hd(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return f&&Yf(r,o,!1),fr(t,r,p);c=r.stateNode,mv.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=Is(r,t.child,null,p),r.child=Is(r,null,S,p)):Bt(t,r,S,p),r.memoizedState=c.state,f&&Yf(r,o,!0),r.child}function Qd(t){var r=t.stateNode;r.pendingContext?Gf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Gf(t,r.context,!1),hc(t,r.containerInfo)}function Kd(t,r,o,c,f){return Ss(),ic(f),r.flags|=256,Bt(t,r,o,c),r.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function xc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gd(t,r,o){var c=r.pendingProps,f=Xe.current,p=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(f&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),qe(Xe,f&1),t===null)return rc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,t=c.fallback,p?(c=r.mode,p=r.child,_={mode:"hidden",children:_},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=kl(_,c,0,null),t=ki(t,c,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=xc(o),r.memoizedState=kc,t):Vc(r,_));if(f=t.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return gv(t,r,_,c,S,f,o);if(p){p=c.fallback,_=r.mode,f=t.child,S=f.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=P,r.deletions=null):(c=qr(f,P),c.subtreeFlags=f.subtreeFlags&14680064),S!==null?p=qr(S,p):(p=ki(p,_,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,_=t.child.memoizedState,_=_===null?xc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=kc,c}return p=t.child,t=p.sibling,c=qr(p,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function Vc(t,r){return r=kl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function gl(t,r,o,c){return c!==null&&ic(c),Is(r,t.child,null,o),t=Vc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function gv(t,r,o,c,f,p,_){if(o)return r.flags&256?(r.flags&=-257,c=Rc(Error(n(422))),gl(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=c.fallback,f=r.mode,c=kl({mode:"visible",children:c.children},f,0,null),p=ki(p,f,_,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,r.mode&1&&Is(r,t.child,null,_),r.child.memoizedState=xc(_),r.memoizedState=kc,p);if(!(r.mode&1))return gl(t,r,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var S=c.dgst;return c=S,p=Error(n(419)),c=Rc(p,c,void 0),gl(t,r,_,c)}if(S=(_&t.childLanes)!==0,Wt||S){if(c=_t,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|_)?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,cr(t,f),Vn(c,t,f,-1))}return Qc(),c=Rc(Error(n(421))),gl(t,r,_,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=kv.bind(null,t),f._reactRetry=r,null):(t=p.treeContext,nn=Nr(f.nextSibling),tn=r,Ke=!0,Cn=null,t!==null&&(cn[hn++]=lr,cn[hn++]=ur,cn[hn++]=Ei,lr=t.id,ur=t.overflow,Ei=r),r=Vc(r,c.children),r.flags|=4096,r)}function Xd(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),lc(t.return,r,o)}function Dc(t,r,o,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function Yd(t,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;if(Bt(t,r,c.children,o),c=Xe.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xd(t,o,r);else if(t.tag===19)Xd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(qe(Xe,c),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&ul(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Dc(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&ul(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Dc(r,!0,o,null,p);break;case"together":Dc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function yl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=qr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=qr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function yv(t,r,o){switch(r.tag){case 3:Qd(r),Ss();break;case 5:hd(r);break;case 1:Ht(r.type)&&Za(r);break;case 4:hc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;qe(sl,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(qe(Xe,Xe.current&1),r.flags|=128,null):o&r.child.childLanes?Gd(t,r,o):(qe(Xe,Xe.current&1),t=fr(t,r,o),t!==null?t.sibling:null);qe(Xe,Xe.current&1);break;case 19:if(c=(o&r.childLanes)!==0,t.flags&128){if(c)return Yd(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),qe(Xe,Xe.current),c)break;return null;case 22:case 23:return r.lanes=0,qd(t,r,o)}return fr(t,r,o)}var Jd,Nc,Zd,ep;Jd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Nc=function(){},Zd=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,Si(jn.current);var p=null;switch(o){case"input":f=ni(t,f),c=ni(t,c),p=[];break;case"select":f=ie({},f,{value:void 0}),c=ie({},c,{value:void 0}),p=[];break;case"textarea":f=to(t,f),c=to(t,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Xa)}ao(o,c);var _;o=null;for(b in f)if(!c.hasOwnProperty(b)&&f.hasOwnProperty(b)&&f[b]!=null)if(b==="style"){var S=f[b];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in c){var P=c[b];if(S=f!=null?f[b]:void 0,c.hasOwnProperty(b)&&P!==S&&(P!=null||S!=null))if(b==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&S[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(p||(p=[]),p.push(b,o)),o=P;else b==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(b,P)):b==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(b,""+P):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(P!=null&&b==="onScroll"&&He("scroll",t),p||S===P||(p=[])):(p=p||[]).push(b,P))}o&&(p=p||[]).push("style",o);var b=p;(r.updateQueue=b)&&(r.flags|=4)}},ep=function(t,r,o,c){o!==c&&(r.flags|=4)};function jo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function vv(t,r,o){var c=r.pendingProps;switch(tc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return Ht(r.type)&&Ja(),Nt(r),null;case 3:return c=r.stateNode,Cs(),We(qt),We(Vt),pc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(rl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Cn!==null&&(qc(Cn),Cn=null))),Nc(t,r),Nt(r),null;case 5:fc(r);var f=Si(Fo.current);if(o=r.type,t!==null&&r.stateNode!=null)Zd(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Nt(r),null}if(t=Si(jn.current),rl(r)){c=r.stateNode,o=r.type;var p=r.memoizedProps;switch(c[bn]=r,c[Do]=p,t=(r.mode&1)!==0,o){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(f=0;f<ko.length;f++)He(ko[f],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":ji(c,p),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},He("invalid",c);break;case"textarea":qi(c,p),He("invalid",c)}ao(o,p),f=null;for(var _ in p)if(p.hasOwnProperty(_)){var S=p[_];_==="children"?typeof S=="string"?c.textContent!==S&&(p.suppressHydrationWarning!==!0&&Ga(c.textContent,S,t),f=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&Ga(c.textContent,S,t),f=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&He("scroll",c)}switch(o){case"input":Xn(c),wa(c,p,!0);break;case"textarea":Xn(c),no(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Xa)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[bn]=r,t[Do]=c,Jd(t,r,!1,!1),r.stateNode=t;e:{switch(_=lo(o,c),o){case"dialog":He("cancel",t),He("close",t),f=c;break;case"iframe":case"object":case"embed":He("load",t),f=c;break;case"video":case"audio":for(f=0;f<ko.length;f++)He(ko[f],t);f=c;break;case"source":He("error",t),f=c;break;case"img":case"image":case"link":He("error",t),He("load",t),f=c;break;case"details":He("toggle",t),f=c;break;case"input":ji(t,c),f=ni(t,c),He("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=ie({},c,{value:void 0}),He("invalid",t);break;case"textarea":qi(t,c),f=to(t,c),He("invalid",t);break;default:f=c}ao(o,f),S=f;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?so(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&ro(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Tr(t,P):typeof P=="number"&&Tr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&He("scroll",t):P!=null&&ne(t,p,P,_))}switch(o){case"input":Xn(t),wa(t,c,!1);break;case"textarea":Xn(t),no(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Fe(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?Jn(t,!!c.multiple,p,!1):c.defaultValue!=null&&Jn(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=Xa)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(t&&r.stateNode!=null)ep(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=Si(Fo.current),Si(jn.current),rl(r)){if(c=r.stateNode,o=r.memoizedProps,c[bn]=r,(p=c.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:Ga(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ga(c.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[bn]=r,r.stateNode=c}return Nt(r),null;case 13:if(We(Xe),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&r.mode&1&&!(r.flags&128))rd(),Ss(),r.flags|=98560,p=!1;else if(p=rl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[bn]=r}else Ss(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Nt(r),p=!1}else Cn!==null&&(qc(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||Xe.current&1?ft===0&&(ft=3):Qc())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return Cs(),Nc(t,r),t===null&&xo(r.stateNode.containerInfo),Nt(r),null;case 10:return ac(r.type._context),Nt(r),null;case 17:return Ht(r.type)&&Ja(),Nt(r),null;case 19:if(We(Xe),p=r.memoizedState,p===null)return Nt(r),null;if(c=(r.flags&128)!==0,_=p.rendering,_===null)if(c)jo(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=ul(t),_!==null){for(r.flags|=128,jo(p,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)p=o,t=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Xe,Xe.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>Vs&&(r.flags|=128,c=!0,jo(p,!1),r.lanes=4194304)}else{if(!c)if(t=ul(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),jo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ke)return Nt(r),null}else 2*$e()-p.renderingStartTime>Vs&&o!==1073741824&&(r.flags|=128,c=!0,jo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Xe.current,qe(Xe,c?o&1|2:o&1),r):(Nt(r),null);case 22:case 23:return Wc(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?rn&1073741824&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function _v(t,r){switch(tc(r),r.tag){case 1:return Ht(r.type)&&Ja(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Cs(),We(qt),We(Vt),pc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return fc(r),null;case 13:if(We(Xe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ss()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Xe),null;case 4:return Cs(),null;case 10:return ac(r.type._context),null;case 22:case 23:return Wc(),null;case 24:return null;default:return null}}var vl=!1,Lt=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ks(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){et(t,r,c)}else o.current=null}function Lc(t,r,o){try{o()}catch(c){et(t,r,c)}}var tp=!1;function wv(t,r){if(Wu=xr,t=Nf(),Uu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,P=-1,b=0,X=0,J=t,G=null;t:for(;;){for(var re;J!==o||f!==0&&J.nodeType!==3||(S=_+f),J!==p||c!==0&&J.nodeType!==3||(P=_+c),J.nodeType===3&&(_+=J.nodeValue.length),(re=J.firstChild)!==null;)G=J,J=re;for(;;){if(J===t)break t;if(G===o&&++b===f&&(S=_),G===p&&++X===c&&(P=_),(re=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=re}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qu={focusedElem:t,selectionRange:o},xr=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,rt=ae.memoizedState,F=r.stateNode,V=F.getSnapshotBeforeUpdate(r.elementType===r.type?le:Pn(r.type,le),rt);F.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){et(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return ae=tp,tp=!1,ae}function $o(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var p=f.destroy;f.destroy=void 0,p!==void 0&&Lc(r,o,p)}f=f.next}while(f!==c)}}function _l(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Oc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function np(t){var r=t.alternate;r!==null&&(t.alternate=null,np(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[bn],delete r[Do],delete r[Yu],delete r[rv],delete r[iv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rp(t){return t.tag===5||t.tag===3||t.tag===4}function ip(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Xa));else if(c!==4&&(t=t.child,t!==null))for(Mc(t,r,o),t=t.sibling;t!==null;)Mc(t,r,o),t=t.sibling}function Fc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Fc(t,r,o),t=t.sibling;t!==null;)Fc(t,r,o),t=t.sibling}var It=null,kn=!1;function zr(t,r,o){for(o=o.child;o!==null;)sp(t,r,o),o=o.sibling}function sp(t,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(hi,o)}catch{}switch(o.tag){case 5:Lt||ks(o,r);case 6:var c=It,f=kn;It=null,zr(t,r,o),It=c,kn=f,It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?Xu(t.parentNode,o):t.nodeType===1&&Xu(t,o),In(t)):Xu(It,o.stateNode));break;case 4:c=It,f=kn,It=o.stateNode.containerInfo,kn=!0,zr(t,r,o),It=c,kn=f;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&Lc(o,r,_),f=f.next}while(f!==c)}zr(t,r,o);break;case 1:if(!Lt&&(ks(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(S){et(o,r,S)}zr(t,r,o);break;case 21:zr(t,r,o);break;case 22:o.mode&1?(Lt=(c=Lt)||o.memoizedState!==null,zr(t,r,o),Lt=c):zr(t,r,o);break;default:zr(t,r,o)}}function op(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Ev),r.forEach(function(c){var f=xv.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var p=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:It=S.stateNode,kn=!1;break e;case 3:It=S.stateNode.containerInfo,kn=!0;break e;case 4:It=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(It===null)throw Error(n(160));sp(p,_,f),It=null,kn=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(b){et(f,r,b)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ap(r,t),r=r.sibling}function ap(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),qn(t),c&4){try{$o(3,t,t.return),_l(3,t)}catch(le){et(t,t.return,le)}try{$o(5,t,t.return)}catch(le){et(t,t.return,le)}}break;case 1:xn(r,t),qn(t),c&512&&o!==null&&ks(o,o.return);break;case 5:if(xn(r,t),qn(t),c&512&&o!==null&&ks(o,o.return),t.flags&32){var f=t.stateNode;try{Tr(f,"")}catch(le){et(t,t.return,le)}}if(c&4&&(f=t.stateNode,f!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Zs(f,p),lo(S,_);var b=lo(S,p);for(_=0;_<P.length;_+=2){var X=P[_],J=P[_+1];X==="style"?so(f,J):X==="dangerouslySetInnerHTML"?ro(f,J):X==="children"?Tr(f,J):ne(f,X,J,b)}switch(S){case"input":eo(f,p);break;case"textarea":Hi(f,p);break;case"select":var G=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?Jn(f,!!p.multiple,re,!1):G!==!!p.multiple&&(p.defaultValue!=null?Jn(f,!!p.multiple,p.defaultValue,!0):Jn(f,!!p.multiple,p.multiple?[]:"",!1))}f[Do]=p}catch(le){et(t,t.return,le)}}break;case 6:if(xn(r,t),qn(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,p=t.memoizedProps;try{f.nodeValue=p}catch(le){et(t,t.return,le)}}break;case 3:if(xn(r,t),qn(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(le){et(t,t.return,le)}break;case 4:xn(r,t),qn(t);break;case 13:xn(r,t),qn(t),f=t.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(Bc=$e())),c&4&&op(t);break;case 22:if(X=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(b=Lt)||X,xn(r,t),Lt=b):xn(r,t),qn(t),c&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!X&&t.mode&1)for(oe=t,X=t.child;X!==null;){for(J=oe=X;oe!==null;){switch(G=oe,re=G.child,G.tag){case 0:case 11:case 14:case 15:$o(4,G,G.return);break;case 1:ks(G,G.return);var ae=G.stateNode;if(typeof ae.componentWillUnmount=="function"){c=G,o=G.return;try{r=c,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){et(c,o,le)}}break;case 5:ks(G,G.return);break;case 22:if(G.memoizedState!==null){cp(J);continue}}re!==null?(re.return=G,oe=re):cp(J)}X=X.sibling}e:for(X=null,J=t;;){if(J.tag===5){if(X===null){X=J;try{f=J.stateNode,b?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=J.stateNode,P=J.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=io("display",_))}catch(le){et(t,t.return,le)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=b?"":J.memoizedProps}catch(le){et(t,t.return,le)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:xn(r,t),qn(t),c&4&&op(t);break;case 21:break;default:xn(r,t),qn(t)}}function qn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(rp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Tr(f,""),c.flags&=-33);var p=ip(t);Fc(t,p,f);break;case 3:case 4:var _=c.stateNode.containerInfo,S=ip(t);Mc(t,S,_);break;default:throw Error(n(161))}}catch(P){et(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Tv(t,r,o){oe=t,lp(t)}function lp(t,r,o){for(var c=(t.mode&1)!==0;oe!==null;){var f=oe,p=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||vl;if(!_){var S=f.alternate,P=S!==null&&S.memoizedState!==null||Lt;S=vl;var b=Lt;if(vl=_,(Lt=P)&&!b)for(oe=f;oe!==null;)_=oe,P=_.child,_.tag===22&&_.memoizedState!==null?hp(f):P!==null?(P.return=_,oe=P):hp(f);for(;p!==null;)oe=p,lp(p),p=p.sibling;oe=f,vl=S,Lt=b}up(t)}else f.subtreeFlags&8772&&p!==null?(p.return=f,oe=p):up(t)}}function up(t){for(;oe!==null;){var r=oe;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Lt||_l(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Lt)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:Pn(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&cd(r,p,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}cd(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var b=r.alternate;if(b!==null){var X=b.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&In(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&Oc(r)}catch(G){et(r,r.return,G)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function cp(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function hp(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{_l(4,r)}catch(P){et(r,o,P)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(P){et(r,f,P)}}var p=r.return;try{Oc(r)}catch(P){et(r,p,P)}break;case 5:var _=r.return;try{Oc(r)}catch(P){et(r,_,P)}}}catch(P){et(r,r.return,P)}if(r===t){oe=null;break}var S=r.sibling;if(S!==null){S.return=r.return,oe=S;break}oe=r.return}}var Sv=Math.ceil,El=ce.ReactCurrentDispatcher,Uc=ce.ReactCurrentOwner,pn=ce.ReactCurrentBatchConfig,Le=0,_t=null,ot=null,Rt=0,rn=0,xs=Lr(0),ft=0,qo=null,Ri=0,wl=0,zc=0,Ho=null,Qt=null,Bc=0,Vs=1/0,dr=null,Tl=!1,bc=null,Br=null,Sl=!1,br=null,Il=0,Wo=0,jc=null,Rl=-1,Al=0;function bt(){return Le&6?$e():Rl!==-1?Rl:Rl=$e()}function jr(t){return t.mode&1?Le&2&&Rt!==0?Rt&-Rt:ov.transition!==null?(Al===0&&(Al=di()),Al):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:Eo(t.type)),t):1}function Vn(t,r,o,c){if(50<Wo)throw Wo=0,jc=null,Error(n(185));Ar(t,o,c),(!(Le&2)||t!==_t)&&(t===_t&&(!(Le&2)&&(wl|=o),ft===4&&$r(t,Rt)),Kt(t,c),o===1&&Le===0&&!(r.mode&1)&&(Vs=$e()+500,el&&Mr()))}function Kt(t,r){var o=t.callbackNode;tr(t,r);var c=fi(t,t===_t?Rt:0);if(c===0)o!==null&&mo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&mo(o),r===1)t.tag===0?sv(dp.bind(null,t)):Jf(dp.bind(null,t)),tv(function(){!(Le&6)&&Mr()}),o=null;else{switch(Pr(c)){case 1:o=ci;break;case 4:o=Sr;break;case 16:o=an;break;case 536870912:o=Aa;break;default:o=an}o=wp(o,fp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function fp(t,r){if(Rl=-1,Al=0,Le&6)throw Error(n(327));var o=t.callbackNode;if(Ds()&&t.callbackNode!==o)return null;var c=fi(t,t===_t?Rt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Cl(t,c);else{r=c;var f=Le;Le|=2;var p=mp();(_t!==t||Rt!==r)&&(dr=null,Vs=$e()+500,Ci(t,r));do try{Av();break}catch(S){pp(t,S)}while(!0);oc(),El.current=p,Le=f,ot!==null?r=0:(_t=null,Rt=0,r=ft)}if(r!==0){if(r===2&&(f=Jt(t),f!==0&&(c=f,r=$c(t,f))),r===1)throw o=qo,Ci(t,0),$r(t,c),Kt(t,$e()),o;if(r===6)$r(t,c);else{if(f=t.current.alternate,!(c&30)&&!Iv(f)&&(r=Cl(t,c),r===2&&(p=Jt(t),p!==0&&(c=p,r=$c(t,p))),r===1))throw o=qo,Ci(t,0),$r(t,c),Kt(t,$e()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Pi(t,Qt,dr);break;case 3:if($r(t,c),(c&130023424)===c&&(r=Bc+500-$e(),10<r)){if(fi(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){bt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Gu(Pi.bind(null,t,Qt,dr),r);break}Pi(t,Qt,dr);break;case 4:if($r(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var _=31-Ut(c);p=1<<_,_=r[_],_>f&&(f=_),c&=~p}if(c=f,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Sv(c/1960))-c,10<c){t.timeoutHandle=Gu(Pi.bind(null,t,Qt,dr),c);break}Pi(t,Qt,dr);break;case 5:Pi(t,Qt,dr);break;default:throw Error(n(329))}}}return Kt(t,$e()),t.callbackNode===o?fp.bind(null,t):null}function $c(t,r){var o=Ho;return t.current.memoizedState.isDehydrated&&(Ci(t,r).flags|=256),t=Cl(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&qc(r)),t}function qc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function Iv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!An(p(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(t,r){for(r&=~zc,r&=~wl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),c=1<<o;t[o]=-1,r&=~c}}function dp(t){if(Le&6)throw Error(n(327));Ds();var r=fi(t,0);if(!(r&1))return Kt(t,$e()),null;var o=Cl(t,r);if(t.tag!==0&&o===2){var c=Jt(t);c!==0&&(r=c,o=$c(t,c))}if(o===1)throw o=qo,Ci(t,0),$r(t,r),Kt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Pi(t,Qt,dr),Kt(t,$e()),null}function Hc(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Vs=$e()+500,el&&Mr())}}function Ai(t){br!==null&&br.tag===0&&!(Le&6)&&Ds();var r=Le;Le|=1;var o=pn.transition,c=Pe;try{if(pn.transition=null,Pe=1,t)return t()}finally{Pe=c,pn.transition=o,Le=r,!(Le&6)&&Mr()}}function Wc(){rn=xs.current,We(xs)}function Ci(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,ev(o)),ot!==null)for(o=ot.return;o!==null;){var c=o;switch(tc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ja();break;case 3:Cs(),We(qt),We(Vt),pc();break;case 5:fc(c);break;case 4:Cs();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:ac(c.type._context);break;case 22:case 23:Wc()}o=o.return}if(_t=t,ot=t=qr(t.current,null),Rt=rn=r,ft=0,qo=null,zc=wl=Ri=0,Qt=Ho=null,Ti!==null){for(r=0;r<Ti.length;r++)if(o=Ti[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,p=o.pending;if(p!==null){var _=p.next;p.next=f,c.next=_}o.pending=c}Ti=null}return t}function pp(t,r){do{var o=ot;try{if(oc(),cl.current=pl,hl){for(var c=Ye.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}hl=!1}if(Ii=0,vt=ht=Ye=null,Uo=!1,zo=0,Uc.current=null,o===null||o.return===null){ft=1,qo=r,ot=null;break}e:{var p=t,_=o.return,S=o,P=r;if(r=Rt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var b=P,X=S,J=X.tag;if(!(X.mode&1)&&(J===0||J===11||J===15)){var G=X.alternate;G?(X.updateQueue=G.updateQueue,X.memoizedState=G.memoizedState,X.lanes=G.lanes):(X.updateQueue=null,X.memoizedState=null)}var re=zd(_);if(re!==null){re.flags&=-257,Bd(re,_,S,p,r),re.mode&1&&Ud(p,b,r),r=re,P=b;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(P),r.updateQueue=le}else ae.add(P);break e}else{if(!(r&1)){Ud(p,b,r),Qc();break e}P=Error(n(426))}}else if(Ke&&S.mode&1){var rt=zd(_);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Bd(rt,_,S,p,r),ic(Ps(P,S));break e}}p=P=Ps(P,S),ft!==4&&(ft=2),Ho===null?Ho=[p]:Ho.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var F=Md(p,P,r);ud(p,F);break e;case 1:S=P;var V=p.type,z=p.stateNode;if(!(p.flags&128)&&(typeof V.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Br===null||!Br.has(z)))){p.flags|=65536,r&=-r,p.lanes|=r;var Z=Fd(p,S,r);ud(p,Z);break e}}p=p.return}while(p!==null)}yp(o)}catch(ue){r=ue,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function mp(){var t=El.current;return El.current=pl,t===null?pl:t}function Qc(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(Ri&268435455)&&!(wl&268435455)||$r(_t,Rt)}function Cl(t,r){var o=Le;Le|=2;var c=mp();(_t!==t||Rt!==r)&&(dr=null,Ci(t,r));do try{Rv();break}catch(f){pp(t,f)}while(!0);if(oc(),Le=o,El.current=c,ot!==null)throw Error(n(261));return _t=null,Rt=0,ft}function Rv(){for(;ot!==null;)gp(ot)}function Av(){for(;ot!==null&&!Ia();)gp(ot)}function gp(t){var r=Ep(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?yp(t):ot=r,Uc.current=null}function yp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=_v(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(o=vv(o,r,rn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);ft===0&&(ft=5)}function Pi(t,r,o){var c=Pe,f=pn.transition;try{pn.transition=null,Pe=1,Cv(t,r,o,c)}finally{pn.transition=f,Pe=c}return null}function Cv(t,r,o,c){do Ds();while(br!==null);if(Le&6)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(be(t,p),t===_t&&(ot=_t=null,Rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Sl||(Sl=!0,wp(an,function(){return Ds(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=pn.transition,pn.transition=null;var _=Pe;Pe=1;var S=Le;Le|=4,Uc.current=null,wv(t,o),ap(o,t),Qy(Qu),xr=!!Wu,Qu=Wu=null,t.current=o,Tv(o),xu(),Le=S,Pe=_,pn.transition=p}else t.current=o;if(Sl&&(Sl=!1,br=t,Il=f),p=t.pendingLanes,p===0&&(Br=null),Ca(o.stateNode),Kt(t,$e()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(Tl)throw Tl=!1,t=bc,bc=null,t;return Il&1&&t.tag!==0&&Ds(),p=t.pendingLanes,p&1?t===jc?Wo++:(Wo=0,jc=t):Wo=0,Mr(),null}function Ds(){if(br!==null){var t=Pr(Il),r=pn.transition,o=Pe;try{if(pn.transition=null,Pe=16>t?16:t,br===null)var c=!1;else{if(t=br,br=null,Il=0,Le&6)throw Error(n(331));var f=Le;for(Le|=4,oe=t.current;oe!==null;){var p=oe,_=p.child;if(oe.flags&16){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var b=S[P];for(oe=b;oe!==null;){var X=oe;switch(X.tag){case 0:case 11:case 15:$o(8,X,p)}var J=X.child;if(J!==null)J.return=X,oe=J;else for(;oe!==null;){X=oe;var G=X.sibling,re=X.return;if(np(X),X===b){oe=null;break}if(G!==null){G.return=re,oe=G;break}oe=re}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var rt=le.sibling;le.sibling=null,le=rt}while(le!==null)}}oe=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,oe=_;else e:for(;oe!==null;){if(p=oe,p.flags&2048)switch(p.tag){case 0:case 11:case 15:$o(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,oe=F;break e}oe=p.return}}var V=t.current;for(oe=V;oe!==null;){_=oe;var z=_.child;if(_.subtreeFlags&2064&&z!==null)z.return=_,oe=z;else e:for(_=V;oe!==null;){if(S=oe,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:_l(9,S)}}catch(ue){et(S,S.return,ue)}if(S===_){oe=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,oe=Z;break e}oe=S.return}}if(Le=f,Mr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(hi,t)}catch{}c=!0}return c}finally{Pe=o,pn.transition=r}}return!1}function vp(t,r,o){r=Ps(o,r),r=Md(t,r,1),t=Ur(t,r,1),r=bt(),t!==null&&(Ar(t,1,r),Kt(t,r))}function et(t,r,o){if(t.tag===3)vp(t,t,o);else for(;r!==null;){if(r.tag===3){vp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Br===null||!Br.has(c))){t=Ps(o,t),t=Fd(r,t,1),r=Ur(r,t,1),t=bt(),r!==null&&(Ar(r,1,t),Kt(r,t));break}}r=r.return}}function Pv(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=bt(),t.pingedLanes|=t.suspendedLanes&o,_t===t&&(Rt&o)===o&&(ft===4||ft===3&&(Rt&130023424)===Rt&&500>$e()-Bc?Ci(t,0):zc|=o),Kt(t,r)}function _p(t,r){r===0&&(t.mode&1?(r=ts,ts<<=1,!(ts&130023424)&&(ts=4194304)):r=1);var o=bt();t=cr(t,r),t!==null&&(Ar(t,r,o),Kt(t,o))}function kv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),_p(t,o)}function xv(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),_p(t,o)}var Ep;Ep=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||qt.current)Wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Wt=!1,yv(t,r,o);Wt=!!(t.flags&131072)}else Wt=!1,Ke&&r.flags&1048576&&Zf(r,nl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;yl(t,r),t=r.pendingProps;var f=Es(r,Vt.current);As(r,o),f=yc(null,r,c,t,f,o);var p=vc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(c)?(p=!0,Za(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,cc(r),f.updater=ml,r.stateNode=f,f._reactInternals=r,Ic(r,c,t,o),r=Pc(null,r,c,!0,p,o)):(r.tag=0,Ke&&p&&ec(r),Bt(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(yl(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=Dv(c),t=Pn(c,t),f){case 0:r=Cc(null,r,c,t,o);break e;case 1:r=Wd(null,r,c,t,o);break e;case 11:r=bd(null,r,c,t,o);break e;case 14:r=jd(null,r,c,Pn(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Pn(c,f),Cc(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Pn(c,f),Wd(t,r,c,f,o);case 3:e:{if(Qd(r),t===null)throw Error(n(387));c=r.pendingProps,p=r.memoizedState,f=p.element,ld(t,r),ll(r,c,null,o);var _=r.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=Ps(Error(n(423)),r),r=Kd(t,r,c,o,f);break e}else if(c!==f){f=Ps(Error(n(424)),r),r=Kd(t,r,c,o,f);break e}else for(nn=Nr(r.stateNode.containerInfo.firstChild),tn=r,Ke=!0,Cn=null,o=od(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ss(),c===f){r=fr(t,r,o);break e}Bt(t,r,c,o)}r=r.child}return r;case 5:return hd(r),t===null&&rc(r),c=r.type,f=r.pendingProps,p=t!==null?t.memoizedProps:null,_=f.children,Ku(c,f)?_=null:p!==null&&Ku(c,p)&&(r.flags|=32),Hd(t,r),Bt(t,r,_,o),r.child;case 6:return t===null&&rc(r),null;case 13:return Gd(t,r,o);case 4:return hc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Is(r,null,c,o):Bt(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Pn(c,f),bd(t,r,c,f,o);case 7:return Bt(t,r,r.pendingProps,o),r.child;case 8:return Bt(t,r,r.pendingProps.children,o),r.child;case 12:return Bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,p=r.memoizedProps,_=f.value,qe(sl,c._currentValue),c._currentValue=_,p!==null)if(An(p.value,_)){if(p.children===f.children&&!qt.current){r=fr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){_=p.child;for(var P=S.firstContext;P!==null;){if(P.context===c){if(p.tag===1){P=hr(-1,o&-o),P.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var X=b.pending;X===null?P.next=P:(P.next=X.next,X.next=P),b.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),lc(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),lc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Bt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,As(r,o),f=fn(f),c=c(f),r.flags|=1,Bt(t,r,c,o),r.child;case 14:return c=r.type,f=Pn(c,r.pendingProps),f=Pn(c.type,f),jd(t,r,c,f,o);case 15:return $d(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Pn(c,f),yl(t,r),r.tag=1,Ht(c)?(t=!0,Za(r)):t=!1,As(r,o),Ld(r,c,f),Ic(r,c,f,o),Pc(null,r,c,!0,t,o);case 19:return Yd(t,r,o);case 22:return qd(t,r,o)}throw Error(n(156,r.tag))};function wp(t,r){return Zi(t,r)}function Vv(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,o,c){return new Vv(t,r,o,c)}function Kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dv(t){if(typeof t=="function")return Kc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===kt)return 14}return 2}function qr(t,r){var o=t.alternate;return o===null?(o=mn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Pl(t,r,o,c,f,p){var _=2;if(c=t,typeof t=="function")Kc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case x:return ki(o.children,f,p,r);case T:_=8,f|=8;break;case I:return t=mn(12,o,r,f|2),t.elementType=I,t.lanes=p,t;case A:return t=mn(13,o,r,f),t.elementType=A,t.lanes=p,t;case tt:return t=mn(19,o,r,f),t.elementType=tt,t.lanes=p,t;case Be:return kl(o,f,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case D:_=9;break e;case O:_=11;break e;case kt:_=14;break e;case xt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=mn(_,o,r,f),r.elementType=t,r.type=c,r.lanes=p,r}function ki(t,r,o,c){return t=mn(7,t,c,r),t.lanes=o,t}function kl(t,r,o,c){return t=mn(22,t,c,r),t.elementType=Be,t.lanes=o,t.stateNode={isHidden:!1},t}function Gc(t,r,o){return t=mn(6,t,null,r),t.lanes=o,t}function Xc(t,r,o){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Nv(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rr(0),this.expirationTimes=Rr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Yc(t,r,o,c,f,p,_,S,P){return t=new Nv(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=mn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(p),t}function Lv(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Tp(t){if(!t)return Or;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Ht(o))return Xf(t,o,r)}return r}function Sp(t,r,o,c,f,p,_,S,P){return t=Yc(o,c,!0,t,f,p,_,S,P),t.context=Tp(null),o=t.current,c=bt(),f=jr(o),p=hr(c,f),p.callback=r??null,Ur(o,p,f),t.current.lanes=f,Ar(t,f,c),Kt(t,c),t}function xl(t,r,o,c){var f=r.current,p=bt(),_=jr(f);return o=Tp(o),r.context===null?r.context=o:r.pendingContext=o,r=hr(p,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Ur(f,r,_),t!==null&&(Vn(t,f,_,p),al(t,f,_)),_}function Vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ip(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Jc(t,r){Ip(t,r),(t=t.alternate)&&Ip(t,r)}function Ov(){return null}var Rp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zc(t){this._internalRoot=t}Dl.prototype.render=Zc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));xl(t,r,null,null)},Dl.prototype.unmount=Zc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ai(function(){xl(null,t,null,null)}),r[or]=null}};function Dl(t){this._internalRoot=t}Dl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Da();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Fn.length&&r!==0&&r<Fn[o].priority;o++);Fn.splice(o,0,t),o===0&&Oa(t)}};function eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ap(){}function Mv(t,r,o,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var b=Vl(_);p.call(b)}}var _=Sp(r,c,t,0,null,!1,!1,"",Ap);return t._reactRootContainer=_,t[or]=_.current,xo(t.nodeType===8?t.parentNode:t),Ai(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var S=c;c=function(){var b=Vl(P);S.call(b)}}var P=Yc(t,0,!1,null,null,!1,!1,"",Ap);return t._reactRootContainer=P,t[or]=P.current,xo(t.nodeType===8?t.parentNode:t),Ai(function(){xl(r,P,o,c)}),P}function Ll(t,r,o,c,f){var p=o._reactRootContainer;if(p){var _=p;if(typeof f=="function"){var S=f;f=function(){var P=Vl(_);S.call(P)}}xl(r,_,t,f)}else _=Mv(o,r,t,f,c);return Vl(_)}xa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ir(r.pendingLanes);o!==0&&(Cr(r,o|1),Kt(r,$e()),!(Le&6)&&(Vs=$e()+500,Mr()))}break;case 13:Ai(function(){var c=cr(t,1);if(c!==null){var f=bt();Vn(c,t,1,f)}}),Jc(t,1)}},ns=function(t){if(t.tag===13){var r=cr(t,134217728);if(r!==null){var o=bt();Vn(r,t,134217728,o)}Jc(t,134217728)}},Va=function(t){if(t.tag===13){var r=jr(t),o=cr(t,r);if(o!==null){var c=bt();Vn(o,t,r,c)}Jc(t,r)}},Da=function(){return Pe},Na=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},Qi=function(t,r,o){switch(r){case"input":if(eo(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=Ya(c);if(!f)throw Error(n(90));bi(c),eo(c,f)}}}break;case"textarea":Hi(t,o);break;case"select":r=o.value,r!=null&&Jn(t,!!o.multiple,r,!1)}},oi=Hc,co=Ai;var Fv={usingClientEntryPoint:!1,Events:[No,vs,Ya,On,uo,Hc]},Qo={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uv={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=po(t),t===null?null:t.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||Ov,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{hi=Ol.inject(Uv),Yt=Ol}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fv,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eh(r))throw Error(n(200));return Lv(t,r,null,o)},Gt.createRoot=function(t,r){if(!eh(t))throw Error(n(299));var o=!1,c="",f=Rp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Yc(t,1,!1,null,null,o,!1,c,f),t[or]=r.current,xo(t.nodeType===8?t.parentNode:t),new Zc(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=po(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Ai(t)},Gt.hydrate=function(t,r,o){if(!Nl(r))throw Error(n(200));return Ll(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!eh(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,f=!1,p="",_=Rp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Sp(r,null,t,1,o??null,f,!1,p,_),t[or]=r.current,xo(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Dl(r)},Gt.render=function(t,r,o){if(!Nl(r))throw Error(n(200));return Ll(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!Nl(t))throw Error(n(40));return t._reactRootContainer?(Ai(function(){Ll(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1},Gt.unstable_batchedUpdates=Hc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Nl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Ll(t,r,o,!1,c)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Lp;function Wv(){if(Lp)return rh.exports;Lp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rh.exports=Hv(),rh.exports}var Op;function Qv(){if(Op)return Ml;Op=1;var i=Wv();return Ml.createRoot=i.createRoot,Ml.hydrateRoot=i.hydrateRoot,Ml}var Kv=Qv(),Go={},Mp;function Gv(){if(Mp)return Go;Mp=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.parse=h,Go.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function h(C,L){const B=new u,$=C.length;if($<2)return B;const U=(L==null?void 0:L.decode)||w;let H=0;do{const K=C.indexOf("=",H);if(K===-1)break;const ne=C.indexOf(";",H),ce=ne===-1?$:ne;if(K>ce){H=C.lastIndexOf(";",K-1)+1;continue}const Ae=m(C,H,K),Te=g(C,K,Ae),x=C.slice(Ae,Te);if(B[x]===void 0){let T=m(C,K+1,ce),I=g(C,ce,T);const k=U(C.slice(T,I));B[x]=k}H=ce+1}while(H<$);return B}function m(C,L,B){do{const $=C.charCodeAt(L);if($!==32&&$!==9)return L}while(++L<B);return B}function g(C,L,B){for(;L>B;){const $=C.charCodeAt(--L);if($!==32&&$!==9)return L+1}return B}function v(C,L,B){const $=(B==null?void 0:B.encode)||encodeURIComponent;if(!i.test(C))throw new TypeError(`argument name is invalid: ${C}`);const U=$(L);if(!e.test(U))throw new TypeError(`argument val is invalid: ${L}`);let H=C+"="+U;if(!B)return H;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);H+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);H+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);H+="; Path="+B.path}if(B.expires){if(!R(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);H+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&(H+="; HttpOnly"),B.secure&&(H+="; Secure"),B.partitioned&&(H+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return H}function w(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function R(C){return a.call(C)==="[object Date]"}return Go}Gv();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fp="popstate";function Xv(i={}){function e(s,a){let{pathname:u,search:h,hash:m}=s.location;return Yl("",{pathname:u,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:zs(a)}return Um(e,n,null,i)}function Yv(i={}){function e(a,u){let{pathname:h="/",search:m="",hash:g=""}=Oi(a.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Yl("",{pathname:h,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(a,u){let h=a.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=a.location.href,v=g.indexOf("#");m=v===-1?g:g.slice(0,v)}return m+"#"+(typeof u=="string"?u:zs(u))}function s(a,u){Nn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Um(e,n,s,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Nn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jv(){return Math.random().toString(36).substring(2,10)}function Up(i,e){return{usr:i.state,key:i.key,idx:e}}function Yl(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Oi(e):e,state:n,key:e&&e.key||s||Jv()}}function zs({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Oi(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Um(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,m="POP",g=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function R(){m="POP";let U=w(),H=U==null?null:U-v;v=U,g&&g({action:m,location:$.location,delta:H})}function C(U,H){m="PUSH";let K=Yl($.location,U,H);n&&n(K,U),v=w()+1;let ne=Up(K,v),ce=$.createHref(K);try{h.pushState(ne,"",ce)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;a.location.assign(ce)}u&&g&&g({action:m,location:$.location,delta:1})}function L(U,H){m="REPLACE";let K=Yl($.location,U,H);n&&n(K,U),v=w();let ne=Up(K,v),ce=$.createHref(K);h.replaceState(ne,"",ce),u&&g&&g({action:m,location:$.location,delta:0})}function B(U){let H=a.location.origin!=="null"?a.location.origin:a.location.href,K=typeof U=="string"?U:zs(U);return K=K.replace(/ $/,"%20"),Je(H,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,H)}let $={get action(){return m},get location(){return i(a,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Fp,R),g=U,()=>{a.removeEventListener(Fp,R),g=null}},createHref(U){return e(a,U)},createURL:B,encodeLocation(U){let H=B(U);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:C,replace:L,go(U){return h.go(U)}};return $}function zm(i,e,n="/"){return Zv(i,e,n,!1)}function Zv(i,e,n,s){let a=typeof e=="string"?Oi(e):e,u=Xr(a.pathname||"/",n);if(u==null)return null;let h=Bm(i);e_(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=h_(u);m=u_(h[g],v,s)}return m}function Bm(i,e=[],n=[],s=""){let a=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=pr([s,g.relativePath]),w=n.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Bm(u.children,e,w,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:a_(v,u.index),routesMeta:w})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,h);else for(let g of bm(u.path))a(u,h,g)}),e}function bm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=bm(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function e_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:l_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var t_=/^:[\w-]+$/,n_=3,r_=2,i_=1,s_=10,o_=-2,zp=i=>i==="*";function a_(i,e){let n=i.split("/"),s=n.length;return n.some(zp)&&(s+=o_),e&&(s+=r_),n.filter(a=>!zp(a)).reduce((a,u)=>a+(t_.test(u)?n_:u===""?i_:s_),s)}function l_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function u_(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",R=Jl({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),C=g.route;if(!R&&v&&n&&!s[s.length-1].route.index&&(R=Jl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!R)return null;Object.assign(a,R.params),h.push({params:a,pathname:pr([u,R.pathname]),pathnameBase:m_(pr([u,R.pathnameBase])),route:C}),R.pathnameBase!=="/"&&(u=pr([u,R.pathnameBase]))}return h}function Jl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=c_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:R},C)=>{if(w==="*"){let B=m[C]||"";h=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const L=m[C];return R&&!L?v[w]=void 0:v[w]=(L||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function c_(i,e=!1,n=!0){Nn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function h_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Xr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function f_(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Oi(i):i;return{pathname:n?n.startsWith("/")?n:d_(n,e):e,search:g_(s),hash:y_(a)}}function d_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function oh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p_(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jm(i){let e=p_(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function $m(i,e,n,s=!1){let a;typeof i=="string"?a=Oi(i):(a={...i},Je(!a.pathname||!a.pathname.includes("?"),oh("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),oh("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),oh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,m;if(h==null)m=n;else{let R=e.length-1;if(!s&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),R-=1;a.pathname=C.join("/")}m=R>=0?e[R]:"/"}let g=f_(a,m),v=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var pr=i=>i.join("/").replace(/\/\/+/g,"/"),m_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),g_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,y_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function v_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var qm=["POST","PUT","PATCH","DELETE"];new Set(qm);var __=["GET",...qm];new Set(__);var Qs=q.createContext(null);Qs.displayName="DataRouter";var fu=q.createContext(null);fu.displayName="DataRouterState";var Hm=q.createContext({isTransitioning:!1});Hm.displayName="ViewTransition";var E_=q.createContext(new Map);E_.displayName="Fetchers";var w_=q.createContext(null);w_.displayName="Await";var Gn=q.createContext(null);Gn.displayName="Navigation";var pa=q.createContext(null);pa.displayName="Location";var Er=q.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var zh=q.createContext(null);zh.displayName="RouteError";function T_(i,{relative:e}={}){Je(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Gn),{hash:a,pathname:u,search:h}=ga(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pr([n,u])),s.createHref({pathname:m,search:h,hash:a})}function ma(){return q.useContext(pa)!=null}function Mi(){return Je(ma(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(pa).location}var Wm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qm(i){q.useContext(Gn).static||q.useLayoutEffect(i)}function Bh(){let{isDataRoute:i}=q.useContext(Er);return i?O_():S_()}function S_(){Je(ma(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(Qs),{basename:e,navigator:n}=q.useContext(Gn),{matches:s}=q.useContext(Er),{pathname:a}=Mi(),u=JSON.stringify(jm(s)),h=q.useRef(!1);return Qm(()=>{h.current=!0}),q.useCallback((g,v={})=>{if(Nn(h.current,Wm),!h.current)return;if(typeof g=="number"){n.go(g);return}let w=$m(g,JSON.parse(u),a,v.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:pr([e,w.pathname])),(v.replace?n.replace:n.push)(w,v.state,v)},[e,n,u,a,i])}q.createContext(null);function ga(i,{relative:e}={}){let{matches:n}=q.useContext(Er),{pathname:s}=Mi(),a=JSON.stringify(jm(n));return q.useMemo(()=>$m(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function I_(i,e){return Km(i,e)}function Km(i,e,n,s){var H;Je(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=q.useContext(Gn),{matches:u}=q.useContext(Er),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let K=w&&w.path||"";Gm(g,!w||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let R=Mi(),C;if(e){let K=typeof e=="string"?Oi(e):e;Je(v==="/"||((H=K.pathname)==null?void 0:H.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${K.pathname}" was given in the \`location\` prop.`),C=K}else C=R;let L=C.pathname||"/",B=L;if(v!=="/"){let K=v.replace(/^\//,"").split("/");B="/"+L.replace(/^\//,"").split("/").slice(K.length).join("/")}let $=zm(i,{pathname:B});Nn(w||$!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Nn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=k_($&&$.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:pr([v,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:pr([v,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,s);return e&&U?q.createElement(pa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},U):U}function R_(){let i=L_(),e=v_(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:a},n):null,h)}var A_=q.createElement(R_,null),C_=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(Er.Provider,{value:this.props.routeContext},q.createElement(zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function P_({routeContext:i,match:e,children:n}){let s=q.useContext(Qs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Er.Provider,{value:i},n)}function k_(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:w,errors:R}=n,C=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!R||R[v.route.id]===void 0);if(v.route.lazy||C){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,w)=>{let R,C=!1,L=null,B=null;n&&(R=u&&v.route.id?u[v.route.id]:void 0,L=v.route.errorElement||A_,h&&(m<0&&w===0?(Gm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,B=null):m===w&&(C=!0,B=v.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,w+1)),U=()=>{let H;return R?H=L:C?H=B:v.route.Component?H=q.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=g,q.createElement(P_,{match:v,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:H})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?q.createElement(C_,{location:n.location,revalidation:n.revalidation,component:L,error:R,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}function bh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x_(i){let e=q.useContext(Qs);return Je(e,bh(i)),e}function V_(i){let e=q.useContext(fu);return Je(e,bh(i)),e}function D_(i){let e=q.useContext(Er);return Je(e,bh(i)),e}function jh(i){let e=D_(i),n=e.matches[e.matches.length-1];return Je(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function N_(){return jh("useRouteId")}function L_(){var s;let i=q.useContext(zh),e=V_("useRouteError"),n=jh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function O_(){let{router:i}=x_("useNavigate"),e=jh("useNavigate"),n=q.useRef(!1);return Qm(()=>{n.current=!0}),q.useCallback(async(a,u={})=>{Nn(n.current,Wm),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var Bp={};function Gm(i,e,n){!e&&!Bp[i]&&(Bp[i]=!0,Nn(!1,n))}q.memo(M_);function M_({routes:i,future:e,state:n}){return Km(i,void 0,n,e)}function gh(i){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xm({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){Je(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=Oi(n));let{pathname:g="/",search:v="",hash:w="",state:R=null,key:C="default"}=n,L=q.useMemo(()=>{let B=Xr(g,h);return B==null?null:{location:{pathname:B,search:v,hash:w,state:R,key:C},navigationType:s}},[h,g,v,w,R,C,s]);return Nn(L!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:q.createElement(Gn.Provider,{value:m},q.createElement(pa.Provider,{children:e,value:L}))}function F_({children:i,location:e}){return I_(yh(i),e)}function yh(i,e=[]){let n=[];return q.Children.forEach(i,(s,a)=>{if(!q.isValidElement(s))return;let u=[...e,a];if(s.type===q.Fragment){n.push.apply(n,yh(s.props.children,u));return}Je(s.type===gh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=yh(s.props.children,u)),n.push(h)}),n}var $l="get",ql="application/x-www-form-urlencoded";function du(i){return i!=null&&typeof i.tagName=="string"}function U_(i){return du(i)&&i.tagName.toLowerCase()==="button"}function z_(i){return du(i)&&i.tagName.toLowerCase()==="form"}function B_(i){return du(i)&&i.tagName.toLowerCase()==="input"}function b_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function j_(i,e){return i.button===0&&(!e||e==="_self")&&!b_(i)}var Fl=null;function $_(){if(Fl===null)try{new FormData(document.createElement("form"),0),Fl=!1}catch{Fl=!0}return Fl}var q_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ah(i){return i!=null&&!q_.has(i)?(Nn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ql}"`),null):i}function H_(i,e){let n,s,a,u,h;if(z_(i)){let m=i.getAttribute("action");s=m?Xr(m,e):null,n=i.getAttribute("method")||$l,a=ah(i.getAttribute("enctype"))||ql,u=new FormData(i)}else if(U_(i)||B_(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Xr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||$l,a=ah(i.getAttribute("formenctype"))||ah(m.getAttribute("enctype"))||ql,u=new FormData(m,i),!$_()){let{name:v,type:w,value:R}=i;if(w==="image"){let C=v?`${v}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else v&&u.append(v,R)}}else{if(du(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$l,s=null,a=ql,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}function $h(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function W_(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q_(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function K_(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await W_(u,n);return h.links?h.links():[]}return[]}));return J_(s.flat(1).filter(Q_).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function bp(i,e,n,s,a,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,m=(g,v)=>{var w;return n[v].pathname!==g.pathname||((w=n[v].route.path)==null?void 0:w.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):u==="data"?e.filter((g,v)=>{var R;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function G_(i,e){return X_(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function X_(i){return[...new Set(i)]}function Y_(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function J_(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(Y_(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function Z_(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function e0(){let i=q.useContext(Qs);return $h(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function t0(){let i=q.useContext(fu);return $h(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qh=q.createContext(void 0);qh.displayName="FrameworkContext";function Ym(){let i=q.useContext(qh);return $h(i,"You must render this element inside a <HydratedRouter> element"),i}function n0(i,e){let n=q.useContext(qh),[s,a]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:R}=e,C=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=H=>{H.forEach(K=>{h(K.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return C.current&&U.observe(C.current),()=>{U.disconnect()}}},[i]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let L=()=>{a(!0)},B=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,C,{}]:[u,C,{onFocus:Xo(m,L),onBlur:Xo(g,B),onMouseEnter:Xo(v,L),onMouseLeave:Xo(w,B),onTouchStart:Xo(R,L)}]:[!1,C,{}]}function Xo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function r0({page:i,...e}){let{router:n}=e0(),s=q.useMemo(()=>zm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(s0,{page:i,matches:s,...e}):(console.warn(`Tried to prefetch ${i} but no routes matched.`),null)}function i0(i){let{manifest:e,routeModules:n}=Ym(),[s,a]=q.useState([]);return q.useEffect(()=>{let u=!1;return K_(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function s0({page:i,matches:e,...n}){let s=Mi(),{manifest:a,routeModules:u}=Ym(),{loaderData:h,matches:m}=t0(),g=q.useMemo(()=>bp(i,e,m,a,s,"data"),[i,e,m,a,s]),v=q.useMemo(()=>bp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,B=!1;if(e.forEach(U=>{var K;let H=a.routes[U.route.id];!H||!H.hasLoader||(!g.some(ne=>ne.route.id===U.route.id)&&U.route.id in h&&((K=u[U.route.id])!=null&&K.shouldRevalidate)||H.hasClientLoader?B=!0:L.add(U.route.id))}),L.size===0)return[];let $=Z_(i);return B&&L.size>0&&$.searchParams.set("_routes",e.filter(U=>L.has(U.route.id)).map(U=>U.route.id).join(",")),[$.pathname+$.search]},[h,s,a,g,e,i,u]),R=q.useMemo(()=>G_(v,a),[v,a]),C=i0(v);return q.createElement(q.Fragment,null,w.map(L=>q.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),R.map(L=>q.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),C.map(({key:L,link:B})=>q.createElement("link",{key:L,...B})))}function o0(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Jm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jm&&(window.__reactRouterVersion="7.0.2")}catch{}function a0({basename:i,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=Xv({window:n,v5Compat:!0}));let a=s.current,[u,h]=q.useState({action:a.action,location:a.location}),m=q.useCallback(g=>{q.startTransition(()=>h(g))},[h]);return q.useLayoutEffect(()=>a.listen(m),[a,m]),q.createElement(Xm,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:a})}function l0({basename:i,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=Yv({window:n,v5Compat:!0}));let a=s.current,[u,h]=q.useState({action:a.action,location:a.location}),m=q.useCallback(g=>{q.startTransition(()=>h(g))},[h]);return q.useLayoutEffect(()=>a.listen(m),[a,m]),q.createElement(Xm,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:a})}var Zm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eg=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:m,target:g,to:v,preventScrollReset:w,viewTransition:R,...C},L){let{basename:B}=q.useContext(Gn),$=typeof v=="string"&&Zm.test(v),U,H=!1;if(typeof v=="string"&&$&&(U=v,Jm))try{let I=new URL(window.location.href),k=v.startsWith("//")?new URL(I.protocol+v):new URL(v),D=Xr(k.pathname,B);k.origin===I.origin&&D!=null?v=D+k.search+k.hash:H=!0}catch{Nn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=T_(v,{relative:a}),[ne,ce,Ae]=n0(s,C),Te=f0(v,{replace:h,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:R});function x(I){e&&e(I),I.defaultPrevented||Te(I)}let T=q.createElement("a",{...C,...Ae,href:U||K,onClick:H||u?e:x,ref:o0(L,ce),target:g,"data-discover":!$&&n==="render"?"true":void 0});return ne&&!$?q.createElement(q.Fragment,null,T,q.createElement(r0,{page:K})):T});eg.displayName="Link";var u0=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:m,children:g,...v},w){let R=ga(h,{relative:v.relative}),C=Mi(),L=q.useContext(fu),{navigator:B,basename:$}=q.useContext(Gn),U=L!=null&&y0(R)&&m===!0,H=B.encodeLocation?B.encodeLocation(R).pathname:R.pathname,K=C.pathname,ne=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(K=K.toLowerCase(),ne=ne?ne.toLowerCase():null,H=H.toLowerCase()),ne&&$&&(ne=Xr(ne,$)||ne);const ce=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let Ae=K===H||!a&&K.startsWith(H)&&K.charAt(ce)==="/",Te=ne!=null&&(ne===H||!a&&ne.startsWith(H)&&ne.charAt(H.length)==="/"),x={isActive:Ae,isPending:Te,isTransitioning:U},T=Ae?e:void 0,I;typeof s=="function"?I=s(x):I=[s,Ae?"active":null,Te?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return q.createElement(eg,{...v,"aria-current":T,className:I,ref:w,style:k,to:h,viewTransition:m},typeof g=="function"?g(x):g)});u0.displayName="NavLink";var c0=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=$l,action:m,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:R,...C},L)=>{let B=m0(),$=g0(m,{relative:v}),U=h.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&Zm.test(m),K=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let ce=ne.nativeEvent.submitter,Ae=(ce==null?void 0:ce.getAttribute("formmethod"))||h;B(ce||ne.currentTarget,{fetcherKey:e,method:Ae,navigate:n,replace:a,state:u,relative:v,preventScrollReset:w,viewTransition:R})};return q.createElement("form",{ref:L,method:U,action:$,onSubmit:s?g:K,...C,"data-discover":!H&&i==="render"?"true":void 0})});c0.displayName="Form";function h0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tg(i){let e=q.useContext(Qs);return Je(e,h0(i)),e}function f0(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let m=Bh(),g=Mi(),v=ga(i,{relative:u});return q.useCallback(w=>{if(j_(w,e)){w.preventDefault();let R=n!==void 0?n:zs(g)===zs(v);m(i,{replace:R,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,m,v,n,s,e,i,a,u,h])}var d0=0,p0=()=>`__${String(++d0)}__`;function m0(){let{router:i}=tg("useSubmit"),{basename:e}=q.useContext(Gn),n=N_();return q.useCallback(async(s,a={})=>{let{action:u,method:h,encType:m,formData:g,body:v}=H_(s,e);if(a.navigate===!1){let w=a.fetcherKey||p0();await i.fetch(w,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function g0(i,{relative:e}={}){let{basename:n}=q.useContext(Gn),s=q.useContext(Er);Je(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...ga(i||".",{relative:e})},h=Mi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(R=>R).forEach(R=>m.append("index",R));let w=m.toString();u.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pr([n,u.pathname])),zs(u)}function y0(i,e={}){let n=q.useContext(Hm);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tg("useViewTransitionState"),a=ga(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Xr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Xr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jl(a.pathname,h)!=null||Jl(a.pathname,u)!=null}new TextEncoder;const v0="/assets/QuizApp-DyMvRPV3.png";var jp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},_0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},rg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,w=u>>2,R=(u&3)<<4|m>>4;let C=(m&15)<<2|v>>6,L=v&63;g||(L=64,h||(C=64)),s.push(n[w],n[R],n[C],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ng(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):_0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||m==null||v==null||R==null)throw new E0;const C=u<<2|m>>4;if(s.push(C),v!==64){const L=m<<4&240|v>>2;if(s.push(L),R!==64){const B=v<<6&192|R;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class E0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w0=function(i){const e=ng(i);return rg.encodeByteArray(e,!0)},Zl=function(i){return w0(i).replace(/\./g,"")},T0=function(i){try{return rg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=()=>S0().__FIREBASE_DEFAULTS__,R0=()=>{if(typeof process>"u"||typeof jp>"u")return;const i=jp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},A0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&T0(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return I0()||R0()||A0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},C0=i=>{var e,n;return(n=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},P0=i=>{const e=C0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ig=()=>{var i;return(i=Hh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Zl(JSON.stringify(n)),Zl(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D0(){var i;const e=(i=Hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N0(){return!D0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L0(){try{return typeof indexedDB=="object"}catch{return!1}}function O0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="FirebaseError";class Ks extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=M0,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sg.prototype.create)}}class sg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?F0(u,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Ks(a,m,s)}}function F0(i,e){return i.replace(U0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const U0=/\{\$([^}]+)}/g;function vh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if($p(u)&&$p(h)){if(!vh(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function $p(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(i){return i&&i._delegate?i._delegate:i}class oa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new k0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b0(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:B0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B0(i){return i===xi?void 0:i}function b0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const $0={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},q0=Ne.INFO,H0={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},W0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=H0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class og{constructor(e){this.name=e,this._logLevel=q0,this._logHandler=W0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const Q0=(i,e)=>e.some(n=>i instanceof n);let qp,Hp;function K0(){return qp||(qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G0(){return Hp||(Hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ag=new WeakMap,_h=new WeakMap,lg=new WeakMap,lh=new WeakMap,Wh=new WeakMap;function X0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Qr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ag.set(n,i)}).catch(()=>{}),Wh.set(e,i),e}function Y0(i){if(_h.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});_h.set(i,e)}let Eh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return _h.get(i);if(e==="objectStoreNames")return i.objectStoreNames||lg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function J0(i){Eh=i(Eh)}function Z0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(uh(this),e,...n);return lg.set(s,e.sort?e.sort():[e]),Qr(s)}:G0().includes(i)?function(...e){return i.apply(uh(this),e),Qr(ag.get(this))}:function(...e){return Qr(i.apply(uh(this),e))}}function eE(i){return typeof i=="function"?Z0(i):(i instanceof IDBTransaction&&Y0(i),Q0(i,K0())?new Proxy(i,Eh):i)}function Qr(i){if(i instanceof IDBRequest)return X0(i);if(lh.has(i))return lh.get(i);const e=eE(i);return e!==i&&(lh.set(i,e),Wh.set(e,i)),e}const uh=i=>Wh.get(i);function tE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),m=Qr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Qr(h.result),g.oldVersion,g.newVersion,Qr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const nE=["get","getKey","getAll","getAllKeys","count"],rE=["put","add","delete","clear"],ch=new Map;function Wp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ch.get(e))return ch.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=rE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||nE.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&g.done]))[0]};return ch.set(e,u),u}J0(i=>({...i,get:(e,n,s)=>Wp(e,n)||i.get(e,n,s),has:(e,n)=>!!Wp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function sE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wh="@firebase/app",Qp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new og("@firebase/app"),oE="@firebase/app-compat",aE="@firebase/analytics-compat",lE="@firebase/analytics",uE="@firebase/app-check-compat",cE="@firebase/app-check",hE="@firebase/auth",fE="@firebase/auth-compat",dE="@firebase/database",pE="@firebase/data-connect",mE="@firebase/database-compat",gE="@firebase/functions",yE="@firebase/functions-compat",vE="@firebase/installations",_E="@firebase/installations-compat",EE="@firebase/messaging",wE="@firebase/messaging-compat",TE="@firebase/performance",SE="@firebase/performance-compat",IE="@firebase/remote-config",RE="@firebase/remote-config-compat",AE="@firebase/storage",CE="@firebase/storage-compat",PE="@firebase/firestore",kE="@firebase/vertexai",xE="@firebase/firestore-compat",VE="firebase",DE="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="[DEFAULT]",NE={[wh]:"fire-core",[oE]:"fire-core-compat",[lE]:"fire-analytics",[aE]:"fire-analytics-compat",[cE]:"fire-app-check",[uE]:"fire-app-check-compat",[hE]:"fire-auth",[fE]:"fire-auth-compat",[dE]:"fire-rtdb",[pE]:"fire-data-connect",[mE]:"fire-rtdb-compat",[gE]:"fire-fn",[yE]:"fire-fn-compat",[vE]:"fire-iid",[_E]:"fire-iid-compat",[EE]:"fire-fcm",[wE]:"fire-fcm-compat",[TE]:"fire-perf",[SE]:"fire-perf-compat",[IE]:"fire-rc",[RE]:"fire-rc-compat",[AE]:"fire-gcs",[CE]:"fire-gcs-compat",[PE]:"fire-fst",[xE]:"fire-fst-compat",[kE]:"fire-vertex","fire-js":"fire-js",[VE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,LE=new Map,Sh=new Map;function Kp(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function tu(i){const e=i.name;if(Sh.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Sh.set(e,i);for(const n of eu.values())Kp(n,i);for(const n of LE.values())Kp(n,i);return!0}function OE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new sg("app","Firebase",ME);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=DE;function ug(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Th,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=ig()),!n)throw Kr.create("no-options");const u=eu.get(a);if(u){if(vh(n,u.options)&&vh(s,u.config))return u;throw Kr.create("duplicate-app",{appName:a})}const h=new j0(a);for(const g of Sh.values())h.addComponent(g);const m=new FE(n,s,h);return eu.set(a,m),m}function zE(i=Th){const e=eu.get(i);if(!e&&i===Th&&ig())return ug();if(!e)throw Kr.create("no-app",{appName:i});return e}function Fs(i,e,n){var s;let a=(s=NE[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(m.join(" "));return}tu(new oa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firebase-heartbeat-database",bE=1,aa="firebase-heartbeat-store";let hh=null;function cg(){return hh||(hh=tE(BE,bE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(aa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),hh}async function jE(i){try{const n=(await cg()).transaction(aa),s=await n.objectStore(aa).get(hg(i));return await n.done,s}catch(e){if(e instanceof Ks)yr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function Gp(i,e){try{const s=(await cg()).transaction(aa,"readwrite");await s.objectStore(aa).put(e,hg(i)),await s.done}catch(n){if(n instanceof Ks)yr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(s.message)}}}function hg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=1024,qE=30*24*60*60*1e3;class HE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Xp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=qE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){yr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xp(),{heartbeatsToSend:s,unsentEntries:a}=WE(this._heartbeatsCache.heartbeats),u=Zl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return yr.warn(n),""}}}function Xp(){return new Date().toISOString().substring(0,10)}function WE(i,e=$E){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Yp(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Yp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L0()?O0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Yp(i){return Zl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(i){tu(new oa("platform-logger",e=>new iE(e),"PRIVATE")),tu(new oa("heartbeat",e=>new HE(e),"PRIVATE")),Fs(wh,Qp,i),Fs(wh,Qp,"esm2017"),Fs("fire-js","")}KE("");var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,fg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function I(){}I.prototype=T.prototype,x.D=T.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(k,D,O){for(var A=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)A[tt-2]=arguments[tt];return T.prototype[D].apply(k,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)k[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=x.g[0],I=x.g[1],D=x.g[2];var O=x.g[3],A=T+(O^I&(D^O))+k[0]+3614090360&4294967295;T=I+(A<<7&4294967295|A>>>25),A=O+(D^T&(I^D))+k[1]+3905402710&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(I^O&(T^I))+k[2]+606105819&4294967295,D=O+(A<<17&4294967295|A>>>15),A=I+(T^D&(O^T))+k[3]+3250441966&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(O^I&(D^O))+k[4]+4118548399&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(D^T&(I^D))+k[5]+1200080426&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(I^O&(T^I))+k[6]+2821735955&4294967295,D=O+(A<<17&4294967295|A>>>15),A=I+(T^D&(O^T))+k[7]+4249261313&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(O^I&(D^O))+k[8]+1770035416&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(D^T&(I^D))+k[9]+2336552879&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(I^O&(T^I))+k[10]+4294925233&4294967295,D=O+(A<<17&4294967295|A>>>15),A=I+(T^D&(O^T))+k[11]+2304563134&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(O^I&(D^O))+k[12]+1804603682&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(D^T&(I^D))+k[13]+4254626195&4294967295,O=T+(A<<12&4294967295|A>>>20),A=D+(I^O&(T^I))+k[14]+2792965006&4294967295,D=O+(A<<17&4294967295|A>>>15),A=I+(T^D&(O^T))+k[15]+1236535329&4294967295,I=D+(A<<22&4294967295|A>>>10),A=T+(D^O&(I^D))+k[1]+4129170786&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^D&(T^I))+k[6]+3225465664&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(O^T))+k[11]+643717713&4294967295,D=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(D^O))+k[0]+3921069994&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(D^O&(I^D))+k[5]+3593408605&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^D&(T^I))+k[10]+38016083&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(O^T))+k[15]+3634488961&4294967295,D=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(D^O))+k[4]+3889429448&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(D^O&(I^D))+k[9]+568446438&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^D&(T^I))+k[14]+3275163606&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(O^T))+k[3]+4107603335&4294967295,D=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(D^O))+k[8]+1163531501&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(D^O&(I^D))+k[13]+2850285829&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^D&(T^I))+k[2]+4243563512&4294967295,O=T+(A<<9&4294967295|A>>>23),A=D+(T^I&(O^T))+k[7]+1735328473&4294967295,D=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(D^O))+k[12]+2368359562&4294967295,I=D+(A<<20&4294967295|A>>>12),A=T+(I^D^O)+k[5]+4294588738&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^D)+k[8]+2272392833&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^I)+k[11]+1839030562&4294967295,D=O+(A<<16&4294967295|A>>>16),A=I+(D^O^T)+k[14]+4259657740&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(I^D^O)+k[1]+2763975236&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^D)+k[4]+1272893353&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^I)+k[7]+4139469664&4294967295,D=O+(A<<16&4294967295|A>>>16),A=I+(D^O^T)+k[10]+3200236656&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(I^D^O)+k[13]+681279174&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^D)+k[0]+3936430074&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^I)+k[3]+3572445317&4294967295,D=O+(A<<16&4294967295|A>>>16),A=I+(D^O^T)+k[6]+76029189&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(I^D^O)+k[9]+3654602809&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^D)+k[12]+3873151461&4294967295,O=T+(A<<11&4294967295|A>>>21),A=D+(O^T^I)+k[15]+530742520&4294967295,D=O+(A<<16&4294967295|A>>>16),A=I+(D^O^T)+k[2]+3299628645&4294967295,I=D+(A<<23&4294967295|A>>>9),A=T+(D^(I|~O))+k[0]+4096336452&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~D))+k[7]+1126891415&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~I))+k[14]+2878612391&4294967295,D=O+(A<<15&4294967295|A>>>17),A=I+(O^(D|~T))+k[5]+4237533241&4294967295,I=D+(A<<21&4294967295|A>>>11),A=T+(D^(I|~O))+k[12]+1700485571&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~D))+k[3]+2399980690&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~I))+k[10]+4293915773&4294967295,D=O+(A<<15&4294967295|A>>>17),A=I+(O^(D|~T))+k[1]+2240044497&4294967295,I=D+(A<<21&4294967295|A>>>11),A=T+(D^(I|~O))+k[8]+1873313359&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~D))+k[15]+4264355552&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~I))+k[6]+2734768916&4294967295,D=O+(A<<15&4294967295|A>>>17),A=I+(O^(D|~T))+k[13]+1309151649&4294967295,I=D+(A<<21&4294967295|A>>>11),A=T+(D^(I|~O))+k[4]+4149444226&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~D))+k[11]+3174756917&4294967295,O=T+(A<<10&4294967295|A>>>22),A=D+(T^(O|~I))+k[2]+718787259&4294967295,D=O+(A<<15&4294967295|A>>>17),A=I+(O^(D|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+O&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var I=T-this.blockSize,k=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=I;)a(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<T;)if(k[D++]=x.charCodeAt(O++),D==this.blockSize){a(this,k),D=0;break}}else for(;O<T;)if(k[D++]=x[O++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var I=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=I&255,I/=256;for(this.u(x),x=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)x[I++]=this.g[T]>>>k&255;return x};function u(x,T){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=T(x)}function h(x,T){this.h=T;for(var I=[],k=!0,D=x.length-1;0<=D;D--){var O=x[D]|0;k&&O==T||(I[D]=O,k=!1)}this.g=I}var m={};function g(x){return-128<=x&&128>x?u(x,function(T){return new h([T|0],0>T?-1:0)}):new h([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return U(v(-x));for(var T=[],I=1,k=0;x>=I;k++)T[k]=x/I|0,I*=4294967296;return new h(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return U(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(T,8)),k=R,D=0;D<x.length;D+=8){var O=Math.min(8,x.length-D),A=parseInt(x.substring(D,D+O),T);8>O?(O=v(Math.pow(T,O)),k=k.j(O).add(v(A))):(k=k.j(I),k=k.add(v(A)))}return k}var R=g(0),C=g(1),L=g(16777216);i=h.prototype,i.m=function(){if($(this))return-U(this).m();for(var x=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(B(this))return"0";if($(this))return"-"+U(this).toString(x);for(var T=v(Math.pow(x,6)),I=this,k="";;){var D=ce(I,T).g;I=H(I,D.j(T));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=D,B(I))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function B(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function $(x){return x.h==-1}i.l=function(x){return x=H(this,x),$(x)?-1:B(x)?0:1};function U(x){for(var T=x.g.length,I=[],k=0;k<T;k++)I[k]=~x.g[k];return new h(I,~x.h).add(C)}i.abs=function(){return $(this)?U(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0,D=0;D<=T;D++){var O=k+(this.i(D)&65535)+(x.i(D)&65535),A=(O>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);k=A>>>16,O&=65535,A&=65535,I[D]=A<<16|O}return new h(I,I[I.length-1]&-2147483648?-1:0)};function H(x,T){return x.add(U(T))}i.j=function(x){if(B(this)||B(x))return R;if($(this))return $(x)?U(this).j(U(x)):U(U(this).j(x));if($(x))return U(this.j(U(x)));if(0>this.l(L)&&0>x.l(L))return v(this.m()*x.m());for(var T=this.g.length+x.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<x.g.length;D++){var O=this.i(k)>>>16,A=this.i(k)&65535,tt=x.i(D)>>>16,kt=x.i(D)&65535;I[2*k+2*D]+=A*kt,K(I,2*k+2*D),I[2*k+2*D+1]+=O*kt,K(I,2*k+2*D+1),I[2*k+2*D+1]+=A*tt,K(I,2*k+2*D+1),I[2*k+2*D+2]+=O*tt,K(I,2*k+2*D+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new h(I,0)};function K(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function ne(x,T){this.g=x,this.h=T}function ce(x,T){if(B(T))throw Error("division by zero");if(B(x))return new ne(R,R);if($(x))return T=ce(U(x),T),new ne(U(T.g),U(T.h));if($(T))return T=ce(x,U(T)),new ne(U(T.g),T.h);if(30<x.g.length){if($(x)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var I=C,k=T;0>=k.l(x);)I=Ae(I),k=Ae(k);var D=Te(I,1),O=Te(k,1);for(k=Te(k,2),I=Te(I,2);!B(k);){var A=O.add(k);0>=A.l(x)&&(D=D.add(I),O=A),k=Te(k,1),I=Te(I,1)}return T=H(x,D.j(T)),new ne(D,T)}for(D=R;0<=x.l(T);){for(I=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=v(I),A=O.j(T);$(A)||0<A.l(x);)I-=k,O=v(I),A=O.j(T);B(O)&&(O=C),D=D.add(O),x=H(x,A)}return new ne(D,x)}i.A=function(x){return ce(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&x.i(k);return new h(I,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|x.i(k);return new h(I,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^x.i(k);return new h(I,this.h^x.h)};function Ae(x){for(var T=x.g.length+1,I=[],k=0;k<T;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(I,x.h)}function Te(x,T){var I=T>>5;T%=32;for(var k=x.g.length-I,D=[],O=0;O<k;O++)D[O]=0<T?x.i(O+I)>>>T|x.i(O+I+1)<<32-T:x.i(O+I);return new h(D,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,fg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Di=h}).apply(typeof Jp<"u"?Jp:typeof self<"u"?self:typeof window<"u"?window:{});var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dg,Yo,pg,Hl,Ih,mg,gg,yg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ul=="object"&&Ul];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],d=d(E),d!=E&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function u(l,d){l instanceof String&&(l+="");var y=0,E=!1,M={next:function(){if(!E&&y<l.length){var j=y++;return{value:d(j,l[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return u(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,y){return l.call.apply(l.bind,arguments)}function R(l,d,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function C(l,d,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,C.apply(null,arguments)}function L(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function B(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,M,j){for(var ee=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ee[ze-2]=arguments[ze];return d.prototype[M].apply(E,ee)}}function $(l){const d=l.length;if(0<d){const y=Array(d);for(let E=0;E<d;E++)y[E]=l[E];return y}return[]}function U(l,d){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=l.length||0,j=E.length||0;l.length=M+j;for(let ee=0;ee<j;ee++)l[M+ee]=E[ee]}else l.push(E)}}class H{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(l){return/^[\s\xa0]*$/.test(l)}function ne(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function ce(l){return ce[" "](l),l}ce[" "]=function(){};var Ae=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Te(l,d,y){for(const E in l)d.call(y,l[E],E,l)}function x(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let j=0;j<I.length;j++)y=I[j],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function D(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function O(l){m.setTimeout(()=>{throw l},0)}function A(){var l=de;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class tt{constructor(){this.h=this.g=null}add(d,y){const E=kt.get();E.set(d,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new H(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,te=!1,de=new tt,ie=()=>{const l=m.Promise.resolve(void 0);Be=()=>{l.then(N)}};var N=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){O(y)}var d=kt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}te=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Ie(l,d){if(he.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ae){e:{try{ce(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}B(Ie,he);var xe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function je(l,d,y,E,M){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!E,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Xn(l){this.src=l,this.g={},this.h=0}Xn.prototype.add=function(l,d,y,E,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var ee=wr(l,d,E,M);return-1<ee?(d=l[ee],y||(d.fa=!1)):(d=new je(d,this.src,j,!!E,M),d.fa=y,l.push(d)),d};function bi(l,d){var y=d.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,d,void 0),j;(j=0<=M)&&Array.prototype.splice.call(E,M,1),j&&(gt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function wr(l,d,y,E){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==d&&j.capture==!!y&&j.ha==E)return M}return-1}var ni="closure_lm_"+(1e6*Math.random()|0),ji={};function Zs(l,d,y,E,M){if(Array.isArray(d)){for(var j=0;j<d.length;j++)Zs(l,d[j],y,E,M);return null}return y=no(y),l&&l[Me]?l.K(d,y,v(E)?!!E.capture:!!E,M):eo(l,d,y,!1,E,M)}function eo(l,d,y,E,M,j){if(!d)throw Error("Invalid event type");var ee=v(M)?!!M.capture:!!M,ze=qi(l);if(ze||(l[ni]=ze=new Xn(l)),y=ze.add(d,y,E,ee,j),y.proxy)return y;if(E=wa(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Se||(M=ee),M===void 0&&(M=!1),l.addEventListener(d.toString(),E,M);else if(l.attachEvent)l.attachEvent(Jn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function wa(){function l(y){return d.call(l.src,l.listener,y)}const d=to;return l}function $i(l,d,y,E,M){if(Array.isArray(d))for(var j=0;j<d.length;j++)$i(l,d[j],y,E,M);else E=v(E)?!!E.capture:!!E,y=no(y),l&&l[Me]?(l=l.i,d=String(d).toString(),d in l.g&&(j=l.g[d],y=wr(j,y,E,M),-1<y&&(gt(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete l.g[d],l.h--)))):l&&(l=qi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=wr(d,y,E,M)),(y=-1<l?d[l]:null)&&Yn(y))}function Yn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Me])bi(d.i,l);else{var y=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(y,E,l.capture):d.detachEvent?d.detachEvent(Jn(y),E):d.addListener&&d.removeListener&&d.removeListener(E),(y=qi(d))?(bi(y,l),y.h==0&&(y.src=null,d[ni]=null)):gt(l)}}}function Jn(l){return l in ji?ji[l]:ji[l]="on"+l}function to(l,d){if(l.da)l=!0;else{d=new Ie(d,this);var y=l.listener,E=l.ha||l.src;l.fa&&Yn(l),l=y.call(E,d)}return l}function qi(l){return l=l[ni],l instanceof Xn?l:null}var Hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function no(l){return typeof l=="function"?l:(l[Hi]||(l[Hi]=function(d){return l.handleEvent(d)}),l[Hi])}function lt(){Q.call(this),this.i=new Xn(this),this.M=this,this.F=null}B(lt,Q),lt.prototype[Me]=!0,lt.prototype.removeEventListener=function(l,d,y,E){$i(this,l,d,y,E)};function ut(l,d){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new he(d,l);else if(d instanceof he)d.target=d.target||l;else{var M=d;d=new he(E,l),k(d,M)}if(M=!0,y)for(var j=y.length-1;0<=j;j--){var ee=d.g=y[j];M=Zn(ee,E,!0,d)&&M}if(ee=d.g=l,M=Zn(ee,E,!0,d)&&M,M=Zn(ee,E,!1,d)&&M,y)for(j=0;j<y.length;j++)ee=d.g=y[j],M=Zn(ee,E,!1,d)&&M}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],E=0;E<y.length;E++)gt(y[E]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,y,E){return this.i.add(String(l),d,!1,y,E)},lt.prototype.L=function(l,d,y,E){return this.i.add(String(l),d,!0,y,E)};function Zn(l,d,y,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,j=0;j<d.length;++j){var ee=d[j];if(ee&&!ee.da&&ee.capture==y){var ze=ee.listener,ct=ee.ha||ee.src;ee.fa&&bi(l.i,ee),M=ze.call(ct,E)!==!1&&M}}return M&&!E.defaultPrevented}function ro(l,d,y){if(typeof l=="function")y&&(l=C(l,y));else if(l&&typeof l.handleEvent=="function")l=C(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function Tr(l){l.g=ro(()=>{l.g=null,l.i&&(l.i=!1,Tr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ri extends Q{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(l){Q.call(this),this.h=l,this.g={}}B(ii,Q);var io=[];function so(l){Te(l.g,function(d,y){this.g.hasOwnProperty(y)&&Yn(d)},l),l.g={}}ii.prototype.N=function(){ii.aa.N.call(this),so(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oo=m.JSON.stringify,ao=m.JSON.parse,lo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function si(){}si.prototype.h=null;function Wi(l){return l.h||(l.h=l.i())}function Qi(){}var on={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){he.call(this,"d")}B(Ln,he);function Ki(){he.call(this,"c")}B(Ki,he);var On={},uo=null;function oi(){return uo=uo||new lt}On.La="serverreachability";function co(l){he.call(this,On.La,l)}B(co,he);function er(l){const d=oi();ut(d,new co(d))}On.STAT_EVENT="statevent";function ho(l,d){he.call(this,On.STAT_EVENT,l),this.stat=d}B(ho,he);function nt(l){const d=oi();ut(d,new ho(d,l))}On.Ma="timingevent";function Gi(l,d){he.call(this,On.Ma,l),this.size=d}B(Gi,he);function yn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ai(){this.g=!0}ai.prototype.xa=function(){this.g=!1};function li(l,d,y,E,M,j){l.info(function(){if(l.g)if(j)for(var ee="",ze=j.split("&"),ct=0;ct<ze.length;ct++){var Ve=ze[ct].split("=");if(1<Ve.length){var yt=Ve[0];Ve=Ve[1];var st=yt.split("_");ee=2<=st.length&&st[1]=="type"?ee+(yt+"="+Ve+"&"):ee+(yt+"=redacted&")}}else ee=null;else ee=j;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+d+`
`+y+`
`+ee})}function Xi(l,d,y,E,M,j,ee){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+d+`
`+y+`
`+j+" "+ee})}function vn(l,d,y,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+ku(l,y)+(E?" "+E:"")})}function fo(l,d){l.info(function(){return"TIMEOUT: "+d})}ai.prototype.info=function(){};function ku(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ee=1;ee<M.length;ee++)M[ee]=""}}}}return oo(y)}catch{return d}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ta={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_n;function ui(){}B(ui,si),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},_n=new ui;function En(l,d,y,E){this.j=l,this.i=d,this.l=y,this.R=E||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sa}function Sa(){this.i=null,this.g="",this.h=!1}var po={},Ji={};function Zi(l,d,y){l.L=1,l.v=Cr(Jt(d)),l.m=y,l.P=!0,mo(l,null)}function mo(l,d){l.F=Date.now(),$e(l),l.A=Jt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),kr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Sa,l.g=ba(l.j,y?d:null,!l.m),0<l.O&&(l.M=new ri(C(l.Y,l,l.g),l.O)),d=l.U,y=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(io[0]=M.toString()),M=io);for(var j=0;j<M.length;j++){var ee=Zs(y,M[j],E||d.handleEvent,!1,d.h||d);if(!ee)break;d.g[ee.key]=ee}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),er(),li(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const d=this.M;d&&$t(l)==3?d.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var d=this.g.Ba();const un=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||wo(this.g)))){this.J||st!=4||d==7||(d==8||0>=un?er(3):er(2)),ci(this);var y=this.g.Z();this.X=y;t:if(Ia(this)){var E=wo(this.g);l="";var M=E.length,j=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Sr(this);var ee="";break t}this.h.i=new m.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(j&&d==M-1)});E.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,Xi(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,ct=this.g;if((ze=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ze)){var Ve=ze;break t}}Ve=null}if(y=Ve)vn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,go(this,y);else{this.o=!1,this.s=3,nt(12),an(this),Sr(this);break e}}if(this.P){y=!0;let en;for(;!this.J&&this.C<ee.length;)if(en=xu(this,ee),en==Ji){st==4&&(this.s=4,nt(14),y=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==po){this.s=4,nt(15),vn(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else vn(this.i,this.l,en,null),go(this,en);if(Ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||ee.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)vn(this.i,this.l,ee,"[Invalid Chunked Response]"),an(this),Sr(this);else if(0<ee.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),So(yt),yt.M=!0,nt(11))}}else vn(this.i,this.l,ee,null),go(this,ee);st==4&&an(this),this.o&&!this.J&&(st==4?cs(this.j,this):(this.o=!1,$e(this)))}else ss(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),an(this),Sr(this)}}}catch{}finally{}};function Ia(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function xu(l,d){var y=l.C,E=d.indexOf(`
`,y);return E==-1?Ji:(y=Number(d.substring(y,E)),isNaN(y)?po:(E+=1,E+y>d.length?Ji:(d=d.slice(E,E+y),l.C=E+y,d)))}En.prototype.cancel=function(){this.J=!0,an(this)};function $e(l){l.S=Date.now()+l.I,Ra(l,l.I)}function Ra(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yn(C(l.ba,l),d)}function ci(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(fo(this.i,this.A),this.L!=2&&(er(),nt(17)),an(this),this.s=2,Sr(this)):Ra(this,this.S-l)};function Sr(l){l.j.G==0||l.J||cs(l.j,l)}function an(l){ci(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,so(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function go(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||Ut(y.h,l))){if(!l.K&&Ut(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)us(y),Rn(y);else break e;ls(y),nt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=yn(C(y.Za,y),6e3));if(1>=Ca(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else sr(y,11)}else if((l.K||y.g==l)&&us(y),!K(d))for(M=y.Da.g.parse(d),d=0;d<M.length;d++){let Ve=M[d];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const yt=Ve[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=Ve[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const un=Ve[5];un!=null&&typeof un=="number"&&0<un&&(E=1.5*un,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const en=l.g;if(en){const yi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var j=E.h;j.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(yo(j,j.h),j.h=null))}if(E.D){const fs=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;fs&&(E.ya=fs,be(E.I,E.D,fs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ee=l;if(E.qa=Ba(E,E.J?E.ia:null,E.W),ee.K){Pa(E.h,ee);var ze=ee,ct=E.L;ct&&(ze.I=ct),ze.B&&(ci(ze),$e(ze)),E.g=ee}else gi(E);0<y.i.length&&zn(y)}else Ve[0]!="stop"&&Ve[0]!="close"||sr(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?sr(y,7):St(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}er(4)}catch{}}var Aa=class{constructor(l,d){this.g=l,this.map=d}};function hi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ca(l){return l.h?1:l.g?l.g.size:0}function Ut(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function yo(l,d){l.g?l.g.add(d):l.h=d}function Pa(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}hi.prototype.cancel=function(){if(this.i=ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ka(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return $(l.i)}function es(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,E=0;E<y;E++)d.push(l[E]);return d}d=[],y=0;for(E in l)d[y++]=l[E];return d}function ts(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const E in l)d[y++]=E;return d}}}function Ir(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=ts(l),E=es(l),M=E.length,j=0;j<M;j++)d.call(void 0,E[j],y&&y[j],l)}var fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),M=null;if(0<=E){var j=l[y].substring(0,E);M=l[y].substring(E+1)}else j=l[y];d(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function tr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof tr){this.h=l.h,di(this,l.j),this.o=l.o,this.g=l.g,Rr(this,l.s),this.l=l.l;var d=l.i,y=new Mn;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Ar(this,y),this.m=l.m}else l&&(d=String(l).match(fi))?(this.h=!1,di(this,d[1]||"",!0),this.o=Pe(d[2]||""),this.g=Pe(d[3]||"",!0),Rr(this,d[4]),this.l=Pe(d[5]||"",!0),Ar(this,d[6]||"",!0),this.m=Pe(d[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}tr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Pr(d,ns,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Pr(d,ns,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Pr(y,y.charAt(0)=="/"?Da:Va,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Pr(y,vo)),l.join("")};function Jt(l){return new tr(l)}function di(l,d,y){l.j=y?Pe(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Rr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Ar(l,d,y){d instanceof Mn?(l.i=d,Fn(l.i,l.h)):(y||(d=Pr(d,Na)),l.i=new Mn(d,l.h))}function be(l,d,y){l.i.set(d,y)}function Cr(l){return be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,xa),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function xa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ns=/[#\/\?@]/g,Va=/[#\?:]/g,Da=/[#\?]/g,Na=/[#\?@]/g,vo=/#/g;function Mn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&Vu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=Mn.prototype,i.add=function(l,d){Tt(this),this.i=null,l=ln(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function wn(l,d){Tt(l),d=ln(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Tn(l,d){return Tt(l),d=ln(l,d),l.g.has(d)}i.forEach=function(l,d){Tt(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(d,M,E,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let E=0;E<d.length;E++){const M=l[E];for(let j=0;j<M.length;j++)y.push(d[E])}return y},i.V=function(l){Tt(this);let d=[];if(typeof l=="string")Tn(this,l)&&(d=d.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return Tt(this),this.i=null,l=ln(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function kr(l,d,y){wn(l,d),0<y.length&&(l.i=null,l.g.set(ln(l,d),$(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var E=d[y];const j=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var M=j;ee[E]!==""&&(M+="="+encodeURIComponent(String(ee[E]))),l.push(M)}}return this.i=l.join("&")};function ln(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Fn(l,d){d&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(wn(this,E),kr(this,M,y))},l)),l.j=d}function Du(l,d){const y=new ai;if(m.Image){const E=new Image;E.onload=L(jt,y,"TestLoadImage: loaded",!0,d,E),E.onerror=L(jt,y,"TestLoadImage: error",!1,d,E),E.onabort=L(jt,y,"TestLoadImage: abort",!1,d,E),E.ontimeout=L(jt,y,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function La(l,d){const y=new ai,E=new AbortController,M=setTimeout(()=>{E.abort(),jt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(j=>{clearTimeout(M),j.ok?jt(y,"TestPingServer: ok",!0,d):jt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),jt(y,"TestPingServer: error",!1,d)})}function jt(l,d,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function Nu(){this.g=new lo}function Oa(l,d,y){const E=y||"";try{Ir(l,function(M,j){let ee=M;v(M)&&(ee=oo(M)),d.push(E+j+"="+encodeURIComponent(ee))})}catch(M){throw d.push(E+"type="+encodeURIComponent("_badmap")),M}}function nr(l){this.l=l.Ub||null,this.j=l.eb||!1}B(nr,si),nr.prototype.g=function(){return new pi(this.l,this.j)},nr.prototype.i=function(l){return function(){return l}}({});function pi(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(pi,lt),i=pi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ma(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ma(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Sn(this):In(this),this.readyState==3&&Ma(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rr(l){let d="";return Te(l,function(y,E){d+=E,d+=":",d+=y,d+=`\r
`}),d}function xr(l,d,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=rr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):be(l,d,y))}function Qe(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Qe,lt);var Lu=/^https?$/i,_o=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_n.g(),this.v=this.o?Wi(this.o):Wi(_n),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){mi(this,j);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())y.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(_o,d,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ee]of y)this.g.setRequestHeader(j,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{is(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){mi(this,j)}};function mi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,rs(l),Zt(l)}function rs(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Eo(this):this.bb())},i.bb=function(){Eo(this)};function Eo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)ro(l.Ea,0,l);else if(ut(l,"readystatechange"),$t(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var E;if(E=ee===0){var M=String(l.D).match(fi)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!Lu.test(M?M.toLowerCase():"")}y=E}if(y)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var j=2<$t(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",rs(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){is(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{y.onreadystatechange=E}catch{}}}function is(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),ao(d)}};function wo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(l){const d={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(K(l[E]))continue;var y=D(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=d[M]||[];d[M]=j,j.push(y)}x(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function To(l){this.Aa=0,this.i=[],this.j=new ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Un("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Un("baseRetryDelayMs",5e3,l),this.cb=Un("retryDelaySeedMs",1e4,l),this.Wa=Un("forwardChannelMaxRetries",2,l),this.wa=Un("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(l&&l.concurrentRequestLimit),this.Da=new Nu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=To.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,E){nt(0),this.W=l,this.H=d||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ba(this,null,this.W),zn(this)};function St(l){if(os(l),l.G==3){var d=l.U++,y=Jt(l.I);if(be(y,"SID",l.K),be(y,"RID",d),be(y,"TYPE","terminate"),ir(l,y),d=new En(l,l.j,d),d.L=2,d.v=Cr(Jt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=ba(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$e(d)}za(l)}function Rn(l){l.g&&(So(l),l.g.cancel(),l.g=null)}function os(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),us(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function zn(l){if(!Yt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Be||ie(),te||(Be(),te=!0),de.add(d,l),l.B=0}}function Ou(l,d){return Ca(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yn(C(l.Ga,l,d),Ua(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new En(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Vr(this,M,d),y=Jt(this.I),be(y,"RID",l),be(y,"CVER",22),this.D&&be(y,"X-HTTP-Session-Id",this.D),ir(this,y),j&&(this.O?d="headers="+encodeURIComponent(String(rr(j)))+"&"+d:this.m&&xr(y,this.m,j)),yo(this.h,M),this.Ua&&be(y,"TYPE","init"),this.P?(be(y,"$req",d),be(y,"SID","null"),M.T=!0,Zi(M,y,null)):Zi(M,y,d),this.G=2}}else this.G==3&&(l?as(this,l):this.i.length==0||Yt(this.h)||as(this))};function as(l,d){var y;d?y=d.l:y=l.U++;const E=Jt(l.I);be(E,"SID",l.K),be(E,"RID",y),be(E,"AID",l.T),ir(l,E),l.m&&l.o&&xr(E,l.m,l.o),y=new En(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Vr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),yo(l.h,y),Zi(y,E,d)}function ir(l,d){l.H&&Te(l.H,function(y,E){be(d,E,y)}),l.l&&Ir({},function(y,E){be(d,E,y)})}function Vr(l,d,y){y=Math.min(l.i.length,y);var E=l.l?C(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const ee=["count="+y];j==-1?0<y?(j=M[0].g,ee.push("ofs="+j)):j=0:ee.push("ofs="+j);let ze=!0;for(let ct=0;ct<y;ct++){let Ve=M[ct].g;const yt=M[ct].map;if(Ve-=j,0>Ve)j=Math.max(0,M[ct].g-100),ze=!1;else try{Oa(yt,ee,"req"+Ve+"_")}catch{E&&E(yt)}}if(ze){E=ee.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,E}function gi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Be||ie(),te||(Be(),te=!0),de.add(d,l),l.v=0}}function ls(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yn(C(l.Fa,l),Ua(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Fa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yn(C(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Rn(this),Fa(this))};function So(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Fa(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);be(d,"RID","rpc"),be(d,"SID",l.K),be(d,"AID",l.T),be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&be(d,"TO",l.ja),be(d,"TYPE","xmlhttp"),ir(l,d),l.m&&l.o&&xr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Cr(Jt(d)),y.m=null,y.P=!0,mo(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),ls(this),nt(19))};function us(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function cs(l,d){var y=null;if(l.g==d){us(l),So(l),l.g=null;var E=2}else if(Ut(l.h,d))y=d.D,Pa(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;E=oi(),ut(E,new Gi(E,y)),zn(l)}else gi(l);else if(M=d.s,M==3||M==0&&0<d.X||!(E==1&&Ou(l,d)||E==2&&ls(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),M){case 1:sr(l,5);break;case 4:sr(l,10);break;case 3:sr(l,6);break;default:sr(l,2)}}}function Ua(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function sr(l,d){if(l.j.info("Error code "+d),d==2){var y=C(l.fb,l),E=l.Xa;const M=!E;E=new tr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||di(E,"https"),Cr(E),M?Du(E.toString(),y):La(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(d),za(l),os(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function za(l){if(l.G=0,l.ka=[],l.l){const d=ka(l.h);(d.length!=0||l.i.length!=0)&&(U(l.ka,d),U(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function Ba(l,d,y){var E=y instanceof tr?Jt(y):new tr(y);if(E.g!="")d&&(E.g=d+"."+E.g),Rr(E,E.s);else{var M=m.location;E=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var j=new tr(null);E&&di(j,E),d&&(j.g=d),M&&Rr(j,M),y&&(j.l=y),E=j}return y=l.D,d=l.ya,y&&d&&be(E,y,d),be(E,"VER",l.la),ir(l,E),E}function ba(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new nr({eb:y})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}i=Io.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function hs(){}hs.prototype.g=function(l,d){return new zt(l,d)};function zt(l,d){lt.call(this),this.g=new To(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!K(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Bn(this)}B(zt,lt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){St(this.g)},zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=oo(l),l=y);d.i.push(new Aa(d.Ya++,l)),d.G==3&&zn(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,zt.aa.N.call(this)};function ja(l){Ln.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}B(ja,Ln);function $a(){Ki.call(this),this.status=1}B($a,Ki);function Bn(l){this.g=l}B(Bn,Io),Bn.prototype.ua=function(){ut(this.g,"a")},Bn.prototype.ta=function(l){ut(this.g,new ja(l))},Bn.prototype.sa=function(l){ut(this.g,new $a)},Bn.prototype.ra=function(){ut(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,yg=function(){return new hs},gg=function(){return oi()},mg=On,Ih={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Hl=Yi,Ta.COMPLETE="complete",pg=Ta,Qi.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Yo=Qi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,dg=Qe}).apply(typeof Ul<"u"?Ul:typeof self<"u"?self:typeof window<"u"?window:{});const Zp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new og("@firebase/firestore");function Ns(){return Ni.logLevel}function se(i,...e){if(Ni.logLevel<=Ne.DEBUG){const n=e.map(Qh);Ni.debug(`Firestore (${Gs}): ${i}`,...n)}}function vr(i,...e){if(Ni.logLevel<=Ne.ERROR){const n=e.map(Qh);Ni.error(`Firestore (${Gs}): ${i}`,...n)}}function Bs(i,...e){if(Ni.logLevel<=Ne.WARN){const n=e.map(Qh);Ni.warn(`Firestore (${Gs}): ${i}`,...n)}}function Qh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i="Unexpected state"){const e=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: `+i;throw vr(e),new Error(e)}function Ue(i,e){i||ve()}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class XE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YE{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string"),new vg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Mt(e)}}class JE{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ZE{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new JE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ue(this.o===void 0);const s=u=>{u.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new ew(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=nw(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%e.length))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function bs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new pt(0,0))}static max(){return new _e(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return la.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof la?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=e.get(a),h=n.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends la{construct(e,n,s){return new Ge(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const rw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends la{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return rw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(u(),a++)}if(u(),h)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ge.fromString(e))}static fromName(e){return new ge(Ge.fromString(e).popFirst(5))}static empty(){return new ge(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ge(e.slice()))}}function iw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Yr(a,ge.empty(),e)}function sw(i){return new Yr(i.readTime,i.key,-1)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(_e.min(),ge.empty(),-1)}static max(){return new Yr(_e.max(),ge.empty(),-1)}}function ow(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==aw)throw i;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&n()},g=>s(g))}),h=!0,u===a&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(a=>a?W.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,a)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next(w=>{h[v]=w,++m,m===u&&s(h)},w=>a(w))}})}static doWhile(e,n){return new W((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function uw(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ys(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pu.oe=-1;function mu(i){return i==null}function nu(i){return i===0&&1/i==-1/0}function cw(i){return typeof i=="number"&&Number.isInteger(i)&&!nu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=em(e)),e=fw(i.get(n),e);return em(e)}function fw(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function em(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Fi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Eg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zl(this.root,e,this.comparator,!0)}}class zl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=u??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new At(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,a,u){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nm(this.data.getIterator())}getIteratorFrom(e){return new nm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class nm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new mt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wg("Invalid base64 string: "+u):u}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const dw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(i){if(Ue(!!i),typeof i=="string"){let e=0;const n=dw.exec(i);if(Ue(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zr(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gu(i){const e=i.mapValue.fields.__previous_value__;return Kh(e)?gu(e):e}function ua(i){const e=Jr(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,s,a,u,h,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v}}class ca{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ei(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kh(i)?4:gw(i)?9007199254740991:mw(i)?10:11:ve()}function Qn(i,e){if(i===e)return!0;const n=ei(i);if(n!==ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ua(i).isEqual(ua(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=Jr(a.timestampValue),m=Jr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return Zr(a.bytesValue).isEqual(Zr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return it(a.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return it(a.integerValue)===it(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=it(a.doubleValue),m=it(u.doubleValue);return h===m?nu(h)===nu(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return bs(i.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(tm(h)!==tm(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Qn(h[g],m[g])))return!1;return!0}(i,e);default:return ve()}}function ha(i,e){return(i.values||[]).find(n=>Qn(n,e))!==void 0}function js(i,e){if(i===e)return 0;const n=ei(i),s=ei(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=it(u.integerValue||u.doubleValue),g=it(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return rm(i.timestampValue,e.timestampValue);case 4:return rm(ua(i),ua(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Zr(u),g=Zr(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const w=ke(m[v],g[v]);if(w!==0)return w}return ke(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=ke(it(u.latitude),it(h.latitude));return m!==0?m:ke(it(u.longitude),it(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return im(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,v,w;const R=u.fields||{},C=h.fields||{},L=(m=R.value)===null||m===void 0?void 0:m.arrayValue,B=(g=C.value)===null||g===void 0?void 0:g.arrayValue,$=ke(((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0,((w=B==null?void 0:B.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:im(L,B)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Bl.mapValue&&h===Bl.mapValue)return 0;if(u===Bl.mapValue)return 1;if(h===Bl.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let R=0;R<g.length&&R<w.length;++R){const C=ke(g[R],w[R]);if(C!==0)return C;const L=js(m[g[R]],v[w[R]]);if(L!==0)return L}return ke(g.length,w.length)}(i.mapValue,e.mapValue);default:throw ve()}}function rm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=Jr(i),s=Jr(e),a=ke(n.seconds,s.seconds);return a!==0?a:ke(n.nanos,s.nanos)}function im(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=js(n[a],s[a]);if(u)return u}return ke(n.length,s.length)}function $s(i){return Rh(i)}function Rh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Zr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=Rh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${Rh(n.fields[h])}`;return a+"}"}(i.mapValue):ve()}function Wl(i){switch(ei(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gu(i);return e?16+Wl(e):16;case 5:return 2*i.stringValue.length;case 6:return Zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+Wl(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Fi(s.fields,(u,h)=>{a+=u.length+Wl(h)}),a}(i.mapValue);default:throw ve()}}function Ah(i){return!!i&&"integerValue"in i}function Gh(i){return!!i&&"arrayValue"in i}function sm(i){return!!i&&"nullValue"in i}function om(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ql(i){return!!i&&"mapValue"in i}function mw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ta(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fi(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ta(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ta(i.arrayValue.values[n]);return e}return Object.assign({},i)}function gw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ta(n)}setAll(e){let n=Ct.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=ta(h):a.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ql(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Fi(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new gn(ta(this.value))}}function Tg(i){const e=[];return Fi(i.fields,(n,s)=>{const a=new Ct([n]);if(Ql(s)){const u=Tg(s.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,_e.min(),_e.min(),_e.min(),gn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,_e.min(),_e.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,_e.min(),_e.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.position=e,this.inclusive=n}}function am(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=js(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function lm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function yw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{}class dt extends Sg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _w(e,n,s):n==="array-contains"?new Tw(e,s):n==="in"?new Sw(e,s):n==="not-in"?new Iw(e,s):n==="array-contains-any"?new Rw(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Ew(e,s):new ww(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&ei(this.value)===ei(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Sg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kn(e,n)}matches(e){return Ig(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ig(i){return i.op==="and"}function Rg(i){return vw(i)&&Ig(i)}function vw(i){for(const e of i.filters)if(e instanceof Kn)return!1;return!0}function Ch(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+$s(i.value);if(Rg(i))return i.filters.map(e=>Ch(e)).join(",");{const e=i.filters.map(n=>Ch(n)).join(",");return`${i.op}(${e})`}}function Ag(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&Qn(s.value,a.value)}(i,e):i instanceof Kn?function(s,a){return a instanceof Kn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,m)=>u&&Ag(h,a.filters[m]),!0):!1}(i,e):void ve()}function Cg(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(Cg).join(" ,")+"}"}(i):"Filter"}class _w extends dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ew extends dt{constructor(e,n){super(e,"in",n),this.keys=Pg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ww extends dt{constructor(e,n){super(e,"not-in",n),this.keys=Pg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Pg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class Tw extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gh(n)&&ha(n.arrayValue,this.value)}}class Sw extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ha(this.value.arrayValue,n)}}class Iw extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ha(this.value.arrayValue,n)}}class Rw extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ha(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n=null,s=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function um(i,e=null,n=[],s=[],a=null,u=null,h=null){return new Aw(i,e,n,s,a,u,h)}function Xh(i){const e=we(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ch(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$s(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$s(s)).join(",")),e.ue=n}return e.ue}function Yh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!yw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ag(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!lm(i.startAt,e.startAt)&&lm(i.endAt,e.endAt)}function Ph(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,s=[],a=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Cw(i,e,n,s,a,u,h,m){return new yu(i,e,n,s,a,u,h,m)}function Jh(i){return new yu(i)}function cm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Pw(i){return i.collectionGroup!==null}function na(i){const e=we(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new mt(Ct.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new iu(u,s))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new iu(Ct.keyField(),s))}return e.ce}function Hn(i){const e=we(i);return e.le||(e.le=kw(e,na(i))),e.le}function kw(i,e){if(i.limitType==="F")return um(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new iu(a.field,u)});const n=i.endAt?new ru(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ru(i.startAt.position,i.startAt.inclusive):null;return um(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function kh(i,e,n){return new yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function vu(i,e){return Yh(Hn(i),Hn(e))&&i.limitType===e.limitType}function kg(i){return`${Xh(Hn(i))}|lt:${i.limitType}`}function Ls(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Cg(a)).join(", ")}]`),mu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>$s(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>$s(a)).join(",")),`Target(${s})`}(Hn(i))}; limitType=${i.limitType})`}function _u(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of na(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const v=am(h,m,g);return h.inclusive?v<=0:v<0}(s.startAt,na(s),a)||s.endAt&&!function(h,m,g){const v=am(h,m,g);return h.inclusive?v>=0:v>0}(s.endAt,na(s),a))}(i,e)}function xw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function xg(i){return(e,n)=>{let s=!1;for(const a of na(i)){const u=Vw(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function Vw(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,h,m){const g=h.data.field(u),v=m.data.field(u);return g!==null&&v!==null?js(g,v):ve()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return Eg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Ze(ge.comparator);function _r(){return Dw}const Vg=new Ze(ge.comparator);function Jo(...i){let e=Vg;for(const n of i)e=e.insert(n.key,n);return e}function Dg(i){let e=Vg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Vi(){return ra()}function Ng(){return ra()}function ra(){return new Ui(i=>i.toString(),(i,e)=>i.isEqual(e))}const Nw=new Ze(ge.comparator),Lw=new mt(ge.comparator);function Ce(...i){let e=Lw;for(const n of i)e=e.add(n);return e}const Ow=new mt(ke);function Mw(){return Ow}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function Lg(i){return{integerValue:""+i}}function Fw(i,e){return cw(e)?Lg(e):Zh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this._=void 0}}function Uw(i,e,n){return i instanceof su?function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Kh(u)&&(u=gu(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):i instanceof fa?Mg(i,e):i instanceof da?Fg(i,e):function(a,u){const h=Og(a,u),m=hm(h)+hm(a.Pe);return Ah(h)&&Ah(a.Pe)?Lg(m):Zh(a.serializer,m)}(i,e)}function zw(i,e,n){return i instanceof fa?Mg(i,e):i instanceof da?Fg(i,e):n}function Og(i,e){return i instanceof ou?function(s){return Ah(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class su extends Eu{}class fa extends Eu{constructor(e){super(),this.elements=e}}function Mg(i,e){const n=Ug(e);for(const s of i.elements)n.some(a=>Qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class da extends Eu{constructor(e){super(),this.elements=e}}function Fg(i,e){let n=Ug(e);for(const s of i.elements)n=n.filter(a=>!Qn(a,s));return{arrayValue:{values:n}}}class ou extends Eu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hm(i){return it(i.integerValue||i.doubleValue)}function Ug(i){return Gh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Bw(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof fa&&a instanceof fa||s instanceof da&&a instanceof da?bs(s.elements,a.elements,Qn):s instanceof ou&&a instanceof ou?Qn(s.Pe,a.Pe):s instanceof su&&a instanceof su}(i.transform,e.transform)}class bw{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class wu{}function zg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new bg(i.key,gr.none()):new ya(i.key,i.data,gr.none());{const n=i.data,s=gn.empty();let a=new mt(Ct.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new zi(i.key,s,new Dn(a.toArray()),gr.none())}}function jw(i,e,n){i instanceof ya?function(a,u,h){const m=a.value.clone(),g=dm(a.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof zi?function(a,u,h){if(!Kl(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=dm(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Bg(a)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ia(i,e,n,s){return i instanceof ya?function(u,h,m,g){if(!Kl(u.precondition,h))return m;const v=u.value.clone(),w=pm(u.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof zi?function(u,h,m,g){if(!Kl(u.precondition,h))return m;const v=pm(u.fieldTransforms,g,h),w=h.data;return w.setAll(Bg(u)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(u,h,m){return Kl(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function $w(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=Og(s.transform,a||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function fm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&bs(s,a,(u,h)=>Bw(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ya extends wu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zi extends wu{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Bg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function dm(i,e,n){const s=new Map;Ue(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,m=e.data.field(u.field);s.set(u.field,zw(h,m,n[a]))}return s}function pm(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,Uw(u,h,e))}return s}class bg extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qw extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&jw(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ia(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ia(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Ng();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(a.key)?null:m;const g=zg(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(n,s)=>fm(n,s))&&bs(this.baseMutations,e.baseMutations,(n,s)=>fm(n,s))}}class ef{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ue(e.mutations.length===s.length);let a=function(){return Nw}();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,s[h].version);return new ef(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,De;function Kw(i){switch(i){default:return ve();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function jg(i){if(i===void 0)return vr("GRPC error has no .code"),Y.UNKNOWN;switch(i){case at.OK:return Y.OK;case at.CANCELLED:return Y.CANCELLED;case at.UNKNOWN:return Y.UNKNOWN;case at.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case at.INTERNAL:return Y.INTERNAL;case at.UNAVAILABLE:return Y.UNAVAILABLE;case at.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case at.NOT_FOUND:return Y.NOT_FOUND;case at.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case at.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case at.ABORTED:return Y.ABORTED;case at.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case at.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case at.DATA_LOSS:return Y.DATA_LOSS;default:return ve()}}(De=at||(at={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Di([4294967295,4294967295],0);function mm(i){const e=Gw().encode(i),n=new fg;return n.update(e),new Uint8Array(n.digest())}function gm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Di([n,s],0),new Di([a,u],0)]}class tf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zo(`Invalid padding: ${n}`);if(s<0)throw new Zo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Di.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Di.fromNumber(s)));return a.compare(Xw)===1&&(a=new Di([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=mm(e),[s,a]=gm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);if(!this.de(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new tf(u,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Te===0)return;const n=mm(e),[s,a]=gm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Tu(_e.min(),a,new Ze(ke),_r(),Ce())}}class va{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new va(s,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class $g{constructor(e,n){this.targetId=e,this.me=n}}class qg{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class ym{constructor(){this.fe=0,this.ge=vm(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),s=Ce();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ve()}}),new va(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=vm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Yw{constructor(e){this.Le=e,this.Be=new Map,this.ke=_r(),this.qe=bl(),this.Qe=bl(),this.Ke=new Ze(ke)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const u=a.target;if(Ph(u))if(s===0){const h=new ge(u.path);this.We(n,h,Ft.newNoDocument(h,_e.min()))}else Ue(s===1);else{const h=this.Ze(n);if(h!==s){const m=this.Xe(e),g=m?this.et(m,e,h):1;if(g!==0){this.He(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,m;try{h=Zr(s).toUint8Array()}catch(g){if(g instanceof wg)return Bs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new tf(h,a,u)}catch(g){return Bs(g instanceof Zo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const h=this.Le.nt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.We(n,u,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((u,h)=>{const m=this.Ye(h);if(m){if(u.current&&Ph(m.target)){const g=new ge(m.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Ft.newNoDocument(g,e))}u.be&&(n.set(h,u.ve()),u.Ce())}});let s=Ce();this.Qe.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const v=this.Ye(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const a=new Tu(e,n,this.Ke,this.ke,s);return this.ke=_r(),this.qe=bl(),this.Qe=bl(),this.Ke=new Ze(ke),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new ym,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new mt(ke),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(ke),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ym),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bl(){return new Ze(ge.comparator)}function vm(){return new Ze(ge.comparator)}const Jw={asc:"ASCENDING",desc:"DESCENDING"},Zw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e1={and:"AND",or:"OR"};class t1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xh(i,e){return i.useProto3Json||mu(e)?e:{value:e}}function au(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function n1(i,e){return au(i,e.toTimestamp())}function Wn(i){return Ue(!!i),_e.fromTimestamp(function(n){const s=Jr(n);return new pt(s.seconds,s.nanos)}(i))}function nf(i,e){return Vh(i,e).canonicalString()}function Vh(i,e){const n=function(a){return new Ge(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Wg(i){const e=Ge.fromString(i);return Ue(Yg(e)),e}function Dh(i,e){return nf(i.databaseId,e.path)}function fh(i,e){const n=Wg(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(Kg(n))}function Qg(i,e){return nf(i.databaseId,e)}function r1(i){const e=Wg(i);return e.length===4?Ge.emptyPath():Kg(e)}function Nh(i){return new Ge(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Kg(i){return Ue(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function _m(i,e,n){return{name:Dh(i,e),fields:n.value.mapValue.fields}}function i1(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,w){return v.useProto3Json?(Ue(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(Ue(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const w=v.code===void 0?Y.UNKNOWN:jg(v.code);return new fe(w,v.message||"")}(h);n=new qg(s,a,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=fh(i,s.document.name),u=Wn(s.document.updateTime),h=s.document.createTime?Wn(s.document.createTime):_e.min(),m=new gn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,u,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new Gl(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=fh(i,s.document),u=s.readTime?Wn(s.readTime):_e.min(),h=Ft.newNoDocument(a,u),m=s.removedTargetIds||[];n=new Gl([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=fh(i,s.document),u=s.removedTargetIds||[];n=new Gl([],u,a,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new Qw(a,u),m=s.targetId;n=new $g(m,h)}}return n}function s1(i,e){let n;if(e instanceof ya)n={update:_m(i,e.key,e.value)};else if(e instanceof bg)n={delete:Dh(i,e.key)};else if(e instanceof zi)n={update:_m(i,e.key,e.data),updateMask:p1(e.fieldMask)};else{if(!(e instanceof qw))return ve();n={verify:Dh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof su)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof da)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:n1(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve()}(i,e.precondition)),n}function o1(i,e){return i&&i.length>0?(Ue(e!==void 0),i.map(n=>function(a,u){let h=a.updateTime?Wn(a.updateTime):Wn(u);return h.isEqual(_e.min())&&(h=Wn(u)),new bw(h,a.transformResults||[])}(n,e))):[]}function a1(i,e){return{documents:[Qg(i,e.path)]}}function l1(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Qg(i,a);const u=function(v){if(v.length!==0)return Xg(Kn.create(v,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(w=>function(C){return{field:Os(C.field),direction:h1(C.dir)}}(w))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=xh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function u1(i){let e=r1(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ue(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=function(R){const C=Gg(R);return C instanceof Kn&&Rg(C)?C.getFilters():[C]}(n.where));let h=[];n.orderBy&&(h=function(R){return R.map(C=>function(B){return new iu(Ms(B.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(R){let C;return C=typeof R=="object"?R.value:R,mu(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(R){const C=!!R.before,L=R.values||[];return new ru(L,C)}(n.startAt));let v=null;return n.endAt&&(v=function(R){const C=!R.before,L=R.values||[];return new ru(L,C)}(n.endAt)),Cw(e,a,h,u,m,"F",g,v)}function c1(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Gg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ms(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ms(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ms(n.unaryFilter.field);return dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ms(n.unaryFilter.field);return dt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(Ms(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>Gg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(i):ve()}function h1(i){return Jw[i]}function f1(i){return Zw[i]}function d1(i){return e1[i]}function Os(i){return{fieldPath:i.canonicalString()}}function Ms(i){return Ct.fromServerFormat(i.fieldPath)}function Xg(i){return i instanceof dt?function(n){if(n.op==="=="){if(om(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(sm(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(om(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(sm(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:f1(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(a=>Xg(a));return s.length===1?s[0]:{compositeFilter:{op:d1(n.op),filters:s}}}(i):ve()}function p1(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Yg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,a,u=_e.min(),h=_e.min(),m=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.ht=e}}function g1(i){const e=u1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?kh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.ln=new v1}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Yr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class v1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(Ge.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new qs(0)}static Qn(){return new qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm([i,e],[n,s]){const a=ke(i,n);return a===0?ke(e,s):a}class _1{constructor(e){this.Gn=e,this.buffer=new mt(wm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();wm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ys(n)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Xs(n)}await this.Yn(3e5)})}}class w1{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(pu.oe);const s=new _1(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Em)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Em):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,u,h,m,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,h=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(u=R,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(v=Date.now(),Ns()<=Ne.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${R} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:R})))}}function T1(i,e){return new w1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ia(s.mutation,a,Dn.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ce()){const a=Vi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let h=Jo();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ce()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let u=_r();const h=ra(),m=function(){return ra()}();return n.forEach((g,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof zi)?u=u.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),ia(w.mutation,v,w.mutation.getFieldMask(),pt.now())):h.set(v.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,w)=>h.set(v,w)),n.forEach((v,w)=>{var R;return m.set(v,new I1(w,(R=h.get(v))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ra();let a=new Ze((h,m)=>h-m),u=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let w=s.get(g)||Dn.empty();w=m.applyToLocalView(v,w),s.set(g,w);const R=(a.get(m.batchId)||Ce()).add(g);a=a.insert(m.batchId,R)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,w=g.value,R=Ng();w.forEach(C=>{if(!u.has(C)){const L=zg(n.get(C),s.get(C));L!==null&&R.set(C,L),u=u.add(C)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,R))}return W.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Pw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):W.resolve(Vi());let m=-1,g=u;return h.next(v=>W.forEach(v,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(C=>{g=g.insert(w,C)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Ce())).next(w=>({batchId:m,changes:Dg(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let a=Jo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=Jo();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,g=>{const v=function(R,C){return new yu(C,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((R,C)=>{h=h.insert(R,C)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(h=>{u.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let m=Jo();return h.forEach((g,v)=>{const w=u.get(g);w!==void 0&&ia(w.mutation,v,Dn.empty(),pt.now()),_u(n,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Wn(a.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:g1(a.bundledQuery),readTime:Wn(a.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.overlays=new Ze(ge.comparator),this.Er=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vi();return W.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.Tt(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Vi(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new Ze((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=u.get(v.largestBatchId);w===null&&(w=Vi(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Vi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return W.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Ww(n,s));let u=this.Er.get(n);u===void 0&&(u=Ce(),this.Er.set(n,u)),this.Er.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this.dr=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new wt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ge(new Ge([])),s=new wt(n,e),a=new wt(n,e+1),u=[];return this.Rr.forEachInRange([s,a],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ge(new Ge([])),s=new wt(n,e),a=new wt(n,e+1);let u=Ce();return this.Rr.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new wt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ge.comparator(e.key,n.key)||ke(e.br,n.br)}static Vr(e,n){return ke(e.br,n.br)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Hw(u,n,s,a);this.mutationQueue.push(h);for(const m of a)this.vr=this.vr.add(new wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),u=a<0?0:a;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,a],h=>{const m=this.Cr(h.br);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(ke);return n.forEach(a=>{const u=new wt(a,0),h=new wt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],m=>{s=s.add(m.br)})}),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new wt(new ge(u),0);let m=new mt(ke);return this.vr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.br)),!0)},h),W.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ue(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(n.mutations,a=>{const u=new wt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new wt(n,0),a=this.vr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.Nr=e,this.docs=function(){return new Ze(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Ft.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=_r();const h=n.path,m=new ge(h.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||ow(sw(w),s)<=0||(a.has(w.key)||_u(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,a){ve()}Lr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new V1(this)}getSize(e){return W.resolve(this.size)}}class V1 extends S1{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.persistence=e,this.Br=new Ui(n=>Xh(n),Yh),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.kr=0,this.qr=new rf,this.targetCount=0,this.Qr=qs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new qs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Br.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),W.waitFor(u).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new pu(0),this.Ur=!1,this.Ur=!0,this.Wr=new P1,this.referenceDelegate=e(this),this.Gr=new D1(this),this.indexManager=new y1,this.remoteDocumentCache=function(a){return new x1(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new m1(n),this.jr=new A1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new k1(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const a=new N1(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(u=>this.referenceDelegate.Jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Yr(e,n){return W.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class N1 extends lw{constructor(e){super(),this.currentSequenceNumber=e}}class sf{constructor(e){this.persistence=e,this.Zr=new rf,this.Xr=null}static ei(e){return new sf(e)}get ti(){if(this.Xr)return this.Xr;throw ve()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,s=>{const a=ge.fromPath(s);return this.ni(e,a).next(u=>{u||n.removeEntry(a,_e.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class lu{constructor(e,n){this.persistence=e,this.ri=new Ui(s=>hw(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=T1(this,n)}static ei(e,n){return new lu(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return W.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(u=>u?W.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.Lr(e,h=>this.ir(e,h,n).next(m=>{m||(s++,u.removeEntry(h,_e.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wl(e.data.value)),n}ir(e,n,s){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ce(),a=Ce();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new of(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return N0()?8:uw(V0())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.Xi(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,n,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new L1;return this.ts(e,n,h).next(m=>{if(u.result=m,this.Hi)return this.ns(e,n,h,m.size)})}).next(()=>u.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Ns()<=Ne.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Ns()<=Ne.DEBUG&&se("QueryEngine","Query:",Ls(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Ns()<=Ne.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):W.resolve())}Xi(e,n){if(cm(n))return W.resolve(null);let s=Hn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=kh(n,null,"F"),s=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ce(...u);return this.Zi.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.rs(n,m);return this.ss(n,v,h,g.readTime)?this.Xi(e,kh(n,null,"F")):this.os(e,v,n,g)}))})))}es(e,n,s,a){return cm(n)||a.isEqual(_e.min())?W.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(n,u);return this.ss(n,h,s,a)?W.resolve(null):(Ns()<=Ne.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ls(n)),this.os(e,h,n,iw(a,-1)).next(m=>m))})}rs(e,n){let s=new mt(xg(e));return n.forEach((a,u)=>{_u(e,u)&&(s=s.add(u))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ts(e,n,s){return Ns()<=Ne.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Zi.getDocumentsMatchingQuery(e,n,Yr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ze(ke),this.cs=new Ui(u=>Xh(u),Yh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function F1(i,e,n,s){return new M1(i,e,n,s)}async function Zg(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Ce();for(const v of a){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of u){m.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Ts:v,removedBatchIds:h,addedBatchIds:m}))})})}function U1(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,g,v,w){const R=v.batch,C=R.keys();let L=W.resolve();return C.forEach(B=>{L=L.next(()=>w.getEntry(g,B)).next($=>{const U=v.docVersions.get(B);Ue(U!==null),$.version.compareTo(U)<0&&(R.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),w.addEntry($)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(g,R))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ce();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function ey(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function z1(i,e){const n=we(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const C=a.get(R);if(!C)return;m.push(n.Gr.removeMatchingKeys(u,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(u,w.addedDocuments,R)));let L=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?L=L.withResumeToken(Pt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,s)),a=a.insert(R,L),function($,U,H){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(C,L,w)&&m.push(n.Gr.updateTargetData(u,L))});let g=_r(),v=Ce();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))}),m.push(B1(u,h,e.documentUpdates).next(w=>{g=w.Is,v=w.Es})),!s.isEqual(_e.min())){const w=n.Gr.getLastRemoteSnapshotVersion(u).next(R=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(w)}return W.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(n.us=a,u))}function B1(i,e,n){let s=Ce(),a=Ce();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=_r();return n.forEach((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(_e.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):se("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{Is:h,Es:a}})}function b1(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function j1(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(u=>u?(a=u,W.resolve(a)):n.Gr.allocateTargetId(s).next(h=>(a=new Wr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Lh(i,e,n){const s=we(i),a=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Ys(h))throw h;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Tm(i,e,n){const s=we(i);let a=_e.min(),u=Ce();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const R=we(g),C=R.cs.get(w);return C!==void 0?W.resolve(R.us.get(C)):R.Gr.getTargetData(v,w)}(s,h,Hn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?a:_e.min(),n?u:Ce())).next(m=>($1(s,xw(e),m),{documents:m,ds:u})))}function $1(i,e,n){let s=i.ls.get(e)||_e.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.ls.set(e,s)}class Sm{constructor(){this.activeTargetIds=Mw()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q1{constructor(){this._o=new Sm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Sm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl=null;function dh(){return jl===null?jl=function(){return 268435456+Math.round(2147483648*Math.random())}():jl++,"0x"+jl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class K1 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Oo(n,s,a,u,h){const m=dh(),g=this.No(n,s.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,u,h),this.Bo(n,g,v,a).then(w=>(se("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Bs("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",g,"request:",a),w})}ko(n,s,a,u,h,m){return this.Oo(n,s,a,u,h)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>n[h]=u),a&&a.headers.forEach((u,h)=>n[h]=u)}No(n,s){const a=W1[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const u=dh();return new Promise((h,m)=>{const g=new dg;g.setWithCredentials(!0),g.listenOnce(pg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Hl.NO_ERROR:const w=g.getResponseJson();se(Ot,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case Hl.TIMEOUT:se(Ot,`RPC '${e}' ${u} timed out`),m(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Hl.HTTP_ERROR:const R=g.getStatus();if(se(Ot,`RPC '${e}' ${u} failed with status:`,R,"response text:",g.getResponseText()),R>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C==null?void 0:C.error;if(L&&L.status&&L.message){const B=function(U){const H=U.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(H)>=0?H:Y.UNKNOWN}(L.status);m(new fe(B,L.message))}else m(new fe(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{se(Ot,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);se(Ot,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)})}qo(e,n,s){const a=dh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=yg(),m=gg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=u.join("");se(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,g);const R=h.createWebChannel(w,g);let C=!1,L=!1;const B=new Q1({Eo:U=>{L?se(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(C||(se(Ot,`Opening RPC '${e}' stream ${a} transport.`),R.open(),C=!0),se(Ot,`RPC '${e}' stream ${a} sending:`,U),R.send(U))},Ao:()=>R.close()}),$=(U,H,K)=>{U.listen(H,ne=>{try{K(ne)}catch(ce){setTimeout(()=>{throw ce},0)}})};return $(R,Yo.EventType.OPEN,()=>{L||(se(Ot,`RPC '${e}' stream ${a} transport opened.`),B.So())}),$(R,Yo.EventType.CLOSE,()=>{L||(L=!0,se(Ot,`RPC '${e}' stream ${a} transport closed`),B.Do())}),$(R,Yo.EventType.ERROR,U=>{L||(L=!0,Bs(Ot,`RPC '${e}' stream ${a} transport errored:`,U),B.Do(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),$(R,Yo.EventType.MESSAGE,U=>{var H;if(!L){const K=U.data[0];Ue(!!K);const ne=K,ce=(ne==null?void 0:ne.error)||((H=ne[0])===null||H===void 0?void 0:H.error);if(ce){se(Ot,`RPC '${e}' stream ${a} received error:`,ce);const Ae=ce.status;let Te=function(I){const k=at[I];if(k!==void 0)return jg(k)}(Ae),x=ce.message;Te===void 0&&(Te=Y.INTERNAL,x="Unknown error status: "+Ae+" with message "+ce.message),L=!0,B.Do(new fe(Te,x)),R.close()}else se(Ot,`RPC '${e}' stream ${a} received:`,K),B.vo(K)}}),$(m,mg.STAT_EVENT,U=>{U.stat===Ih.PROXY?se(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Ih.NOPROXY&&se(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{B.bo()},0),B}}function ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(i){return new t1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,s=1e3,a=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,s,a,u,h,m,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ty(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new fe(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G1 extends ny{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=i1(this.serializer,e),s=function(u){if(!("targetChange"in u))return _e.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?_e.min():h.readTime?Wn(h.readTime):_e.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Nh(this.serializer),n.addTarget=function(u,h){let m;const g=h.target;if(m=Ph(g)?{documents:a1(u,g)}:{query:l1(u,g).ct},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Hg(u,h.resumeToken);const v=xh(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(_e.min())>0){m.readTime=au(u,h.snapshotVersion.toTimestamp());const v=xh(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=c1(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Nh(this.serializer),n.removeTarget=e,this.c_(n)}}class X1 extends ny{constructor(e,n,s,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=o1(e.writeResults,e.commitTime),s=Wn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Nh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>s1(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Vh(n,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(Y.UNKNOWN,u.toString())})}ko(e,n,s,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.ko(e,Vh(n,s),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(Y.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class J1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(vr(n),this.C_=!1):se("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Bi(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=we(g);v.k_.add(4),await _a(v),v.K_.set("Unknown"),v.k_.delete(4),await Iu(v)}(this))})}),this.K_=new J1(s,a)}}async function Iu(i){if(Bi(i))for(const e of i.q_)await e(!0)}async function _a(i){for(const e of i.q_)await e(!1)}function ry(i,e){const n=we(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),cf(n)?uf(n):Js(n).s_()&&lf(n,e))}function af(i,e){const n=we(i),s=Js(n);n.B_.delete(e),s.s_()&&iy(n,e),n.B_.size===0&&(s.s_()?s.a_():Bi(n)&&n.K_.set("Unknown"))}function lf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Js(i).V_(e)}function iy(i,e){i.U_.xe(e),Js(i).m_(e)}function uf(i){i.U_=new Yw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Js(i).start(),i.K_.F_()}function cf(i){return Bi(i)&&!Js(i).i_()&&i.B_.size>0}function Bi(i){return we(i).k_.size===0}function sy(i){i.U_=void 0}async function eT(i){i.K_.set("Online")}async function tT(i){i.B_.forEach((e,n)=>{lf(i,e)})}async function nT(i,e){sy(i),cf(i)?(i.K_.O_(e),uf(i)):i.K_.set("Unknown")}async function rT(i,e,n){if(i.K_.set("Online"),e instanceof qg&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uu(i,s)}else if(e instanceof Gl?i.U_.$e(e):e instanceof $g?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(_e.min()))try{const s=await ey(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.U_.it(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.B_.get(v);w&&u.B_.set(v,w.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const w=u.B_.get(g);if(!w)return;u.B_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),iy(u,g);const R=new Wr(w.target,g,v,w.sequenceNumber);lf(u,R)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){se("RemoteStore","Failed to raise snapshot:",s),await uu(i,s)}}async function uu(i,e,n){if(!Ys(e))throw e;i.k_.add(1),await _a(i),i.K_.set("Offline"),n||(n=()=>ey(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Iu(i)})}function oy(i,e){return e().catch(n=>uu(i,n,e))}async function Ru(i){const e=we(i),n=ti(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;iT(e);)try{const a=await b1(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,sT(e,a)}catch(a){await uu(e,a)}ay(e)&&ly(e)}function iT(i){return Bi(i)&&i.L_.length<10}function sT(i,e){i.L_.push(e);const n=ti(i);n.s_()&&n.f_&&n.g_(e.mutations)}function ay(i){return Bi(i)&&!ti(i).i_()&&i.L_.length>0}function ly(i){ti(i).start()}async function oT(i){ti(i).w_()}async function aT(i){const e=ti(i);for(const n of i.L_)e.g_(n.mutations)}async function lT(i,e,n){const s=i.L_.shift(),a=ef.from(s,e,n);await oy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Ru(i)}async function uT(i,e){e&&ti(i).f_&&await async function(s,a){if(function(h){return Kw(h)&&h!==Y.ABORTED}(a.code)){const u=s.L_.shift();ti(s).__(),await oy(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a)),await Ru(s)}}(i,e),ay(i)&&ly(i)}async function Rm(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const s=Bi(n);n.k_.add(3),await _a(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Iu(n)}async function cT(i,e){const n=we(i);e?(n.k_.delete(2),await Iu(n)):e||(n.k_.add(2),await _a(n),n.K_.set("Unknown"))}function Js(i){return i.W_||(i.W_=function(n,s,a){const u=we(n);return u.b_(),new G1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:eT.bind(null,i),mo:tT.bind(null,i),po:nT.bind(null,i),R_:rT.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),cf(i)?uf(i):i.K_.set("Unknown")):(await i.W_.stop(),sy(i))})),i.W_}function ti(i){return i.G_||(i.G_=function(n,s,a){const u=we(n);return u.b_(),new X1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:oT.bind(null,i),po:uT.bind(null,i),p_:aT.bind(null,i),y_:lT.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Ru(i)):(await i.G_.stop(),i.L_.length>0&&(se("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,m=new hf(e,n,h,a,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ff(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Ys(i))return new fe(Y.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{static emptySet(e){return new Us(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Jo(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Us;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.z_=new Ze(ge.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ve():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Hs{constructor(e,n,s,a,u,h,m,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Hs(e,n,Us.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class fT{constructor(){this.queries=Cm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=we(n),u=a.queries;a.queries=Cm(),u.forEach((h,m)=>{for(const g of m.J_)g.onError(s)})})(this,new fe(Y.ABORTED,"Firestore shutting down"))}}function Cm(){return new Ui(i=>kg(i),vu)}async function uy(i,e){const n=we(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.Y_()&&e.Z_()&&(s=2):(u=new hT,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(a,!0);break;case 1:u.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=ff(h,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&df(n)}async function cy(i,e){const n=we(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?a=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dT(i,e){const n=we(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const m of h.J_)m.ta(a)&&(s=!0);h.H_=a}}s&&df(n)}function pT(i,e,n){const s=we(i),a=s.queries.get(e);if(a)for(const u of a.J_)u.onError(n);s.queries.delete(e)}function df(i){i.X_.forEach(e=>{e.next()})}var Oh,Pm;(Pm=Oh||(Oh={})).na="default",Pm.Cache="cache";class hy{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Hs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Oh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.key=e}}class dy{constructor(e){this.key=e}}class mT{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ce(),this.mutatedKeys=Ce(),this.Va=xg(e),this.ma=new Us(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new Am,a=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const C=a.get(w),L=_u(this.query,R)?R:null,B=!!C&&this.mutatedKeys.has(C.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let U=!1;C&&L?C.data.isEqual(L.data)?B!==$&&(s.track({type:3,doc:L}),U=!0):this.ya(C,L)||(s.track({type:2,doc:L}),U=!0,(g&&this.Va(L,g)>0||v&&this.Va(L,v)<0)&&(m=!0)):!C&&L?(s.track({type:0,doc:L}),U=!0):C&&!L&&(s.track({type:1,doc:C}),U=!0,(g||v)&&(m=!0)),U&&(L?(h=h.add(L),u=$?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:m,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,R)=>function(L,B){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return $(L)-$(B)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,v=g!==this.Aa;return this.Aa=g,h.length!==0||v?{snapshot:new Hs(this.query,e.ma,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Am,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ce(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new dy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new fy(s))}),n}va(e){this.da=e.ds,this.Ra=Ce();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Hs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class gT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yT{constructor(e){this.key=e,this.Fa=!1}}class vT{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Ui(m=>kg(m),vu),this.Oa=new Map,this.Na=new Set,this.La=new Ze(ge.comparator),this.Ba=new Map,this.ka=new rf,this.qa={},this.Qa=new Map,this.Ka=qs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function _T(i,e,n=!0){const s=_y(i);let a;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Ca()):a=await py(s,e,n,!0),a}async function ET(i,e){const n=_y(i);await py(n,e,!0,!1)}async function py(i,e,n,s){const a=await j1(i.localStore,Hn(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await wT(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&ry(i.remoteStore,a),m}async function wT(i,e,n,s,a){i.Ua=(R,C,L)=>async function($,U,H,K){let ne=U.view.ga(H);ne.ss&&(ne=await Tm($.localStore,U.query,!1).then(({documents:x})=>U.view.ga(x,ne)));const ce=K&&K.targetChanges.get(U.targetId),Ae=K&&K.targetMismatches.get(U.targetId)!=null,Te=U.view.applyChanges(ne,$.isPrimaryClient,ce,Ae);return xm($,U.targetId,Te.ba),Te.snapshot}(i,R,C,L);const u=await Tm(i.localStore,e,!0),h=new mT(e,u.ds),m=h.ga(u.documents),g=va.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,g);xm(i,n,v.ba);const w=new gT(e,n,h);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function TT(i,e,n){const s=we(i),a=s.xa.get(e),u=s.Oa.get(a.targetId);if(u.length>1)return s.Oa.set(a.targetId,u.filter(h=>!vu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Lh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&af(s.remoteStore,a.targetId),Mh(s,a.targetId)}).catch(Xs)):(Mh(s,a.targetId),await Lh(s.localStore,a.targetId,!0))}async function ST(i,e){const n=we(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),af(n.remoteStore,s.targetId))}async function IT(i,e,n){const s=VT(i);try{const a=await function(h,m){const g=we(h),v=pt.now(),w=m.reduce((L,B)=>L.add(B.key),Ce());let R,C;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=_r(),$=Ce();return g.hs.getEntries(L,w).next(U=>{B=U,B.forEach((H,K)=>{K.isValidDocument()||($=$.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,B)).next(U=>{R=U;const H=[];for(const K of m){const ne=$w(K,R.get(K.key).overlayedDocument);ne!=null&&H.push(new zi(K.key,ne,Tg(ne.value.mapValue),gr.exists(!0)))}return g.mutationQueue.addMutationBatch(L,v,H,m)}).next(U=>{C=U;const H=U.applyToLocalDocumentSet(R,$);return g.documentOverlayCache.saveOverlays(L,U.batchId,H)})}).then(()=>({batchId:C.batchId,changes:Dg(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let v=h.qa[h.currentUser.toKey()];v||(v=new Ze(ke)),v=v.insert(m,g),h.qa[h.currentUser.toKey()]=v}(s,a.batchId,n),await Ea(s,a.changes),await Ru(s.remoteStore)}catch(a){const u=ff(a,"Failed to persist write");n.reject(u)}}async function my(i,e){const n=we(i);try{const s=await z1(n.localStore,e);e.targetChanges.forEach((a,u)=>{const h=n.Ba.get(u);h&&(Ue(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Fa=!0:a.modifiedDocuments.size>0?Ue(h.Fa):a.removedDocuments.size>0&&(Ue(h.Fa),h.Fa=!1))}),await Ea(n,s,e)}catch(s){await Xs(s)}}function km(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((u,h)=>{const m=h.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=we(h);g.onlineState=m;let v=!1;g.queries.forEach((w,R)=>{for(const C of R.J_)C.ea(m)&&(v=!0)}),v&&df(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function RT(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),u=a&&a.key;if(u){let h=new Ze(ge.comparator);h=h.insert(u,Ft.newNoDocument(u,_e.min()));const m=Ce().add(u),g=new Tu(_e.min(),new Map,new Ze(ke),h,m);await my(s,g),s.La=s.La.remove(u),s.Ba.delete(e),pf(s)}else await Lh(s.localStore,e,!1).then(()=>Mh(s,e,n)).catch(Xs)}async function AT(i,e){const n=we(i),s=e.batch.batchId;try{const a=await U1(n.localStore,e);yy(n,s,null),gy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ea(n,a)}catch(a){await Xs(a)}}async function CT(i,e,n){const s=we(i);try{const a=await function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,m).next(R=>(Ue(R!==null),w=R.keys(),g.mutationQueue.removeMutationBatch(v,R))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(s.localStore,e);yy(s,e,n),gy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ea(s,a)}catch(a){await Xs(a)}}function gy(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function yy(i,e,n){const s=we(i);let a=s.qa[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Mh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||vy(i,s)})}function vy(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(af(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),pf(i))}function xm(i,e,n){for(const s of n)s instanceof fy?(i.ka.addReference(s.key,e),PT(i,s)):s instanceof dy?(se("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||vy(i,s.key)):ve()}function PT(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(se("SyncEngine","New document in limbo: "+n),i.Na.add(s),pf(i))}function pf(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ge(Ge.fromString(e)),s=i.Ka.next();i.Ba.set(s,new yT(n)),i.La=i.La.insert(n,s),ry(i.remoteStore,new Wr(Hn(Jh(n.path)),s,"TargetPurposeLimboResolution",pu.oe))}}async function Ea(i,e,n){const s=we(i),a=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{h.push(s.Ua(g,e,n).then(v=>{var w;if((v||n)&&s.isPrimaryClient){const R=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(v){a.push(v);const R=of.zi(g.targetId,v);u.push(R)}}))}),await Promise.all(h),s.Ma.R_(a),await async function(g,v){const w=we(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>W.forEach(v,C=>W.forEach(C.Wi,L=>w.persistence.referenceDelegate.addReference(R,C.targetId,L)).next(()=>W.forEach(C.Gi,L=>w.persistence.referenceDelegate.removeReference(R,C.targetId,L)))))}catch(R){if(!Ys(R))throw R;se("LocalStore","Failed to update sequence numbers: "+R)}for(const R of v){const C=R.targetId;if(!R.fromCache){const L=w.us.get(C),B=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(B);w.us=w.us.insert(C,$)}}}(s.localStore,u))}async function kT(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const s=await Zg(n.localStore,e);n.currentUser=e,function(u,h){u.Qa.forEach(m=>{m.forEach(g=>{g.reject(new fe(Y.CANCELLED,h))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ea(n,s.Ts)}}function xT(i,e){const n=we(i),s=n.Ba.get(e);if(s&&s.Fa)return Ce().add(s.key);{let a=Ce();const u=n.Oa.get(e);if(!u)return a;for(const h of u){const m=n.xa.get(h);a=a.unionWith(m.view.fa)}return a}}function _y(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=my.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RT.bind(null,e),e.Ma.R_=dT.bind(null,e.eventManager),e.Ma.Wa=pT.bind(null,e.eventManager),e}function VT(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CT.bind(null,e),e}class cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return F1(this.persistence,new O1,e.initialUser,this.serializer)}ja(e){return new Jg(sf.ei,this.serializer)}za(e){return new q1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cu.provider={build:()=>new cu};class DT extends cu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ue(this.persistence.referenceDelegate instanceof lu);const s=this.persistence.referenceDelegate.garbageCollector;return new E1(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Jg(s=>lu.ei(s,n),this.serializer)}}class Fh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>km(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kT.bind(null,this.syncEngine),await cT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fT}()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),s=function(u){return new K1(u)}(e.databaseInfo);return function(u,h,m,g){return new Y1(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,h,m){return new Z1(s,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>km(this.syncEngine,n,0),function(){return Im.p()?new Im:new H1}())}createSyncEngine(e,n){return function(a,u,h,m,g,v,w){const R=new vT(a,u,h,m,g,v);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=we(a);se("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await _a(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fh.provider={build:()=>new Fh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{se("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(se("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ff(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function mh(i,e){i.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Zg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Vm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await LT(i);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Rm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Rm(e.remoteStore,a)),i._onlineComponents=e}async function LT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await mh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===Y.FAILED_PRECONDITION||a.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await mh(i,new cu)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await mh(i,new DT(void 0));return i._offlineComponents}async function wy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await Vm(i,i._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await Vm(i,new Fh))),i._onlineComponents}function OT(i){return wy(i).then(e=>e.syncEngine)}async function Ty(i){const e=await wy(i),n=e.eventManager;return n.onListen=_T.bind(null,e.syncEngine),n.onUnlisten=TT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ET.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ST.bind(null,e.syncEngine),n}function MT(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,v){const w=new Ey({next:C=>{w.eu(),h.enqueueAndForget(()=>cy(u,R));const L=C.docs.has(m);!L&&C.fromCache?v.reject(new fe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&C.fromCache&&g&&g.source==="server"?v.reject(new fe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),R=new hy(Jh(m.path),w,{includeMetadataChanges:!0,ua:!0});return uy(u,R)}(await Ty(i),i.asyncQueue,e,n,s)),s.promise}function FT(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,v){const w=new Ey({next:C=>{w.eu(),h.enqueueAndForget(()=>cy(u,R)),C.fromCache&&g.source==="server"?v.reject(new fe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),R=new hy(m,w,{includeMetadataChanges:!0,ua:!0});return uy(u,R)}(await Ty(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(i,e,n){if(!n)throw new fe(Y.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function UT(i,e,n,s){if(e===!0&&s===!0)throw new fe(Y.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Nm(i){if(!ge.isDocumentKey(i))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Lm(i){if(ge.isDocumentKey(i))throw new fe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function mf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve()}function Li(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(i);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Au{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new GE;switch(s.type){case"firstParty":return new ZE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Dm.get(n);s&&(se("ComponentProvider","Removing Datastore"),Dm.delete(n),s.terminate())}(this),Promise.resolve()}}function zT(i,e,n,s={}){var a;const u=(i=Li(i,Au))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Mt.MOCK_USER;else{m=x0(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new fe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Mt(v)}i._authCredentials=new XE(new vg(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cu(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Gr extends Cu{constructor(e,n,s){super(e,n,Jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new ge(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function BT(i,e,...n){if(i=sa(i),Iy("collection","path",e),i instanceof Au){const s=Ge.fromString(e,...n);return Lm(s),new Gr(i,null,s)}{if(!(i instanceof sn||i instanceof Gr))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return Lm(s),new Gr(i.firestore,null,s)}}function bT(i,e,...n){if(i=sa(i),arguments.length===1&&(e=_g.newId()),Iy("doc","path",e),i instanceof Au){const s=Ge.fromString(e,...n);return Nm(s),new sn(i,null,new ge(s))}{if(!(i instanceof sn||i instanceof Gr))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return Nm(s),new sn(i.firestore,i instanceof Gr?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ty(this,"async_queue_retry"),this.fu=()=>{const s=ph();s&&se("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new mr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ys(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw vr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=hf.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.du.push(a),a}pu(){this.Au&&ve()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Pu extends Au{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Mm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mm(e),this._firestoreClient=void 0,await e}}}function jT(i,e){const n=typeof i=="object"?i:zE(),s=typeof i=="string"?i:"(default)",a=OE(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=P0("firestore");u&&zT(a,...u)}return a}function gf(i){if(i._terminated)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$T(i),i._firestoreClient}function $T(i){var e,n,s;const a=i._freezeSettings(),u=function(m,g,v,w){return new pw(m,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Sy(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new NT(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(Pt.fromBase64String(e))}catch(n){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=/^__.*__$/;class HT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ya(e,this.data,n,this.fieldTransforms)}}function Ay(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Ef{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return hu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Ay(this.Mu)&&qT.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class WT{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Su(e)}$u(e,n,s,a=!1){return new Ef({Mu:e,methodName:n,Ku:s,path:Ct.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QT(i){const e=i._freezeSettings(),n=Su(i._databaseId);return new WT(i._databaseId,!!e.ignoreUndefinedProperties,n)}function KT(i,e,n,s,a,u={}){const h=i.$u(u.merge||u.mergeFields?2:0,e,n,a);xy("Data must be an object, but it was:",h,s);const m=Py(s,h);let g,v;if(u.merge)g=new Dn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const R of u.mergeFields){const C=GT(e,R,n);if(!h.contains(C))throw new fe(Y.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);YT(w,C)||w.push(C)}g=new Dn(w),v=h.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,v=h.fieldTransforms;return new HT(new gn(m),g,v)}function Cy(i,e){if(ky(i=sa(i)))return xy("Unsupported field value:",e,i),Py(i,e);if(i instanceof Ry)return function(s,a){if(!Ay(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const u=[];let h=0;for(const m of s){let g=Cy(m,a.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,a){if((s=sa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Fw(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:au(a.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:au(a.serializer,u)}}if(s instanceof vf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:Hg(a.serializer,s._byteString)};if(s instanceof sn){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:nf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof _f)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return Zh(m.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${mf(s)}`)}(i,e)}function Py(i,e){const n={};return Eg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(i,(s,a)=>{const u=Cy(a,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function ky(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof vf||i instanceof Ws||i instanceof sn||i instanceof Ry||i instanceof _f)}function xy(i,e,n){if(!ky(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=mf(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function GT(i,e,n){if((e=sa(e))instanceof yf)return e._internalPath;if(typeof e=="string")return Vy(i,e);throw hu("Field path arguments must be of type string or ",i,!1,void 0,n)}const XT=new RegExp("[~\\*/\\[\\]]");function Vy(i,e,n){if(e.search(XT)>=0)throw hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new yf(...e.split("."))._internalPath}catch{throw hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function hu(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new fe(Y.INVALID_ARGUMENT,m+i+g)}function YT(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ny("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JT extends Dy{data(){return super.data()}}function Ny(i,e){return typeof e=="string"?Vy(i,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eS{convertValue(e,n="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Fi(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>it(h.doubleValue));return new _f(u)}convertGeoPoint(e){return new vf(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ge.fromString(e);Ue(Yg(s));const a=new ca(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return a.isEqual(n)||vr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ly extends Dy{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ny("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Xl extends Ly{data(e={}){return super.data(e)}}class nS{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ea(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Xl(this._firestore,this._userDataWriter,s.key,s,new ea(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new Xl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ea(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Xl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ea(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:rS(m.type),doc:g,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(i){i=Li(i,sn);const e=Li(i.firestore,Pu);return MT(gf(e),i._key).then(n=>lS(e,i,n))}class Oy extends eS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function sS(i){i=Li(i,Cu);const e=Li(i.firestore,Pu),n=gf(e),s=new Oy(e);return ZT(i._query),FT(n,i._query).then(a=>new nS(e,s,i,a))}function oS(i,e,n){i=Li(i,sn);const s=Li(i.firestore,Pu),a=tS(i.converter,e);return aS(s,[KT(QT(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,gr.none())])}function aS(i,e){return function(s,a){const u=new mr;return s.asyncQueue.enqueueAndForget(async()=>IT(await OT(s),a,u)),u.promise}(gf(i),e)}function lS(i,e,n){const s=n.docs.get(e._key),a=new Oy(i);return new Ly(i,a,e._key,s,new ea(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Gs=a})(UE),tu(new oa("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Pu(new YE(s.getProvider("auth-internal")),new tw(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(v.options.projectId,w)}(h,a),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Fs(Zp,"4.7.5",e),Fs(Zp,"4.7.5","esm2017")})();var uS="firebase",cS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(uS,cS,"app");const hS={apiKey:"AIzaSyAKiEZ0rPXepLno0DdvcSeLd2DtneU_OeA",authDomain:"quizgame-92fd9.firebaseapp.com",projectId:"quizgame-92fd9",storageBucket:"quizgame-92fd9.firebasestorage.app",messagingSenderId:"543542501286",appId:"1:543542501286:web:eea2ed7581030976f2b967"},fS=ug(hS),My=jT(fS);function dS(){const[i,e]=q.useState(""),[n,s]=q.useState(""),a=Bh(),u=async()=>{if(i=="MCA"&n=="MCA")return a("/quiz"),!0;if(i.endsWith("@spsu.ac.in")==!0&n!=""){const h=i,m=bT(My,"users",h),g=await iS(m);g.exists()?g.data().password==n?a("/quiz"):alert("Worng password."):(await oS(m,{email:h,password:n}),console.log("User Created."),u())}else alert("Worng Input Email")};return Ee.jsx(Ee.Fragment,{children:Ee.jsx("div",{id:"main-login",className:"container d-flex justify-content-center align-items-center",children:Ee.jsxs("div",{className:"container bg-light w-25 p-4 justify-content-center align-items-center rounded-3 shadow-lg",children:[Ee.jsx("div",{className:"d-flex justify-content-center mb-3",children:Ee.jsx("img",{id:"appimg",src:v0})}),Ee.jsx("input",{type:"email",className:"form-control my-2",placeholder:"email",value:i,onChange:h=>e(h.target.value)}),Ee.jsx("input",{type:"password",className:"form-control my-2",placeholder:"Password",value:n,onChange:h=>s(h.target.value)}),Ee.jsx("button",{type:"submit",onClick:u,className:"btn btn-primary my-2 w-100",children:"Login / SignUp"}),Ee.jsx("div",{className:"d-flex justify-content-center m-0 mt-1 text-center",children:Ee.jsx("p",{className:"text-secondary m-0",children:'Only SPSU mail allowed but type "MCA" and "MCA" for hacking.....'})})]})})})}function pS(){const[i,e]=q.useState(0),[n,s]=q.useState([]),[a,u]=q.useState(0),[h,m]=q.useState(!1),[g,v]=q.useState(null),w=Bh();q.useEffect(()=>{async function U(){try{const ne=(await sS(BT(My,"quiz_questions"))).docs.map(ce=>ce.data()).sort(()=>Math.random()-.5).slice(0,7);s(ne)}catch(H){console.error("Error fetching questions from Firestore:",H),s([])}}U()},[]);const R=()=>{g?(g===n[a].correct_answer&&e(i+100),v(null),a+1<n.length?u(a+1):m(!0)):alert("Please select an option.")},C=()=>{u(0),e(0),m(!1)},L=U=>{const H=document.createElement("textarea");return H.innerHTML=U,H.value},B=()=>{if(n.length===0||!n[a])return Ee.jsx("p",{children:"Error loading questions or no questions available."});const U=n[a],H=[...U.incorrect_answers,U.correct_answer];return H.sort(),Ee.jsxs("div",{className:"quiz-container",children:[Ee.jsx("h3",{className:"mb-4",children:`Question ${a+1} of ${n.length}`}),Ee.jsx("p",{className:"question fs-5 fw-bold",children:L(U.question)}),Ee.jsx("div",{className:"btn-group-vertical w-100 mt-3 gap-2",role:"group",children:H.map((K,ne)=>Ee.jsxs("label",{className:`btn btn-outline-primary text-start ${g===K?"active":""}`,onClick:()=>v(K),children:[Ee.jsx("input",{type:"radio",id:`answer-${ne}`,name:"answer",value:K,checked:g===K,onChange:()=>v(K),style:{display:"none"}}),L(K)]},ne))}),Ee.jsx("button",{className:"btn btn-primary mt-4",onClick:R,disabled:!g,children:a+1<n.length?"Next":"Submit"})]})},$=()=>Ee.jsxs("div",{className:"quiz-container",children:[Ee.jsx("h2",{children:"Quiz Completed!"}),Ee.jsxs("p",{children:["Your Score: ",i," / ",n.length*100]}),Ee.jsxs("div",{className:"d-flex gap-2",children:[Ee.jsx("button",{className:"btn btn-secondary",onClick:C,children:"Restart Quiz"}),Ee.jsx("button",{className:"btn btn-secondary",onClick:()=>w("/"),children:"Back to Home"})]})]});return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx("div",{id:"score",className:"position-absolute",children:Ee.jsxs("div",{className:"input-group",children:[Ee.jsx("div",{className:"input-group-text",children:"Score"}),Ee.jsx("p",{className:"form-control m-0 w-auto",children:i})]})}),Ee.jsx("div",{id:"main-area",className:"container d-flex justify-content-center align-items-center",children:Ee.jsx("div",{id:"QuizArea",className:"container bg-light d-flex shadow-lg rounded-2 p-3",children:n.length===0?Ee.jsx("p",{children:"Loading..."}):h?$():B()})})]})}function Fm(){return Ee.jsxs(F_,{children:[Ee.jsx(gh,{path:"/",element:Ee.jsx(dS,{})}),Ee.jsx(gh,{path:"/quiz",element:Ee.jsx(pS,{})})]})}const mS=window.location.hostname==="your-username.github.io";Kv.createRoot(document.getElementById("root")).render(Ee.jsx(q.StrictMode,{children:mS?Ee.jsxs(l0,{children:["  ",Ee.jsx(Fm,{})]}):Ee.jsxs(a0,{children:["  ",Ee.jsx(Fm,{})]})}));
